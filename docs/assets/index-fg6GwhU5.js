(function(){const ye=document.createElement("link").relList;if(ye&&ye.supports&&ye.supports("modulepreload"))return;for(const R of document.querySelectorAll('link[rel="modulepreload"]'))v(R);new MutationObserver(R=>{for(const ce of R)if(ce.type==="childList")for(const $e of ce.addedNodes)$e.tagName==="LINK"&&$e.rel==="modulepreload"&&v($e)}).observe(document,{childList:!0,subtree:!0});function ke(R){const ce={};return R.integrity&&(ce.integrity=R.integrity),R.referrerPolicy&&(ce.referrerPolicy=R.referrerPolicy),R.crossOrigin==="use-credentials"?ce.credentials="include":R.crossOrigin==="anonymous"?ce.credentials="omit":ce.credentials="same-origin",ce}function v(R){if(R.ep)return;R.ep=!0;const ce=ke(R);fetch(R.href,ce)}})();var uo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qd(be){return be&&be.__esModule&&Object.prototype.hasOwnProperty.call(be,"default")?be.default:be}var Qc={exports:{}};(function(be,ye){(function(ke,v){be.exports=v()})(uo,function(){var ke=function(n,r){return(ke=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,c){i.__proto__=c}||function(i,c){for(var s in c)Object.prototype.hasOwnProperty.call(c,s)&&(i[s]=c[s])})(n,r)},v=function(){return(v=Object.assign||function(n){for(var r,i=1,c=arguments.length;i<c;i++)for(var s in r=arguments[i])Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s]);return n}).apply(this,arguments)};function R(n,r,i){for(var c,s=0,l=r.length;s<l;s++)!c&&s in r||((c=c||Array.prototype.slice.call(r,0,s))[s]=r[s]);return n.concat(c||Array.prototype.slice.call(r))}var ce=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:uo,$e=Object.keys,Oe=Array.isArray;function a(n,r){return typeof r!="object"||$e(r).forEach(function(i){n[i]=r[i]}),n}typeof Promise>"u"||ce.Promise||(ce.Promise=Promise);var T=Object.getPrototypeOf,Xe={}.hasOwnProperty;function X(n,r){return Xe.call(n,r)}function Et(n,r){typeof r=="function"&&(r=r(T(n))),(typeof Reflect>"u"?$e:Reflect.ownKeys)(r).forEach(function(i){ue(n,i,r[i])})}var fe=Object.defineProperty;function ue(n,r,i,c){fe(n,r,a(i&&X(i,"get")&&typeof i.get=="function"?{get:i.get,set:i.set,configurable:!0}:{value:i,configurable:!0,writable:!0},c))}function ge(n){return{from:function(r){return n.prototype=Object.create(r.prototype),ue(n.prototype,"constructor",n),{extend:Et.bind(null,n.prototype)}}}}var ht=Object.getOwnPropertyDescriptor,C=[].slice;function Y(n,r,i){return C.call(n,r,i)}function Ie(n,r){return r(n)}function D(n){if(!n)throw new Error("Assertion Failed")}function Me(n){ce.setImmediate?setImmediate(n):setTimeout(n,0)}function Ue(n,r){if(typeof r=="string"&&X(n,r))return n[r];if(!r)return n;if(typeof r!="string"){for(var i=[],c=0,s=r.length;c<s;++c){var l=Ue(n,r[c]);i.push(l)}return i}var h=r.indexOf(".");if(h!==-1){var b=n[r.substr(0,h)];return b==null?void 0:Ue(b,r.substr(h+1))}}function g(n,r,i){if(n&&r!==void 0&&!("isFrozen"in Object&&Object.isFrozen(n)))if(typeof r!="string"&&"length"in r){D(typeof i!="string"&&"length"in i);for(var c=0,s=r.length;c<s;++c)g(n,r[c],i[c])}else{var l,h,b=r.indexOf(".");b!==-1?(l=r.substr(0,b),(h=r.substr(b+1))===""?i===void 0?Oe(n)&&!isNaN(parseInt(l))?n.splice(l,1):delete n[l]:n[l]=i:g(b=!(b=n[l])||!X(n,l)?n[l]={}:b,h,i)):i===void 0?Oe(n)&&!isNaN(parseInt(r))?n.splice(r,1):delete n[r]:n[r]=i}}function Rt(n){var r,i={};for(r in n)X(n,r)&&(i[r]=n[r]);return i}var st=[].concat;function fn(n){return st.apply([],n)}var hn="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(fn([8,16,32,64].map(function(n){return["Int","Uint","Float"].map(function(r){return r+n+"Array"})}))).filter(function(n){return ce[n]}),Qn=new Set(hn.map(function(n){return ce[n]})),Xn=null;function pt(n){return Xn=new WeakMap,n=function r(i){if(!i||typeof i!="object")return i;var c=Xn.get(i);if(c)return c;if(Oe(i)){c=[],Xn.set(i,c);for(var s=0,l=i.length;s<l;++s)c.push(r(i[s]))}else if(Qn.has(i.constructor))c=i;else{var h,b=T(i);for(h in c=b===Object.prototype?{}:Object.create(b),Xn.set(i,c),i)X(i,h)&&(c[h]=r(i[h]))}return c}(n),Xn=null,n}var ai={}.toString;function $a(n){return ai.call(n).slice(8,-1)}var qr=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ui=typeof qr=="symbol"?function(n){var r;return n!=null&&(r=n[qr])&&r.apply(n)}:function(){return null};function ln(n,r){return r=n.indexOf(r),0<=r&&n.splice(r,1),0<=r}var Sn={};function Bt(n){var r,i,c,s;if(arguments.length===1){if(Oe(n))return n.slice();if(this===Sn&&typeof n=="string")return[n];if(s=ui(n)){for(i=[];!(c=s.next()).done;)i.push(c.value);return i}if(n==null)return[n];if(typeof(r=n.length)!="number")return[n];for(i=new Array(r);r--;)i[r]=n[r];return i}for(r=arguments.length,i=new Array(r);r--;)i[r]=arguments[r];return i}var xa=typeof Symbol<"u"?function(n){return n[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Ht=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Ge=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Ht),ii={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function An(n,r){this.name=n,this.message=r}function cu(n,r){return n+". Errors: "+Object.keys(r).map(function(i){return r[i].toString()}).filter(function(i,c,s){return s.indexOf(i)===c}).join(`
`)}function Zn(n,r,i,c){this.failures=r,this.failedKeys=c,this.successCount=i,this.message=cu(n,r)}function Pt(n,r){this.name="BulkError",this.failures=Object.keys(r).map(function(i){return r[i]}),this.failuresByPos=r,this.message=cu(n,this.failures)}ge(An).from(Error).extend({toString:function(){return this.name+": "+this.message}}),ge(Zn).from(An),ge(Pt).from(An);var Oa=Ge.reduce(function(n,r){return n[r]=r+"Error",n},{}),oi=An,ee=Ge.reduce(function(n,r){var i=r+"Error";function c(s,l){this.name=i,s?typeof s=="string"?(this.message="".concat(s).concat(l?`
 `+l:""),this.inner=l||null):typeof s=="object"&&(this.message="".concat(s.name," ").concat(s.message),this.inner=s):(this.message=ii[r]||i,this.inner=null)}return ge(c).from(oi),n[r]=c,n},{});ee.Syntax=SyntaxError,ee.Type=TypeError,ee.Range=RangeError;var su=Ht.reduce(function(n,r){return n[r+"Error"]=ee[r],n},{}),Tr=Ge.reduce(function(n,r){return["Syntax","Type","Range"].indexOf(r)===-1&&(n[r+"Error"]=ee[r]),n},{});function Ee(){}function jt(n){return n}function ci(n,r){return n==null||n===jt?r:function(i){return r(n(i))}}function dn(n,r){return function(){n.apply(this,arguments),r.apply(this,arguments)}}function si(n,r){return n===Ee?r:function(){var i=n.apply(this,arguments);i!==void 0&&(arguments[0]=i);var c=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var l=r.apply(this,arguments);return c&&(this.onsuccess=this.onsuccess?dn(c,this.onsuccess):c),s&&(this.onerror=this.onerror?dn(s,this.onerror):s),l!==void 0?l:i}}function fi(n,r){return n===Ee?r:function(){n.apply(this,arguments);var i=this.onsuccess,c=this.onerror;this.onsuccess=this.onerror=null,r.apply(this,arguments),i&&(this.onsuccess=this.onsuccess?dn(i,this.onsuccess):i),c&&(this.onerror=this.onerror?dn(c,this.onerror):c)}}function li(n,r){return n===Ee?r:function(i){var c=n.apply(this,arguments);a(i,c);var s=this.onsuccess,l=this.onerror;return this.onsuccess=null,this.onerror=null,i=r.apply(this,arguments),s&&(this.onsuccess=this.onsuccess?dn(s,this.onsuccess):s),l&&(this.onerror=this.onerror?dn(l,this.onerror):l),c===void 0?i===void 0?void 0:i:a(c,i)}}function di(n,r){return n===Ee?r:function(){return r.apply(this,arguments)!==!1&&n.apply(this,arguments)}}function Ea(n,r){return n===Ee?r:function(){var i=n.apply(this,arguments);if(i&&typeof i.then=="function"){for(var c=this,s=arguments.length,l=new Array(s);s--;)l[s]=arguments[s];return i.then(function(){return r.apply(c,l)})}return r.apply(this,arguments)}}Tr.ModifyError=Zn,Tr.DexieError=An,Tr.BulkError=Pt;var St=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Ir(n){St=n}var it={},Pa=100,hn=typeof Promise>"u"?[]:function(){var n=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[n,T(n),n];var r=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[r,T(r),n]}(),Ht=hn[0],Ge=hn[1],hn=hn[2],Ge=Ge&&Ge.then,Ye=Ht&&Ht.constructor,Qt=!!hn,Kn=function(n,r){er.push([n,r]),pn&&(queueMicrotask(At),pn=!1)},ja=!0,pn=!0,Xt=[],mt=[],Dr=jt,Fe={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ee,pgp:!1,env:{},finalize:Ee},Q=Fe,er=[],vn=0,bn=[];function V(n){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var r=this._PSD=Q;if(typeof n!="function"){if(n!==it)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Br(this,this._value))}this._state=null,this._value=null,++r.ref,function i(c,s){try{s(function(l){if(c._state===null){if(l===c)throw new TypeError("A promise cannot be resolved with itself.");var h=c._lib&&Cn();l&&typeof l.then=="function"?i(c,function(b,_){l instanceof V?l._then(b,_):l.then(b,_)}):(c._state=!0,c._value=l,Mr(c)),h&&qn()}},Br.bind(null,c))}catch(l){Br(c,l)}}(this,n)}var Sa={get:function(){var n=Q,r=Nr;function i(c,s){var l=this,h=!n.global&&(n!==Q||r!==Nr),b=h&&!rt(),_=new V(function($,O){Aa(l,new Rr(lu(c,n,h,b),lu(s,n,h,b),$,O,n))});return this._consoleTask&&(_._consoleTask=this._consoleTask),_}return i.prototype=it,i},set:function(n){ue(this,"then",n&&n.prototype===it?Sa:{get:function(){return n},set:Sa.set})}};function Rr(n,r,i,c,s){this.onFulfilled=typeof n=="function"?n:null,this.onRejected=typeof r=="function"?r:null,this.resolve=i,this.reject=c,this.psd=s}function Br(n,r){var i,c;mt.push(r),n._state===null&&(i=n._lib&&Cn(),r=Dr(r),n._state=!1,n._value=r,c=n,Xt.some(function(s){return s._value===c._value})||Xt.push(c),Mr(n),i&&qn())}function Mr(n){var r=n._listeners;n._listeners=[];for(var i=0,c=r.length;i<c;++i)Aa(n,r[i]);var s=n._PSD;--s.ref||s.finalize(),vn===0&&(++vn,Kn(function(){--vn==0&&Ka()},[]))}function Aa(n,r){if(n._state!==null){var i=n._state?r.onFulfilled:r.onRejected;if(i===null)return(n._state?r.resolve:r.reject)(n._value);++r.psd.ref,++vn,Kn(hi,[i,n,r])}else n._listeners.push(r)}function hi(n,r,i){try{var c,s=r._value;!r._state&&mt.length&&(mt=[]),c=St&&r._consoleTask?r._consoleTask.run(function(){return n(s)}):n(s),r._state||mt.indexOf(s)!==-1||function(l){for(var h=Xt.length;h;)if(Xt[--h]._value===l._value)return Xt.splice(h,1)}(r),i.resolve(c)}catch(l){i.reject(l)}finally{--vn==0&&Ka(),--i.psd.ref||i.psd.finalize()}}function At(){mn(Fe,function(){Cn()&&qn()})}function Cn(){var n=ja;return pn=ja=!1,n}function qn(){var n,r,i;do for(;0<er.length;)for(n=er,er=[],i=n.length,r=0;r<i;++r){var c=n[r];c[0].apply(null,c[1])}while(0<er.length);pn=ja=!0}function Ka(){var n=Xt;Xt=[],n.forEach(function(c){c._PSD.onunhandled.call(null,c._value,c)});for(var r=bn.slice(0),i=r.length;i;)r[--i]()}function tr(n){return new V(it,!1,n)}function Pe(n,r){var i=Q;return function(){var c=Cn(),s=Q;try{return Mt(i,!0),n.apply(this,arguments)}catch(l){r&&r(l)}finally{Mt(s,!1),c&&qn()}}}Et(V.prototype,{then:Sa,_then:function(n,r){Aa(this,new Rr(null,null,n,r,Q))},catch:function(n){if(arguments.length===1)return this.then(null,n);var r=n,i=arguments[1];return typeof r=="function"?this.then(null,function(c){return(c instanceof r?i:tr)(c)}):this.then(null,function(c){return(c&&c.name===r?i:tr)(c)})},finally:function(n){return this.then(function(r){return V.resolve(n()).then(function(){return r})},function(r){return V.resolve(n()).then(function(){return tr(r)})})},timeout:function(n,r){var i=this;return n<1/0?new V(function(c,s){var l=setTimeout(function(){return s(new ee.Timeout(r))},n);i.then(c,s).finally(clearTimeout.bind(null,l))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&ue(V.prototype,Symbol.toStringTag,"Dexie.Promise"),Fe.env=De(),Et(V,{all:function(){var n=Bt.apply(null,arguments).map(Rn);return new V(function(r,i){n.length===0&&r([]);var c=n.length;n.forEach(function(s,l){return V.resolve(s).then(function(h){n[l]=h,--c||r(n)},i)})})},resolve:function(n){return n instanceof V?n:n&&typeof n.then=="function"?new V(function(r,i){n.then(r,i)}):new V(it,!0,n)},reject:tr,race:function(){var n=Bt.apply(null,arguments).map(Rn);return new V(function(r,i){n.map(function(c){return V.resolve(c).then(r,i)})})},PSD:{get:function(){return Q},set:function(n){return Q=n}},totalEchoes:{get:function(){return Nr}},newPSD:wt,usePSD:mn,scheduler:{get:function(){return Kn},set:function(n){Kn=n}},rejectionMapper:{get:function(){return Dr},set:function(n){Dr=n}},follow:function(n,r){return new V(function(i,c){return wt(function(s,l){var h=Q;h.unhandleds=[],h.onunhandled=l,h.finalize=dn(function(){var b,_=this;b=function(){_.unhandleds.length===0?s():l(_.unhandleds[0])},bn.push(function $(){b(),bn.splice(bn.indexOf($),1)}),++vn,Kn(function(){--vn==0&&Ka()},[])},h.finalize),n()},r,i,c)})}}),Ye&&(Ye.allSettled&&ue(V,"allSettled",function(){var n=Bt.apply(null,arguments).map(Rn);return new V(function(r){n.length===0&&r([]);var i=n.length,c=new Array(i);n.forEach(function(s,l){return V.resolve(s).then(function(h){return c[l]={status:"fulfilled",value:h}},function(h){return c[l]={status:"rejected",reason:h}}).then(function(){return--i||r(c)})})})}),Ye.any&&typeof AggregateError<"u"&&ue(V,"any",function(){var n=Bt.apply(null,arguments).map(Rn);return new V(function(r,i){n.length===0&&i(new AggregateError([]));var c=n.length,s=new Array(c);n.forEach(function(l,h){return V.resolve(l).then(function(b){return r(b)},function(b){s[h]=b,--c||i(new AggregateError(s))})})})}),Ye.withResolvers&&(V.withResolvers=Ye.withResolvers));var ze={awaits:0,echoes:0,id:0},fu=0,Tn=[],In=0,Nr=0,Fr=0;function wt(n,r,i,c){var s=Q,l=Object.create(s);return l.parent=s,l.ref=0,l.global=!1,l.id=++Fr,Fe.env,l.env=Qt?{Promise:V,PromiseProp:{value:V,configurable:!0,writable:!0},all:V.all,race:V.race,allSettled:V.allSettled,any:V.any,resolve:V.resolve,reject:V.reject}:{},r&&a(l,r),++s.ref,l.finalize=function(){--this.parent.ref||this.parent.finalize()},c=mn(l,n,i,c),l.ref===0&&l.finalize(),c}function Dn(){return ze.id||(ze.id=++fu),++ze.awaits,ze.echoes+=Pa,ze.id}function rt(){return!!ze.awaits&&(--ze.awaits==0&&(ze.id=0),ze.echoes=ze.awaits*Pa,!0)}function Rn(n){return ze.echoes&&n&&n.constructor===Ye?(Dn(),n.then(function(r){return rt(),r},function(r){return rt(),Ne(r)})):n}function Ca(){var n=Tn[Tn.length-1];Tn.pop(),Mt(n,!1)}function Mt(n,r){var i,c=Q;(r?!ze.echoes||In++&&n===Q:!In||--In&&n===Q)||queueMicrotask(r?(function(s){++Nr,ze.echoes&&--ze.echoes!=0||(ze.echoes=ze.awaits=ze.id=0),Tn.push(Q),Mt(s,!0)}).bind(null,n):Ca),n!==Q&&(Q=n,c===Fe&&(Fe.env=De()),Qt&&(i=Fe.env.Promise,r=n.env,(c.global||n.global)&&(Object.defineProperty(ce,"Promise",r.PromiseProp),i.all=r.all,i.race=r.race,i.resolve=r.resolve,i.reject=r.reject,r.allSettled&&(i.allSettled=r.allSettled),r.any&&(i.any=r.any))))}function De(){var n=ce.Promise;return Qt?{Promise:n,PromiseProp:Object.getOwnPropertyDescriptor(ce,"Promise"),all:n.all,race:n.race,allSettled:n.allSettled,any:n.any,resolve:n.resolve,reject:n.reject}:{}}function mn(n,r,i,c,s){var l=Q;try{return Mt(n,!0),r(i,c,s)}finally{Mt(l,!1)}}function lu(n,r,i,c){return typeof n!="function"?n:function(){var s=Q;i&&Dn(),Mt(r,!0);try{return n.apply(this,arguments)}finally{Mt(s,!1),c&&queueMicrotask(rt)}}}function Lr(n){Promise===Ye&&ze.echoes===0?In===0?n():enqueueNativeMicroTask(n):setTimeout(n,0)}(""+Ge).indexOf("[native code]")===-1&&(Dn=rt=Ee);var Ne=V.reject,yn="ï¿¿",_t="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",at="String expected.",Bn=[],Ur="__dbnames",qa="readonly",nr="readwrite";function Zt(n,r){return n?r?function(){return n.apply(this,arguments)&&r.apply(this,arguments)}:n:r}var Ta={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function rr(n){return typeof n!="string"||/\./.test(n)?function(r){return r}:function(r){return r[n]===void 0&&n in r&&delete(r=pt(r))[n],r}}function en(){throw ee.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function pe(n,r){try{var i=du(n),c=du(r);if(i!==c)return i==="Array"?1:c==="Array"?-1:i==="binary"?1:c==="binary"?-1:i==="string"?1:c==="string"?-1:i==="Date"?1:c!=="Date"?NaN:-1;switch(i){case"number":case"Date":case"string":return r<n?1:n<r?-1:0;case"binary":return function(s,l){for(var h=s.length,b=l.length,_=h<b?h:b,$=0;$<_;++$)if(s[$]!==l[$])return s[$]<l[$]?-1:1;return h===b?0:h<b?-1:1}(hu(n),hu(r));case"Array":return function(s,l){for(var h=s.length,b=l.length,_=h<b?h:b,$=0;$<_;++$){var O=pe(s[$],l[$]);if(O!==0)return O}return h===b?0:h<b?-1:1}(n,r)}}catch{}return NaN}function du(n){var r=typeof n;return r!="object"?r:ArrayBuffer.isView(n)?"binary":(n=$a(n),n==="ArrayBuffer"?"binary":n)}function hu(n){return n instanceof Uint8Array?n:ArrayBuffer.isView(n)?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):new Uint8Array(n)}function zr(n,r,i){var c=n.schema.yProps;return c?(r&&0<i.numFailures&&(r=r.filter(function(s,l){return!i.failures[l]})),Promise.all(c.map(function(s){return s=s.updatesTable,r?n.db.table(s).where("k").anyOf(r).delete():n.db.table(s).clear()})).then(function(){return i})):i}var ar=(pu.prototype.execute=function(n){var r=this["@@propmod"];if(r.add!==void 0){var i=r.add;if(Oe(i))return R(R([],Oe(n)?n:[],!0),i).sort();if(typeof i=="number")return(Number(n)||0)+i;if(typeof i=="bigint")try{return BigInt(n)+i}catch{return BigInt(0)+i}throw new TypeError("Invalid term ".concat(i))}if(r.remove!==void 0){var c=r.remove;if(Oe(c))return Oe(n)?n.filter(function(s){return!c.includes(s)}).sort():[];if(typeof c=="number")return Number(n)-c;if(typeof c=="bigint")try{return BigInt(n)-c}catch{return BigInt(0)-c}throw new TypeError("Invalid subtrahend ".concat(c))}return i=(i=r.replacePrefix)===null||i===void 0?void 0:i[0],i&&typeof n=="string"&&n.startsWith(i)?r.replacePrefix[1]+n.substring(i.length):n},pu);function pu(n){this["@@propmod"]=n}function vu(n,r){for(var i=$e(r),c=i.length,s=!1,l=0;l<c;++l){var h=i[l],b=r[h],_=Ue(n,h);b instanceof ar?(g(n,h,b.execute(_)),s=!0):_!==b&&(g(n,h,b),s=!0)}return s}var ut=(me.prototype._trans=function(n,r,i){var c=this._tx||Q.trans,s=this.name,l=St&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(n==="readonly"?"read":"write"," ").concat(this.name));function h($,O,m){if(!m.schema[s])throw new ee.NotFound("Table "+s+" not part of transaction");return r(m.idbtrans,m)}var b=Cn();try{var _=c&&c.db._novip===this.db._novip?c===Q.trans?c._promise(n,h,i):wt(function(){return c._promise(n,h,i)},{trans:c,transless:Q.transless||Q}):function $(O,m,E,x){if(O.idbdb&&(O._state.openComplete||Q.letThrough||O._vip)){var y=O._createTransaction(m,E,O._dbSchema);try{y.create(),O._state.PR1398_maxLoop=3}catch(k){return k.name===Oa.InvalidState&&O.isOpen()&&0<--O._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),O.close({disableAutoOpen:!1}),O.open().then(function(){return $(O,m,E,x)})):Ne(k)}return y._promise(m,function(k,P){return wt(function(){return Q.trans=y,x(k,P,y)})}).then(function(k){if(m==="readwrite")try{y.idbtrans.commit()}catch{}return m==="readonly"?k:y._completion.then(function(){return k})})}if(O._state.openComplete)return Ne(new ee.DatabaseClosed(O._state.dbOpenError));if(!O._state.isBeingOpened){if(!O._state.autoOpen)return Ne(new ee.DatabaseClosed);O.open().catch(Ee)}return O._state.dbReadyPromise.then(function(){return $(O,m,E,x)})}(this.db,n,[this.name],h);return l&&(_._consoleTask=l,_=_.catch(function($){return console.trace($),Ne($)})),_}finally{b&&qn()}},me.prototype.get=function(n,r){var i=this;return n&&n.constructor===Object?this.where(n).first(r):n==null?Ne(new ee.Type("Invalid argument to Table.get()")):this._trans("readonly",function(c){return i.core.get({trans:c,key:n}).then(function(s){return i.hook.reading.fire(s)})}).then(r)},me.prototype.where=function(n){if(typeof n=="string")return new this.db.WhereClause(this,n);if(Oe(n))return new this.db.WhereClause(this,"[".concat(n.join("+"),"]"));var r=$e(n);if(r.length===1)return this.where(r[0]).equals(n[r[0]]);var i=this.schema.indexes.concat(this.schema.primKey).filter(function(b){if(b.compound&&r.every(function($){return 0<=b.keyPath.indexOf($)})){for(var _=0;_<r.length;++_)if(r.indexOf(b.keyPath[_])===-1)return!1;return!0}return!1}).sort(function(b,_){return b.keyPath.length-_.keyPath.length})[0];if(i&&this.db._maxKey!==yn){var l=i.keyPath.slice(0,r.length);return this.where(l).equals(l.map(function(_){return n[_]}))}!i&&St&&console.warn("The query ".concat(JSON.stringify(n)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(r.join("+"),"]"));var c=this.schema.idxByName;function s(b,_){return pe(b,_)===0}var h=r.reduce(function(m,_){var $=m[0],O=m[1],m=c[_],E=n[_];return[$||m,$||!m?Zt(O,m&&m.multi?function(x){return x=Ue(x,_),Oe(x)&&x.some(function(y){return s(E,y)})}:function(x){return s(E,Ue(x,_))}):O]},[null,null]),l=h[0],h=h[1];return l?this.where(l.name).equals(n[l.keyPath]).filter(h):i?this.filter(h):this.where(r).equals("")},me.prototype.filter=function(n){return this.toCollection().and(n)},me.prototype.count=function(n){return this.toCollection().count(n)},me.prototype.offset=function(n){return this.toCollection().offset(n)},me.prototype.limit=function(n){return this.toCollection().limit(n)},me.prototype.each=function(n){return this.toCollection().each(n)},me.prototype.toArray=function(n){return this.toCollection().toArray(n)},me.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},me.prototype.orderBy=function(n){return new this.db.Collection(new this.db.WhereClause(this,Oe(n)?"[".concat(n.join("+"),"]"):n))},me.prototype.reverse=function(){return this.toCollection().reverse()},me.prototype.mapToClass=function(n){var r,i=this.db,c=this.name;function s(){return r!==null&&r.apply(this,arguments)||this}(this.schema.mappedClass=n).prototype instanceof en&&(function(_,$){if(typeof $!="function"&&$!==null)throw new TypeError("Class extends value "+String($)+" is not a constructor or null");function O(){this.constructor=_}ke(_,$),_.prototype=$===null?Object.create($):(O.prototype=$.prototype,new O)}(s,r=n),Object.defineProperty(s.prototype,"db",{get:function(){return i},enumerable:!1,configurable:!0}),s.prototype.table=function(){return c},n=s);for(var l=new Set,h=n.prototype;h;h=T(h))Object.getOwnPropertyNames(h).forEach(function(_){return l.add(_)});function b(_){if(!_)return _;var $,O=Object.create(n.prototype);for($ in _)if(!l.has($))try{O[$]=_[$]}catch{}return O}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=b,this.hook("reading",b),n},me.prototype.defineClass=function(){return this.mapToClass(function(n){a(this,n)})},me.prototype.add=function(n,r){var i=this,c=this.schema.primKey,s=c.auto,l=c.keyPath,h=n;return l&&s&&(h=rr(l)(n)),this._trans("readwrite",function(b){return i.core.mutate({trans:b,type:"add",keys:r!=null?[r]:null,values:[h]})}).then(function(b){return b.numFailures?V.reject(b.failures[0]):b.lastResult}).then(function(b){if(l)try{g(n,l,b)}catch{}return b})},me.prototype.upsert=function(n,r){var i=this,c=this.schema.primKey.keyPath;return this._trans("readwrite",function(s){return i.core.get({trans:s,key:n}).then(function(l){var h=l??{};return vu(h,r),c&&g(h,c,n),i.core.mutate({trans:s,type:"put",values:[h],keys:[n],upsert:!0,updates:{keys:[n],changeSpecs:[r]}}).then(function(b){return b.numFailures?V.reject(b.failures[0]):!!l})})})},me.prototype.update=function(n,r){return typeof n!="object"||Oe(n)?this.where(":id").equals(n).modify(r):(n=Ue(n,this.schema.primKey.keyPath),n===void 0?Ne(new ee.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(n).modify(r))},me.prototype.put=function(n,r){var i=this,c=this.schema.primKey,s=c.auto,l=c.keyPath,h=n;return l&&s&&(h=rr(l)(n)),this._trans("readwrite",function(b){return i.core.mutate({trans:b,type:"put",values:[h],keys:r!=null?[r]:null})}).then(function(b){return b.numFailures?V.reject(b.failures[0]):b.lastResult}).then(function(b){if(l)try{g(n,l,b)}catch{}return b})},me.prototype.delete=function(n){var r=this;return this._trans("readwrite",function(i){return r.core.mutate({trans:i,type:"delete",keys:[n]}).then(function(c){return zr(r,[n],c)}).then(function(c){return c.numFailures?V.reject(c.failures[0]):void 0})})},me.prototype.clear=function(){var n=this;return this._trans("readwrite",function(r){return n.core.mutate({trans:r,type:"deleteRange",range:Ta}).then(function(i){return zr(n,null,i)})}).then(function(r){return r.numFailures?V.reject(r.failures[0]):void 0})},me.prototype.bulkGet=function(n){var r=this;return this._trans("readonly",function(i){return r.core.getMany({keys:n,trans:i}).then(function(c){return c.map(function(s){return r.hook.reading.fire(s)})})})},me.prototype.bulkAdd=function(n,r,i){var c=this,s=Array.isArray(r)?r:void 0,l=(i=i||(s?void 0:r))?i.allKeys:void 0;return this._trans("readwrite",function(h){var $=c.schema.primKey,b=$.auto,$=$.keyPath;if($&&s)throw new ee.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(s&&s.length!==n.length)throw new ee.InvalidArgument("Arguments objects and keys must have the same length");var _=n.length,$=$&&b?n.map(rr($)):n;return c.core.mutate({trans:h,type:"add",keys:s,values:$,wantResults:l}).then(function(y){var m=y.numFailures,E=y.results,x=y.lastResult,y=y.failures;if(m===0)return l?E:x;throw new Pt("".concat(c.name,".bulkAdd(): ").concat(m," of ").concat(_," operations failed"),y)})})},me.prototype.bulkPut=function(n,r,i){var c=this,s=Array.isArray(r)?r:void 0,l=(i=i||(s?void 0:r))?i.allKeys:void 0;return this._trans("readwrite",function(h){var $=c.schema.primKey,b=$.auto,$=$.keyPath;if($&&s)throw new ee.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(s&&s.length!==n.length)throw new ee.InvalidArgument("Arguments objects and keys must have the same length");var _=n.length,$=$&&b?n.map(rr($)):n;return c.core.mutate({trans:h,type:"put",keys:s,values:$,wantResults:l}).then(function(y){var m=y.numFailures,E=y.results,x=y.lastResult,y=y.failures;if(m===0)return l?E:x;throw new Pt("".concat(c.name,".bulkPut(): ").concat(m," of ").concat(_," operations failed"),y)})})},me.prototype.bulkUpdate=function(n){var r=this,i=this.core,c=n.map(function(h){return h.key}),s=n.map(function(h){return h.changes}),l=[];return this._trans("readwrite",function(h){return i.getMany({trans:h,keys:c,cache:"clone"}).then(function(b){var _=[],$=[];n.forEach(function(m,E){var x=m.key,y=m.changes,k=b[E];if(k){for(var P=0,S=Object.keys(y);P<S.length;P++){var K=S[P],j=y[K];if(K===r.schema.primKey.keyPath){if(pe(j,x)!==0)throw new ee.Constraint("Cannot update primary key in bulkUpdate()")}else g(k,K,j)}l.push(E),_.push(x),$.push(k)}});var O=_.length;return i.mutate({trans:h,type:"put",keys:_,values:$,updates:{keys:c,changeSpecs:s}}).then(function(m){var E=m.numFailures,x=m.failures;if(E===0)return O;for(var y=0,k=Object.keys(x);y<k.length;y++){var P,S=k[y],K=l[Number(S)];K!=null&&(P=x[S],delete x[S],x[K]=P)}throw new Pt("".concat(r.name,".bulkUpdate(): ").concat(E," of ").concat(O," operations failed"),x)})})})},me.prototype.bulkDelete=function(n){var r=this,i=n.length;return this._trans("readwrite",function(c){return r.core.mutate({trans:c,type:"delete",keys:n}).then(function(s){return zr(r,n,s)})}).then(function(h){var s=h.numFailures,l=h.lastResult,h=h.failures;if(s===0)return l;throw new Pt("".concat(r.name,".bulkDelete(): ").concat(s," of ").concat(i," operations failed"),h)})},me);function me(){}function Mn(n){function r(h,b){if(b){for(var _=arguments.length,$=new Array(_-1);--_;)$[_-1]=arguments[_];return i[h].subscribe.apply(null,$),n}if(typeof h=="string")return i[h]}var i={};r.addEventType=l;for(var c=1,s=arguments.length;c<s;++c)l(arguments[c]);return r;function l(h,b,_){if(typeof h!="object"){var $;b=b||di;var O={subscribers:[],fire:_=_||Ee,subscribe:function(m){O.subscribers.indexOf(m)===-1&&(O.subscribers.push(m),O.fire=b(O.fire,m))},unsubscribe:function(m){O.subscribers=O.subscribers.filter(function(E){return E!==m}),O.fire=O.subscribers.reduce(b,_)}};return i[h]=r[h]=O}$e($=h).forEach(function(m){var E=$[m];if(Oe(E))l(m,$[m][0],$[m][1]);else{if(E!=="asap")throw new ee.InvalidArgument("Invalid event config");var x=l(m,jt,function(){for(var y=arguments.length,k=new Array(y);y--;)k[y]=arguments[y];x.subscribers.forEach(function(P){Me(function(){P.apply(null,k)})})})}})}}function gn(n,r){return ge(r).from({prototype:n}),r}function Nn(n,r){return!(n.filter||n.algorithm||n.or)&&(r?n.justLimit:!n.replayFilter)}function Ia(n,r){n.filter=Zt(n.filter,r)}function Jr(n,r,i){var c=n.replayFilter;n.replayFilter=c?function(){return Zt(c(),r())}:r,n.justLimit=i&&!c}function tn(n,r){if(n.isPrimKey)return r.primaryKey;var i=r.getIndexByKeyPath(n.index);if(!i)throw new ee.Schema("KeyPath "+n.index+" on object store "+r.name+" is not indexed");return i}function Fn(n,r,i){var c=tn(n,r.schema);return r.openCursor({trans:i,values:!n.keysOnly,reverse:n.dir==="prev",unique:!!n.unique,query:{index:c,range:n.range}})}function ur(n,r,i,c){var s=n.replayFilter?Zt(n.filter,n.replayFilter()):n.filter;if(n.or){var l={},h=function(b,_,$){var O,m;s&&!s(_,$,function(E){return _.stop(E)},function(E){return _.fail(E)})||((m=""+(O=_.primaryKey))=="[object ArrayBuffer]"&&(m=""+new Uint8Array(O)),X(l,m)||(l[m]=!0,r(b,_,$)))};return Promise.all([n.or._iterate(h,i),Ln(Fn(n,c,i),n.algorithm,h,!n.keysOnly&&n.valueMapper)])}return Ln(Fn(n,c,i),Zt(n.algorithm,s),r,!n.keysOnly&&n.valueMapper)}function Ln(n,r,i,c){var s=Pe(c?function(l,h,b){return i(c(l),h,b)}:i);return n.then(function(l){if(l)return l.start(function(){var h=function(){return l.continue()};r&&!r(l,function(b){return h=b},function(b){l.stop(b),h=Ee},function(b){l.fail(b),h=Ee})||s(l.value,l,function(b){return h=b}),h()})})}var Vr=(we.prototype._read=function(n,r){var i=this._ctx;return i.error?i.table._trans(null,Ne.bind(null,i.error)):i.table._trans("readonly",n).then(r)},we.prototype._write=function(n){var r=this._ctx;return r.error?r.table._trans(null,Ne.bind(null,r.error)):r.table._trans("readwrite",n,"locked")},we.prototype._addAlgorithm=function(n){var r=this._ctx;r.algorithm=Zt(r.algorithm,n)},we.prototype._iterate=function(n,r){return ur(this._ctx,n,r,this._ctx.table.core)},we.prototype.clone=function(n){var r=Object.create(this.constructor.prototype),i=Object.create(this._ctx);return n&&a(i,n),r._ctx=i,r},we.prototype.raw=function(){return this._ctx.valueMapper=null,this},we.prototype.each=function(n){var r=this._ctx;return this._read(function(i){return ur(r,n,i,r.table.core)})},we.prototype.count=function(n){var r=this;return this._read(function(i){var c=r._ctx,s=c.table.core;if(Nn(c,!0))return s.count({trans:i,query:{index:tn(c,s.schema),range:c.range}}).then(function(h){return Math.min(h,c.limit)});var l=0;return ur(c,function(){return++l,!1},i,s).then(function(){return l})}).then(n)},we.prototype.sortBy=function(n,r){var i=n.split(".").reverse(),c=i[0],s=i.length-1;function l(_,$){return $?l(_[i[$]],$-1):_[c]}var h=this._ctx.dir==="next"?1:-1;function b(_,$){return pe(l(_,s),l($,s))*h}return this.toArray(function(_){return _.sort(b)}).then(r)},we.prototype.toArray=function(n){var r=this;return this._read(function(i){var c=r._ctx;if(c.dir==="next"&&Nn(c,!0)&&0<c.limit){var s=c.valueMapper,l=tn(c,c.table.core.schema);return c.table.core.query({trans:i,limit:c.limit,values:!0,query:{index:l,range:c.range}}).then(function(b){return b=b.result,s?b.map(s):b})}var h=[];return ur(c,function(b){return h.push(b)},i,c.table.core).then(function(){return h})},n)},we.prototype.offset=function(n){var r=this._ctx;return n<=0||(r.offset+=n,Nn(r)?Jr(r,function(){var i=n;return function(c,s){return i===0||(i===1?--i:s(function(){c.advance(i),i=0}),!1)}}):Jr(r,function(){var i=n;return function(){return--i<0}})),this},we.prototype.limit=function(n){return this._ctx.limit=Math.min(this._ctx.limit,n),Jr(this._ctx,function(){var r=n;return function(i,c,s){return--r<=0&&c(s),0<=r}},!0),this},we.prototype.until=function(n,r){return Ia(this._ctx,function(i,c,s){return!n(i.value)||(c(s),r)}),this},we.prototype.first=function(n){return this.limit(1).toArray(function(r){return r[0]}).then(n)},we.prototype.last=function(n){return this.reverse().first(n)},we.prototype.filter=function(n){var r;return Ia(this._ctx,function(i){return n(i.value)}),(r=this._ctx).isMatch=Zt(r.isMatch,n),this},we.prototype.and=function(n){return this.filter(n)},we.prototype.or=function(n){return new this.db.WhereClause(this._ctx.table,n,this)},we.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},we.prototype.desc=function(){return this.reverse()},we.prototype.eachKey=function(n){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(i,c){n(c.key,c)})},we.prototype.eachUniqueKey=function(n){return this._ctx.unique="unique",this.eachKey(n)},we.prototype.eachPrimaryKey=function(n){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(i,c){n(c.primaryKey,c)})},we.prototype.keys=function(n){var r=this._ctx;r.keysOnly=!r.isMatch;var i=[];return this.each(function(c,s){i.push(s.key)}).then(function(){return i}).then(n)},we.prototype.primaryKeys=function(n){var r=this._ctx;if(r.dir==="next"&&Nn(r,!0)&&0<r.limit)return this._read(function(c){var s=tn(r,r.table.core.schema);return r.table.core.query({trans:c,values:!1,limit:r.limit,query:{index:s,range:r.range}})}).then(function(c){return c.result}).then(n);r.keysOnly=!r.isMatch;var i=[];return this.each(function(c,s){i.push(s.primaryKey)}).then(function(){return i}).then(n)},we.prototype.uniqueKeys=function(n){return this._ctx.unique="unique",this.keys(n)},we.prototype.firstKey=function(n){return this.limit(1).keys(function(r){return r[0]}).then(n)},we.prototype.lastKey=function(n){return this.reverse().firstKey(n)},we.prototype.distinct=function(){var n=this._ctx,n=n.index&&n.table.schema.idxByName[n.index];if(!n||!n.multi)return this;var r={};return Ia(this._ctx,function(s){var c=s.primaryKey.toString(),s=X(r,c);return r[c]=!0,!s}),this},we.prototype.modify=function(n){var r=this,i=this._ctx;return this._write(function(c){var s=typeof n=="function"?n:function(k){return vu(k,n)},l=i.table.core,$=l.schema.primaryKey,h=$.outbound,b=$.extractKey,_=200,$=r.db._options.modifyChunkSize;$&&(_=typeof $=="object"?$[l.name]||$["*"]||200:$);function O(k,K){var S=K.failures,K=K.numFailures;E+=k-K;for(var j=0,I=$e(S);j<I.length;j++){var F=I[j];m.push(S[F])}}var m=[],E=0,x=[],y=n===Da;return r.clone().primaryKeys().then(function(k){function P(K){var j=Math.min(_,k.length-K),I=k.slice(K,K+j);return(y?Promise.resolve([]):l.getMany({trans:c,keys:I,cache:"immutable"})).then(function(F){var z=[],M=[],L=h?[]:null,J=y?I:[];if(!y)for(var U=0;U<j;++U){var H=F[U],ie={value:pt(H),primKey:k[K+U]};s.call(ie,ie.value,ie)!==!1&&(ie.value==null?J.push(k[K+U]):h||pe(b(H),b(ie.value))===0?(M.push(ie.value),h&&L.push(k[K+U])):(J.push(k[K+U]),z.push(ie.value)))}return Promise.resolve(0<z.length&&l.mutate({trans:c,type:"add",values:z}).then(function(se){for(var le in se.failures)J.splice(parseInt(le),1);O(z.length,se)})).then(function(){return(0<M.length||S&&typeof n=="object")&&l.mutate({trans:c,type:"put",keys:L,values:M,criteria:S,changeSpec:typeof n!="function"&&n,isAdditionalChunk:0<K}).then(function(se){return O(M.length,se)})}).then(function(){return(0<J.length||S&&y)&&l.mutate({trans:c,type:"delete",keys:J,criteria:S,isAdditionalChunk:0<K}).then(function(se){return zr(i.table,J,se)}).then(function(se){return O(J.length,se)})}).then(function(){return k.length>K+j&&P(K+_)})})}var S=Nn(i)&&i.limit===1/0&&(typeof n!="function"||y)&&{index:i.index,range:i.range};return P(0).then(function(){if(0<m.length)throw new Zn("Error modifying one or more objects",m,E,x);return k.length})})})},we.prototype.delete=function(){var n=this._ctx,r=n.range;return!Nn(n)||n.table.schema.yProps||!n.isPrimKey&&r.type!==3?this.modify(Da):this._write(function(i){var c=n.table.core.schema.primaryKey,s=r;return n.table.core.count({trans:i,query:{index:c,range:s}}).then(function(l){return n.table.core.mutate({trans:i,type:"deleteRange",range:s}).then(function(_){var b=_.failures,_=_.numFailures;if(_)throw new Zn("Could not delete some values",Object.keys(b).map(function($){return b[$]}),l-_);return l-_})})})},we);function we(){}var Da=function(n,r){return r.value=null};function pi(n,r){return n<r?-1:n===r?0:1}function Ra(n,r){return r<n?-1:n===r?0:1}function ot(n,r,i){return n=n instanceof bu?new n.Collection(n):n,n._ctx.error=new(i||TypeError)(r),n}function Un(n){return new n.Collection(n,function(){return ir("")}).limit(0)}function Gr(n,r,i,c){var s,l,h,b,_,$,O,m=i.length;if(!i.every(function(y){return typeof y=="string"}))return ot(n,at);function E(y){s=y==="next"?function(P){return P.toUpperCase()}:function(P){return P.toLowerCase()},l=y==="next"?function(P){return P.toLowerCase()}:function(P){return P.toUpperCase()},h=y==="next"?pi:Ra;var k=i.map(function(P){return{lower:l(P),upper:s(P)}}).sort(function(P,S){return h(P.lower,S.lower)});b=k.map(function(P){return P.upper}),_=k.map(function(P){return P.lower}),O=($=y)==="next"?"":c}E("next"),n=new n.Collection(n,function(){return nn(b[0],_[m-1]+c)}),n._ondirectionchange=function(y){E(y)};var x=0;return n._addAlgorithm(function(y,k,P){var S=y.key;if(typeof S!="string")return!1;var K=l(S);if(r(K,_,x))return!0;for(var j=null,I=x;I<m;++I){var F=function(z,M,L,J,U,H){for(var ie=Math.min(z.length,J.length),se=-1,le=0;le<ie;++le){var ft=M[le];if(ft!==J[le])return U(z[le],L[le])<0?z.substr(0,le)+L[le]+L.substr(le+1):U(z[le],J[le])<0?z.substr(0,le)+J[le]+L.substr(le+1):0<=se?z.substr(0,se)+M[se]+L.substr(se+1):null;U(z[le],ft)<0&&(se=le)}return ie<J.length&&H==="next"?z+L.substr(z.length):ie<z.length&&H==="prev"?z.substr(0,L.length):se<0?null:z.substr(0,se)+J[se]+L.substr(se+1)}(S,K,b[I],_[I],h,$);F===null&&j===null?x=I+1:(j===null||0<h(j,F))&&(j=F)}return k(j!==null?function(){y.continue(j+O)}:P),!1}),n}function nn(n,r,i,c){return{type:2,lower:n,upper:r,lowerOpen:i,upperOpen:c}}function ir(n){return{type:1,lower:n,upper:n}}var bu=(Object.defineProperty(He.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),He.prototype.between=function(n,r,i,c){i=i!==!1,c=c===!0;try{return 0<this._cmp(n,r)||this._cmp(n,r)===0&&(i||c)&&(!i||!c)?Un(this):new this.Collection(this,function(){return nn(n,r,!i,!c)})}catch{return ot(this,_t)}},He.prototype.equals=function(n){return n==null?ot(this,_t):new this.Collection(this,function(){return ir(n)})},He.prototype.above=function(n){return n==null?ot(this,_t):new this.Collection(this,function(){return nn(n,void 0,!0)})},He.prototype.aboveOrEqual=function(n){return n==null?ot(this,_t):new this.Collection(this,function(){return nn(n,void 0,!1)})},He.prototype.below=function(n){return n==null?ot(this,_t):new this.Collection(this,function(){return nn(void 0,n,!1,!0)})},He.prototype.belowOrEqual=function(n){return n==null?ot(this,_t):new this.Collection(this,function(){return nn(void 0,n)})},He.prototype.startsWith=function(n){return typeof n!="string"?ot(this,at):this.between(n,n+yn,!0,!0)},He.prototype.startsWithIgnoreCase=function(n){return n===""?this.startsWith(n):Gr(this,function(r,i){return r.indexOf(i[0])===0},[n],yn)},He.prototype.equalsIgnoreCase=function(n){return Gr(this,function(r,i){return r===i[0]},[n],"")},He.prototype.anyOfIgnoreCase=function(){var n=Bt.apply(Sn,arguments);return n.length===0?Un(this):Gr(this,function(r,i){return i.indexOf(r)!==-1},n,"")},He.prototype.startsWithAnyOfIgnoreCase=function(){var n=Bt.apply(Sn,arguments);return n.length===0?Un(this):Gr(this,function(r,i){return i.some(function(c){return r.indexOf(c)===0})},n,yn)},He.prototype.anyOf=function(){var n=this,r=Bt.apply(Sn,arguments),i=this._cmp;try{r.sort(i)}catch{return ot(this,_t)}if(r.length===0)return Un(this);var c=new this.Collection(this,function(){return nn(r[0],r[r.length-1])});c._ondirectionchange=function(l){i=l==="next"?n._ascending:n._descending,r.sort(i)};var s=0;return c._addAlgorithm(function(l,h,b){for(var _=l.key;0<i(_,r[s]);)if(++s===r.length)return h(b),!1;return i(_,r[s])===0||(h(function(){l.continue(r[s])}),!1)}),c},He.prototype.notEqual=function(n){return this.inAnyRange([[-1/0,n],[n,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},He.prototype.noneOf=function(){var n=Bt.apply(Sn,arguments);if(n.length===0)return new this.Collection(this);try{n.sort(this._ascending)}catch{return ot(this,_t)}var r=n.reduce(function(i,c){return i?i.concat([[i[i.length-1][1],c]]):[[-1/0,c]]},null);return r.push([n[n.length-1],this.db._maxKey]),this.inAnyRange(r,{includeLowers:!1,includeUppers:!1})},He.prototype.inAnyRange=function(S,r){var i=this,c=this._cmp,s=this._ascending,l=this._descending,h=this._min,b=this._max;if(S.length===0)return Un(this);if(!S.every(function(K){return K[0]!==void 0&&K[1]!==void 0&&s(K[0],K[1])<=0}))return ot(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ee.InvalidArgument);var _=!r||r.includeLowers!==!1,$=r&&r.includeUppers===!0,O,m=s;function E(K,j){return m(K[0],j[0])}try{(O=S.reduce(function(K,j){for(var I=0,F=K.length;I<F;++I){var z=K[I];if(c(j[0],z[1])<0&&0<c(j[1],z[0])){z[0]=h(z[0],j[0]),z[1]=b(z[1],j[1]);break}}return I===F&&K.push(j),K},[])).sort(E)}catch{return ot(this,_t)}var x=0,y=$?function(K){return 0<s(K,O[x][1])}:function(K){return 0<=s(K,O[x][1])},k=_?function(K){return 0<l(K,O[x][0])}:function(K){return 0<=l(K,O[x][0])},P=y,S=new this.Collection(this,function(){return nn(O[0][0],O[O.length-1][1],!_,!$)});return S._ondirectionchange=function(K){m=K==="next"?(P=y,s):(P=k,l),O.sort(E)},S._addAlgorithm(function(K,j,I){for(var F,z=K.key;P(z);)if(++x===O.length)return j(I),!1;return!y(F=z)&&!k(F)||(i._cmp(z,O[x][1])===0||i._cmp(z,O[x][0])===0||j(function(){m===s?K.continue(O[x][0]):K.continue(O[x][1])}),!1)}),S},He.prototype.startsWithAnyOf=function(){var n=Bt.apply(Sn,arguments);return n.every(function(r){return typeof r=="string"})?n.length===0?Un(this):this.inAnyRange(n.map(function(r){return[r,r+yn]})):ot(this,"startsWithAnyOf() only works with strings")},He);function He(){}function Kt(n){return Pe(function(r){return zn(r),n(r.target.error),!1})}function zn(n){n.stopPropagation&&n.stopPropagation(),n.preventDefault&&n.preventDefault()}var or="storagemutated",Ba="x-storagemutated-1",kt=Mn(null,or),vi=($t.prototype._lock=function(){return D(!Q.global),++this._reculock,this._reculock!==1||Q.global||(Q.lockOwnerFor=this),this},$t.prototype._unlock=function(){if(D(!Q.global),--this._reculock==0)for(Q.global||(Q.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var n=this._blockedFuncs.shift();try{mn(n[1],n[0])}catch{}}return this},$t.prototype._locked=function(){return this._reculock&&Q.lockOwnerFor!==this},$t.prototype.create=function(n){var r=this;if(!this.mode)return this;var i=this.db.idbdb,c=this.db._state.dbOpenError;if(D(!this.idbtrans),!n&&!i)switch(c&&c.name){case"DatabaseClosedError":throw new ee.DatabaseClosed(c);case"MissingAPIError":throw new ee.MissingAPI(c.message,c);default:throw new ee.OpenFailed(c)}if(!this.active)throw new ee.TransactionInactive;return D(this._completion._state===null),(n=this.idbtrans=n||(this.db.core||i).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Pe(function(s){zn(s),r._reject(n.error)}),n.onabort=Pe(function(s){zn(s),r.active&&r._reject(new ee.Abort(n.error)),r.active=!1,r.on("abort").fire(s)}),n.oncomplete=Pe(function(){r.active=!1,r._resolve(),"mutatedParts"in n&&kt.storagemutated.fire(n.mutatedParts)}),this},$t.prototype._promise=function(n,r,i){var c=this;if(n==="readwrite"&&this.mode!=="readwrite")return Ne(new ee.ReadOnly("Transaction is readonly"));if(!this.active)return Ne(new ee.TransactionInactive);if(this._locked())return new V(function(l,h){c._blockedFuncs.push([function(){c._promise(n,r,i).then(l,h)},Q])});if(i)return wt(function(){var l=new V(function(h,b){c._lock();var _=r(h,b,c);_&&_.then&&_.then(h,b)});return l.finally(function(){return c._unlock()}),l._lib=!0,l});var s=new V(function(l,h){var b=r(l,h,c);b&&b.then&&b.then(l,h)});return s._lib=!0,s},$t.prototype._root=function(){return this.parent?this.parent._root():this},$t.prototype.waitFor=function(n){var r,i=this._root(),c=V.resolve(n);i._waitingFor?i._waitingFor=i._waitingFor.then(function(){return c}):(i._waitingFor=c,i._waitingQueue=[],r=i.idbtrans.objectStore(i.storeNames[0]),function l(){for(++i._spinCount;i._waitingQueue.length;)i._waitingQueue.shift()();i._waitingFor&&(r.get(-1/0).onsuccess=l)}());var s=i._waitingFor;return new V(function(l,h){c.then(function(b){return i._waitingQueue.push(Pe(l.bind(null,b)))},function(b){return i._waitingQueue.push(Pe(h.bind(null,b)))}).finally(function(){i._waitingFor===s&&(i._waitingFor=null)})})},$t.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ee.Abort))},$t.prototype.table=function(n){var r=this._memoizedTables||(this._memoizedTables={});if(X(r,n))return r[n];var i=this.schema[n];if(!i)throw new ee.NotFound("Table "+n+" not part of transaction");return i=new this.db.Table(n,i,this),i.core=this.db.core.table(n),r[n]=i},$t);function $t(){}function Ma(n,r,i,c,s,l,h,b){return{name:n,keyPath:r,unique:i,multi:c,auto:s,compound:l,src:(i&&!h?"&":"")+(c?"*":"")+(s?"++":"")+mu(r),type:b}}function mu(n){return typeof n=="string"?n:n?"["+[].join.call(n,"+")+"]":""}function Na(n,r,i){return{name:n,primKey:r,indexes:i,mappedClass:null,idxByName:(c=function(s){return[s.name,s]},i.reduce(function(s,l,h){return h=c(l,h),h&&(s[h[0]]=h[1]),s},{}))};var c}var Je=function(n){try{return n.only([[]]),Je=function(){return[[]]},[[]]}catch{return Je=function(){return yn},yn}};function Jn(n){return n==null?function(){}:typeof n=="string"?(r=n).split(".").length===1?function(i){return i[r]}:function(i){return Ue(i,r)}:function(i){return Ue(i,n)};var r}function Vn(n){return[].slice.call(n)}var bi=0;function Ve(n){return n==null?":id":typeof n=="string"?n:"[".concat(n.join("+"),"]")}function Fa(n,r,_){function c(P){if(P.type===3)return null;if(P.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var x=P.lower,y=P.upper,k=P.lowerOpen,P=P.upperOpen;return x===void 0?y===void 0?null:r.upperBound(y,!!P):y===void 0?r.lowerBound(x,!!k):r.bound(x,y,!!k,!!P)}function s(E){var x,y=E.name;return{name:y,schema:E,mutate:function(k){var P=k.trans,S=k.type,K=k.keys,j=k.values,I=k.range;return new Promise(function(F,z){F=Pe(F);var M=P.objectStore(y),L=M.keyPath==null,J=S==="put"||S==="add";if(!J&&S!=="delete"&&S!=="deleteRange")throw new Error("Invalid operation type: "+S);var U,H=(K||j||{length:1}).length;if(K&&j&&K.length!==j.length)throw new Error("Given keys array must have same length as given values array.");if(H===0)return F({numFailures:0,failures:{},results:[],lastResult:void 0});function ie(xe){++ft,zn(xe)}var se=[],le=[],ft=0;if(S==="deleteRange"){if(I.type===4)return F({numFailures:ft,failures:le,results:[],lastResult:void 0});I.type===3?se.push(U=M.clear()):se.push(U=M.delete(c(I)))}else{var L=J?L?[j,K]:[j,null]:[K,null],ae=L[0],tt=L[1];if(J)for(var nt=0;nt<H;++nt)se.push(U=tt&&tt[nt]!==void 0?M[S](ae[nt],tt[nt]):M[S](ae[nt])),U.onerror=ie;else for(nt=0;nt<H;++nt)se.push(U=M[S](ae[nt])),U.onerror=ie}function ra(xe){xe=xe.target.result,se.forEach(function(On,Hn){return On.error!=null&&(le[Hn]=On.error)}),F({numFailures:ft,failures:le,results:S==="delete"?K:se.map(function(On){return On.result}),lastResult:xe})}U.onerror=function(xe){ie(xe),ra(xe)},U.onsuccess=ra})},getMany:function(k){var P=k.trans,S=k.keys;return new Promise(function(K,j){K=Pe(K);for(var I,F=P.objectStore(y),z=S.length,M=new Array(z),L=0,J=0,U=function(se){se=se.target,M[se._pos]=se.result,++J===L&&K(M)},H=Kt(j),ie=0;ie<z;++ie)S[ie]!=null&&((I=F.get(S[ie]))._pos=ie,I.onsuccess=U,I.onerror=H,++L);L===0&&K(M)})},get:function(k){var P=k.trans,S=k.key;return new Promise(function(K,j){K=Pe(K);var I=P.objectStore(y).get(S);I.onsuccess=function(F){return K(F.target.result)},I.onerror=Kt(j)})},query:(x=$,function(k){return new Promise(function(P,S){P=Pe(P);var K,j,I,L=k.trans,F=k.values,z=k.limit,U=k.query,M=z===1/0?void 0:z,J=U.index,U=U.range,L=L.objectStore(y),J=J.isPrimaryKey?L:L.index(J.name),U=c(U);if(z===0)return P({result:[]});x?((M=F?J.getAll(U,M):J.getAllKeys(U,M)).onsuccess=function(H){return P({result:H.target.result})},M.onerror=Kt(S)):(K=0,j=!F&&"openKeyCursor"in J?J.openKeyCursor(U):J.openCursor(U),I=[],j.onsuccess=function(H){var ie=j.result;return ie?(I.push(F?ie.value:ie.primaryKey),++K===z?P({result:I}):void ie.continue()):P({result:I})},j.onerror=Kt(S))})}),openCursor:function(k){var P=k.trans,S=k.values,K=k.query,j=k.reverse,I=k.unique;return new Promise(function(F,z){F=Pe(F);var J=K.index,M=K.range,L=P.objectStore(y),L=J.isPrimaryKey?L:L.index(J.name),J=j?I?"prevunique":"prev":I?"nextunique":"next",U=!S&&"openKeyCursor"in L?L.openKeyCursor(c(M),J):L.openCursor(c(M),J);U.onerror=Kt(z),U.onsuccess=Pe(function(H){var ie,se,le,ft,ae=U.result;ae?(ae.___id=++bi,ae.done=!1,ie=ae.continue.bind(ae),se=(se=ae.continuePrimaryKey)&&se.bind(ae),le=ae.advance.bind(ae),ft=function(){throw new Error("Cursor not stopped")},ae.trans=P,ae.stop=ae.continue=ae.continuePrimaryKey=ae.advance=function(){throw new Error("Cursor not started")},ae.fail=Pe(z),ae.next=function(){var tt=this,nt=1;return this.start(function(){return nt--?tt.continue():tt.stop()}).then(function(){return tt})},ae.start=function(tt){function nt(){if(U.result)try{tt()}catch(xe){ae.fail(xe)}else ae.done=!0,ae.start=function(){throw new Error("Cursor behind last entry")},ae.stop()}var ra=new Promise(function(xe,On){xe=Pe(xe),U.onerror=Kt(On),ae.fail=On,ae.stop=function(Hn){ae.stop=ae.continue=ae.continuePrimaryKey=ae.advance=ft,xe(Hn)}});return U.onsuccess=Pe(function(xe){U.onsuccess=nt,nt()}),ae.continue=ie,ae.continuePrimaryKey=se,ae.advance=le,nt(),ra},F(ae)):F(null)},z)})},count:function(k){var P=k.query,S=k.trans,K=P.index,j=P.range;return new Promise(function(I,F){var z=S.objectStore(y),M=K.isPrimaryKey?z:z.index(K.name),z=c(j),M=z?M.count(z):M.count();M.onsuccess=Pe(function(L){return I(L.target.result)}),M.onerror=Kt(F)})}}}var l,h,b,O=(h=_,b=Vn((l=n).objectStoreNames),{schema:{name:l.name,tables:b.map(function(E){return h.objectStore(E)}).map(function(E){var x=E.keyPath,P=E.autoIncrement,y=Oe(x),k={},P={name:E.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:x==null,compound:y,keyPath:x,autoIncrement:P,unique:!0,extractKey:Jn(x)},indexes:Vn(E.indexNames).map(function(S){return E.index(S)}).map(function(I){var K=I.name,j=I.unique,F=I.multiEntry,I=I.keyPath,F={name:K,compound:Oe(I),keyPath:I,unique:j,multiEntry:F,extractKey:Jn(I)};return k[Ve(I)]=F}),getIndexByKeyPath:function(S){return k[Ve(S)]}};return k[":id"]=P.primaryKey,x!=null&&(k[Ve(x)]=P.primaryKey),P})},hasGetAll:0<b.length&&"getAll"in h.objectStore(b[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),_=O.schema,$=O.hasGetAll,O=_.tables.map(s),m={};return O.forEach(function(E){return m[E.name]=E}),{stack:"dbcore",transaction:n.transaction.bind(n),table:function(E){if(!m[E])throw new Error("Table '".concat(E,"' not found"));return m[E]},MIN_KEY:-1/0,MAX_KEY:Je(r),schema:_}}function yu(n,r,i,c){var s=i.IDBKeyRange;return i.indexedDB,{dbcore:(c=Fa(r,s,c),n.dbcore.reduce(function(l,h){return h=h.create,v(v({},l),h(l))},c))}}function cr(n,c){var i=c.db,c=yu(n._middlewares,i,n._deps,c);n.core=c.dbcore,n.tables.forEach(function(s){var l=s.name;n.core.schema.tables.some(function(h){return h.name===l})&&(s.core=n.core.table(l),n[l]instanceof n.Table&&(n[l].core=s.core))})}function Ze(n,r,i,c){i.forEach(function(s){var l=c[s];r.forEach(function(h){var b=function _($,O){return ht($,O)||($=T($))&&_($,O)}(h,s);(!b||"value"in b&&b.value===void 0)&&(h===n.Transaction.prototype||h instanceof n.Transaction?ue(h,s,{get:function(){return this.table(s)},set:function(_){fe(this,s,{value:_,writable:!0,configurable:!0,enumerable:!0})}}):h[s]=new n.Table(s,l))})})}function La(n,r){r.forEach(function(i){for(var c in i)i[c]instanceof n.Table&&delete i[c]})}function te(n,r){return n._cfg.version-r._cfg.version}function Z(n,r,i,c){var s=n._dbSchema;i.objectStoreNames.contains("$meta")&&!s.$meta&&(s.$meta=Na("$meta",Gn("")[0],[]),n._storeNames.push("$meta"));var l=n._createTransaction("readwrite",n._storeNames,s);l.create(i),l._completion.catch(c);var h=l._reject.bind(l),b=Q.transless||Q;wt(function(){return Q.trans=l,Q.transless=b,r!==0?(cr(n,i),$=r,((_=l).storeNames.includes("$meta")?_.table("$meta").get("version").then(function(O){return O??$}):V.resolve($)).then(function(O){return E=O,x=l,y=i,k=[],O=(m=n)._versions,P=m._dbSchema=fr(0,m.idbdb,y),(O=O.filter(function(S){return S._cfg.version>=E})).length!==0?(O.forEach(function(S){k.push(function(){var K=P,j=S._cfg.dbschema;Nt(m,K,y),Nt(m,j,y),P=m._dbSchema=j;var I=sr(K,j);I.add.forEach(function(J){yt(y,J[0],J[1].primKey,J[1].indexes)}),I.change.forEach(function(J){if(J.recreate)throw new ee.Upgrade("Not yet support for changing primary key");var U=y.objectStore(J.name);J.add.forEach(function(H){return wn(U,H)}),J.change.forEach(function(H){U.deleteIndex(H.name),wn(U,H)}),J.del.forEach(function(H){return U.deleteIndex(H)})});var F=S._cfg.contentUpgrade;if(F&&S._cfg.version>E){cr(m,y),x._memoizedTables={};var z=Rt(j);I.del.forEach(function(J){z[J]=K[J]}),La(m,[m.Transaction.prototype]),Ze(m,[m.Transaction.prototype],$e(z),z),x.schema=z;var M,L=xa(F);return L&&Dn(),I=V.follow(function(){var J;(M=F(x))&&L&&(J=rt.bind(null,null),M.then(J,J))}),M&&typeof M.then=="function"?V.resolve(M):I.then(function(){return M})}}),k.push(function(K){var j,I,F=S._cfg.dbschema;j=F,I=K,[].slice.call(I.db.objectStoreNames).forEach(function(z){return j[z]==null&&I.db.deleteObjectStore(z)}),La(m,[m.Transaction.prototype]),Ze(m,[m.Transaction.prototype],m._storeNames,m._dbSchema),x.schema=m._dbSchema}),k.push(function(K){m.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(m.idbdb.version/10)===S._cfg.version?(m.idbdb.deleteObjectStore("$meta"),delete m._dbSchema.$meta,m._storeNames=m._storeNames.filter(function(j){return j!=="$meta"})):K.objectStore("$meta").put(S._cfg.version,"version"))})}),function S(){return k.length?V.resolve(k.shift()(x.idbtrans)).then(S):V.resolve()}().then(function(){gt(P,y)})):V.resolve();var m,E,x,y,k,P}).catch(h)):($e(s).forEach(function(O){yt(i,O,s[O].primKey,s[O].indexes)}),cr(n,i),void V.follow(function(){return n.on.populate.fire(l)}).catch(h));var _,$})}function mi(n,r){gt(n._dbSchema,r),r.db.version%10!=0||r.objectStoreNames.contains("$meta")||r.db.createObjectStore("$meta").add(Math.ceil(r.db.version/10-1),"version");var i=fr(0,n.idbdb,r);Nt(n,n._dbSchema,r);for(var c=0,s=sr(i,n._dbSchema).change;c<s.length;c++){var l=function(h){if(h.change.length||h.recreate)return console.warn("Unable to patch indexes of table ".concat(h.name," because it has changes on the type of index or primary key.")),{value:void 0};var b=r.objectStore(h.name);h.add.forEach(function(_){St&&console.debug("Dexie upgrade patch: Creating missing index ".concat(h.name,".").concat(_.src)),wn(b,_)})}(s[c]);if(typeof l=="object")return l.value}}function sr(n,r){var i,c={del:[],add:[],change:[]};for(i in n)r[i]||c.del.push(i);for(i in r){var s=n[i],l=r[i];if(s){var h={name:i,def:l,recreate:!1,del:[],add:[],change:[]};if(""+(s.primKey.keyPath||"")!=""+(l.primKey.keyPath||"")||s.primKey.auto!==l.primKey.auto)h.recreate=!0,c.change.push(h);else{var b=s.idxByName,_=l.idxByName,$=void 0;for($ in b)_[$]||h.del.push($);for($ in _){var O=b[$],m=_[$];O?O.src!==m.src&&h.change.push(m):h.add.push(m)}(0<h.del.length||0<h.add.length||0<h.change.length)&&c.change.push(h)}}else c.add.push([i,l])}return c}function yt(n,r,i,c){var s=n.db.createObjectStore(r,i.keyPath?{keyPath:i.keyPath,autoIncrement:i.auto}:{autoIncrement:i.auto});return c.forEach(function(l){return wn(s,l)}),s}function gt(n,r){$e(n).forEach(function(i){r.db.objectStoreNames.contains(i)||(St&&console.debug("Dexie: Creating missing table",i),yt(r,i,n[i].primKey,n[i].indexes))})}function wn(n,r){n.createIndex(r.name,r.keyPath,{unique:r.unique,multiEntry:r.multi})}function fr(n,r,i){var c={};return Y(r.objectStoreNames,0).forEach(function(s){for(var l=i.objectStore(s),h=Ma(mu($=l.keyPath),$||"",!0,!1,!!l.autoIncrement,$&&typeof $!="string",!0),b=[],_=0;_<l.indexNames.length;++_){var O=l.index(l.indexNames[_]),$=O.keyPath,O=Ma(O.name,$,!!O.unique,!!O.multiEntry,!1,$&&typeof $!="string",!1);b.push(O)}c[s]=Na(s,h,b)}),c}function Nt(n,r,i){for(var c=i.db.objectStoreNames,s=0;s<c.length;++s){var l=c[s],h=i.objectStore(l);n._hasGetAll="getAll"in h;for(var b=0;b<h.indexNames.length;++b){var _=h.indexNames[b],$=h.index(_).keyPath,O=typeof $=="string"?$:"["+Y($).join("+")+"]";!r[l]||($=r[l].idxByName[O])&&($.name=_,delete r[l].idxByName[O],r[l].idxByName[_]=$)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&ce.WorkerGlobalScope&&ce instanceof ce.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(n._hasGetAll=!1)}function Gn(n){return n.split(",").map(function(r,i){var l=r.split(":"),c=(s=l[1])===null||s===void 0?void 0:s.trim(),s=(r=l[0].trim()).replace(/([&*]|\+\+)/g,""),l=/^\[/.test(s)?s.match(/^\[(.*)\]$/)[1].split("+"):s;return Ma(s,l||null,/\&/.test(r),/\*/.test(r),/\+\+/.test(r),Oe(l),i===0,c)})}var yi=(Wn.prototype._createTableSchema=Na,Wn.prototype._parseIndexSyntax=Gn,Wn.prototype._parseStoresSpec=function(n,r){var i=this;$e(n).forEach(function(c){if(n[c]!==null){var s=i._parseIndexSyntax(n[c]),l=s.shift();if(!l)throw new ee.Schema("Invalid schema for table "+c+": "+n[c]);if(l.unique=!0,l.multi)throw new ee.Schema("Primary key cannot be multiEntry*");s.forEach(function(h){if(h.auto)throw new ee.Schema("Only primary key can be marked as autoIncrement (++)");if(!h.keyPath)throw new ee.Schema("Index must have a name and cannot be an empty string")}),s=i._createTableSchema(c,l,s),r[c]=s}})},Wn.prototype.stores=function(i){var r=this.db;this._cfg.storesSource=this._cfg.storesSource?a(this._cfg.storesSource,i):i;var i=r._versions,c={},s={};return i.forEach(function(l){a(c,l._cfg.storesSource),s=l._cfg.dbschema={},l._parseStoresSpec(c,s)}),r._dbSchema=s,La(r,[r._allTables,r,r.Transaction.prototype]),Ze(r,[r._allTables,r,r.Transaction.prototype,this._cfg.tables],$e(s),s),r._storeNames=$e(s),this},Wn.prototype.upgrade=function(n){return this._cfg.contentUpgrade=Ea(this._cfg.contentUpgrade||Ee,n),this},Wn);function Wn(){}function Ua(n,r){var i=n._dbNamesDB;return i||(i=n._dbNamesDB=new qt(Ur,{addons:[],indexedDB:n,IDBKeyRange:r})).version(1).stores({dbnames:"name"}),i.table("dbnames")}function za(n){return n&&typeof n.databases=="function"}function lr(n){return wt(function(){return Q.letThrough=!0,n()})}function Wr(n){return!("from"in n)}var et=function(n,r){if(!this){var i=new et;return n&&"d"in n&&a(i,n),i}a(this,arguments.length?{d:1,from:n,to:1<arguments.length?r:n}:{d:0})};function dr(n,r,i){var c=pe(r,i);if(!isNaN(c)){if(0<c)throw RangeError();if(Wr(n))return a(n,{from:r,to:i,d:1});var s=n.l,c=n.r;if(pe(i,n.from)<0)return s?dr(s,r,i):n.l={from:r,to:i,d:1,l:null,r:null},gu(n);if(0<pe(r,n.to))return c?dr(c,r,i):n.r={from:r,to:i,d:1,l:null,r:null},gu(n);pe(r,n.from)<0&&(n.from=r,n.l=null,n.d=c?c.d+1:1),0<pe(i,n.to)&&(n.to=i,n.r=null,n.d=n.l?n.l.d+1:1),i=!n.r,s&&!n.l&&hr(n,s),c&&i&&hr(n,c)}}function hr(n,r){Wr(r)||function i(c,_){var l=_.from,h=_.to,b=_.l,_=_.r;dr(c,l,h),b&&i(c,b),_&&i(c,_)}(n,r)}function Ft(n,r){var i=Yr(r),c=i.next();if(c.done)return!1;for(var s=c.value,l=Yr(n),h=l.next(s.from),b=h.value;!c.done&&!h.done;){if(pe(b.from,s.to)<=0&&0<=pe(b.to,s.from))return!0;pe(s.from,b.from)<0?s=(c=i.next(b.from)).value:b=(h=l.next(s.from)).value}return!1}function Yr(n){var r=Wr(n)?null:{s:0,n};return{next:function(i){for(var c=0<arguments.length;r;)switch(r.s){case 0:if(r.s=1,c)for(;r.n.l&&pe(i,r.n.from)<0;)r={up:r,n:r.n.l,s:1};else for(;r.n.l;)r={up:r,n:r.n.l,s:1};case 1:if(r.s=2,!c||pe(i,r.n.to)<=0)return{value:r.n,done:!1};case 2:if(r.n.r){r.s=3,r={up:r,n:r.n.r,s:0};continue}case 3:r=r.up}return{done:!0}}}}function gu(n){var r,i,c=(((r=n.r)===null||r===void 0?void 0:r.d)||0)-(((i=n.l)===null||i===void 0?void 0:i.d)||0),s=1<c?"r":c<-1?"l":"";s&&(r=s=="r"?"l":"r",i=v({},n),c=n[s],n.from=c.from,n.to=c.to,n[s]=c[s],i[s]=c[r],(n[r]=i).d=pr(i)),n.d=pr(n)}function pr(i){var r=i.r,i=i.l;return(r?i?Math.max(r.d,i.d):r.d:i?i.d:0)+1}function Hr(n,r){return $e(r).forEach(function(i){n[i]?hr(n[i],r[i]):n[i]=function c(s){var l,h,b={};for(l in s)X(s,l)&&(h=s[l],b[l]=!h||typeof h!="object"||Qn.has(h.constructor)?h:c(h));return b}(r[i])}),n}function vt(n,r){return n.all||r.all||Object.keys(n).some(function(i){return r[i]&&Ft(r[i],n[i])})}Et(et.prototype,((Ge={add:function(n){return hr(this,n),this},addKey:function(n){return dr(this,n,n),this},addKeys:function(n){var r=this;return n.forEach(function(i){return dr(r,i,i)}),this},hasKey:function(n){var r=Yr(this).next(n).value;return r&&pe(r.from,n)<=0&&0<=pe(r.to,n)}})[qr]=function(){return Yr(this)},Ge));var Lt={},vr={},Qr=!1;function br(n){Hr(vr,n),Qr||(Qr=!0,setTimeout(function(){Qr=!1,mr(vr,!(vr={}))},0))}function mr(n,r){r===void 0&&(r=!1);var i=new Set;if(n.all)for(var c=0,s=Object.values(Lt);c<s.length;c++)wu(h=s[c],n,i,r);else for(var l in n){var h,b=/^idb\:\/\/(.*)\/(.*)\//.exec(l);b&&(l=b[1],b=b[2],(h=Lt["idb://".concat(l,"/").concat(b)])&&wu(h,n,i,r))}i.forEach(function(_){return _()})}function wu(n,r,i,c){for(var s=[],l=0,h=Object.entries(n.queries.query);l<h.length;l++){for(var b=h[l],_=b[0],$=[],O=0,m=b[1];O<m.length;O++){var E=m[O];vt(r,E.obsSet)?E.subscribers.forEach(function(P){return i.add(P)}):c&&$.push(E)}c&&s.push([_,$])}if(c)for(var x=0,y=s;x<y.length;x++){var k=y[x],_=k[0],$=k[1];n.queries.query[_]=$}}function _u(n){var r=n._state,i=n._deps.indexedDB;if(r.isBeingOpened||n.idbdb)return r.dbReadyPromise.then(function(){return r.dbOpenError?Ne(r.dbOpenError):n});r.isBeingOpened=!0,r.dbOpenError=null,r.openComplete=!1;var c=r.openCanceller,s=Math.round(10*n.verno),l=!1;function h(){if(r.openCanceller!==c)throw new ee.DatabaseClosed("db.open() was cancelled")}function b(){return new V(function(E,x){if(h(),!i)throw new ee.MissingAPI;var y=n.name,k=r.autoSchema||!s?i.open(y):i.open(y,s);if(!k)throw new ee.MissingAPI;k.onerror=Kt(x),k.onblocked=Pe(n._fireOnBlocked),k.onupgradeneeded=Pe(function(P){var S;O=k.transaction,r.autoSchema&&!n._options.allowEmptyDB?(k.onerror=zn,O.abort(),k.result.close(),(S=i.deleteDatabase(y)).onsuccess=S.onerror=Pe(function(){x(new ee.NoSuchDatabase("Database ".concat(y," doesnt exist")))})):(O.onerror=Kt(x),P=P.oldVersion>Math.pow(2,62)?0:P.oldVersion,m=P<1,n.idbdb=k.result,l&&mi(n,O),Z(n,P/10,O,x))},x),k.onsuccess=Pe(function(){O=null;var P,S,K,j,I,F=n.idbdb=k.result,z=Y(F.objectStoreNames);if(0<z.length)try{var M=F.transaction((j=z).length===1?j[0]:j,"readonly");if(r.autoSchema)S=F,K=M,(P=n).verno=S.version/10,K=P._dbSchema=fr(0,S,K),P._storeNames=Y(S.objectStoreNames,0),Ze(P,[P._allTables],$e(K),K);else if(Nt(n,n._dbSchema,M),((I=sr(fr(0,(I=n).idbdb,M),I._dbSchema)).add.length||I.change.some(function(L){return L.add.length||L.change.length}))&&!l)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),F.close(),s=F.version+1,l=!0,E(b());cr(n,M)}catch{}Bn.push(n),F.onversionchange=Pe(function(L){r.vcFired=!0,n.on("versionchange").fire(L)}),F.onclose=Pe(function(){n.close({disableAutoOpen:!1})}),m&&(I=n._deps,M=y,F=I.indexedDB,I=I.IDBKeyRange,za(F)||M===Ur||Ua(F,I).put({name:M}).catch(Ee)),E()},x)}).catch(function(E){switch(E==null?void 0:E.name){case"UnknownError":if(0<r.PR1398_maxLoop)return r.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),b();break;case"VersionError":if(0<s)return s=0,b()}return V.reject(E)})}var _,$=r.dbReadyResolve,O=null,m=!1;return V.race([c,(typeof navigator>"u"?V.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(E){function x(){return indexedDB.databases().finally(E)}_=setInterval(x,100),x()}).finally(function(){return clearInterval(_)}):Promise.resolve()).then(b)]).then(function(){return h(),r.onReadyBeingFired=[],V.resolve(lr(function(){return n.on.ready.fire(n.vip)})).then(function E(){if(0<r.onReadyBeingFired.length){var x=r.onReadyBeingFired.reduce(Ea,Ee);return r.onReadyBeingFired=[],V.resolve(lr(function(){return x(n.vip)})).then(E)}})}).finally(function(){r.openCanceller===c&&(r.onReadyBeingFired=null,r.isBeingOpened=!1)}).catch(function(E){r.dbOpenError=E;try{O&&O.abort()}catch{}return c===r.openCanceller&&n._close(),Ne(E)}).finally(function(){r.openComplete=!0,$()}).then(function(){var E;return m&&(E={},n.tables.forEach(function(x){x.schema.indexes.forEach(function(y){y.name&&(E["idb://".concat(n.name,"/").concat(x.name,"/").concat(y.name)]=new et(-1/0,[[[]]]))}),E["idb://".concat(n.name,"/").concat(x.name,"/")]=E["idb://".concat(n.name,"/").concat(x.name,"/:dels")]=new et(-1/0,[[[]]])}),kt(or).fire(E),mr(E,!0)),n})}function Ja(n){function r(l){return n.next(l)}var i=s(r),c=s(function(l){return n.throw(l)});function s(l){return function(_){var b=l(_),_=b.value;return b.done?_:_&&typeof _.then=="function"?_.then(i,c):Oe(_)?Promise.all(_).then(i,c):i(_)}}return s(r)()}function yr(n,r,i){for(var c=Oe(n)?n.slice():[n],s=0;s<i;++s)c.push(r);return c}var gi={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(n){return v(v({},n),{table:function(r){var i=n.table(r),c=i.schema,s={},l=[];function h(m,E,x){var y=Ve(m),k=s[y]=s[y]||[],P=m==null?0:typeof m=="string"?1:m.length,S=0<E,S=v(v({},x),{name:S?"".concat(y,"(virtual-from:").concat(x.name,")"):x.name,lowLevelIndex:x,isVirtual:S,keyTail:E,keyLength:P,extractKey:Jn(m),unique:!S&&x.unique});return k.push(S),S.isPrimaryKey||l.push(S),1<P&&h(P===2?m[0]:m.slice(0,P-1),E+1,x),k.sort(function(K,j){return K.keyTail-j.keyTail}),S}r=h(c.primaryKey.keyPath,0,c.primaryKey),s[":id"]=[r];for(var b=0,_=c.indexes;b<_.length;b++){var $=_[b];h($.keyPath,0,$)}function O(m){var E,x=m.query.index;return x.isVirtual?v(v({},m),{query:{index:x.lowLevelIndex,range:(E=m.query.range,x=x.keyTail,{type:E.type===1?2:E.type,lower:yr(E.lower,E.lowerOpen?n.MAX_KEY:n.MIN_KEY,x),lowerOpen:!0,upper:yr(E.upper,E.upperOpen?n.MIN_KEY:n.MAX_KEY,x),upperOpen:!0})}}):m}return v(v({},i),{schema:v(v({},c),{primaryKey:r,indexes:l,getIndexByKeyPath:function(m){return(m=s[Ve(m)])&&m[0]}}),count:function(m){return i.count(O(m))},query:function(m){return i.query(O(m))},openCursor:function(m){var E=m.query.index,x=E.keyTail,y=E.isVirtual,k=E.keyLength;return y?i.openCursor(O(m)).then(function(S){return S&&P(S)}):i.openCursor(m);function P(S){return Object.create(S,{continue:{value:function(K){K!=null?S.continue(yr(K,m.reverse?n.MAX_KEY:n.MIN_KEY,x)):m.unique?S.continue(S.key.slice(0,k).concat(m.reverse?n.MIN_KEY:n.MAX_KEY,x)):S.continue()}},continuePrimaryKey:{value:function(K,j){S.continuePrimaryKey(yr(K,n.MAX_KEY,x),j)}},primaryKey:{get:function(){return S.primaryKey}},key:{get:function(){var K=S.key;return k===1?K[0]:K.slice(0,k)}},value:{get:function(){return S.value}}})}}})}})}};function Xr(n,r,i,c){return i=i||{},c=c||"",$e(n).forEach(function(s){var l,h,b;X(r,s)?(l=n[s],h=r[s],typeof l=="object"&&typeof h=="object"&&l&&h?(b=$a(l))!==$a(h)?i[c+s]=r[s]:b==="Object"?Xr(l,h,i,c+s+"."):l!==h&&(i[c+s]=r[s]):l!==h&&(i[c+s]=r[s])):i[c+s]=void 0}),$e(r).forEach(function(s){X(n,s)||(i[c+s]=r[s])}),i}function Va(n,r){return r.type==="delete"?r.keys:r.keys||r.values.map(n.extractKey)}var ku={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(n){return v(v({},n),{table:function(r){var i=n.table(r),c=i.schema.primaryKey;return v(v({},i),{mutate:function(s){var l=Q.trans,h=l.table(r).hook,b=h.deleting,_=h.creating,$=h.updating;switch(s.type){case"add":if(_.fire===Ee)break;return l._promise("readwrite",function(){return O(s)},!0);case"put":if(_.fire===Ee&&$.fire===Ee)break;return l._promise("readwrite",function(){return O(s)},!0);case"delete":if(b.fire===Ee)break;return l._promise("readwrite",function(){return O(s)},!0);case"deleteRange":if(b.fire===Ee)break;return l._promise("readwrite",function(){return function m(E,x,y){return i.query({trans:E,values:!1,query:{index:c,range:x},limit:y}).then(function(k){var P=k.result;return O({type:"delete",keys:P,trans:E}).then(function(S){return 0<S.numFailures?Promise.reject(S.failures[0]):P.length<y?{failures:[],numFailures:0,lastResult:void 0}:m(E,v(v({},x),{lower:P[P.length-1],lowerOpen:!0}),y)})})}(s.trans,s.range,1e4)},!0)}return i.mutate(s);function O(m){var E,x,y,k=Q.trans,P=m.keys||Va(c,m);if(!P)throw new Error("Keys missing");return(m=m.type==="add"||m.type==="put"?v(v({},m),{keys:P}):v({},m)).type!=="delete"&&(m.values=R([],m.values)),m.keys&&(m.keys=R([],m.keys)),E=i,y=P,((x=m).type==="add"?Promise.resolve([]):E.getMany({trans:x.trans,keys:y,cache:"immutable"})).then(function(S){var K=P.map(function(j,I){var F,z,M,L=S[I],J={onerror:null,onsuccess:null};return m.type==="delete"?b.fire.call(J,j,L,k):m.type==="add"||L===void 0?(F=_.fire.call(J,j,m.values[I],k),j==null&&F!=null&&(m.keys[I]=j=F,c.outbound||g(m.values[I],c.keyPath,j))):(F=Xr(L,m.values[I]),(z=$.fire.call(J,F,j,L,k))&&(M=m.values[I],Object.keys(z).forEach(function(U){X(M,U)?M[U]=z[U]:g(M,U,z[U])}))),J});return i.mutate(m).then(function(j){for(var I=j.failures,F=j.results,z=j.numFailures,j=j.lastResult,M=0;M<P.length;++M){var L=(F||P)[M],J=K[M];L==null?J.onerror&&J.onerror(I[M]):J.onsuccess&&J.onsuccess(m.type==="put"&&S[M]?m.values[M]:L)}return{failures:I,results:F,numFailures:z,lastResult:j}}).catch(function(j){return K.forEach(function(I){return I.onerror&&I.onerror(j)}),Promise.reject(j)})})}}})}})}};function $u(n,r,i){try{if(!r||r.keys.length<n.length)return null;for(var c=[],s=0,l=0;s<r.keys.length&&l<n.length;++s)pe(r.keys[s],n[l])===0&&(c.push(i?pt(r.values[s]):r.values[s]),++l);return c.length===n.length?c:null}catch{return null}}var wi={stack:"dbcore",level:-1,create:function(n){return{table:function(r){var i=n.table(r);return v(v({},i),{getMany:function(c){if(!c.cache)return i.getMany(c);var s=$u(c.keys,c.trans._cache,c.cache==="clone");return s?V.resolve(s):i.getMany(c).then(function(l){return c.trans._cache={keys:c.keys,values:c.cache==="clone"?pt(l):l},l})},mutate:function(c){return c.type!=="add"&&(c.trans._cache=null),i.mutate(c)}})}}}};function xu(n,r){return n.trans.mode==="readonly"&&!!n.subscr&&!n.trans.explicit&&n.trans.db._options.cache!=="disabled"&&!r.schema.primaryKey.outbound}function Ou(n,r){switch(n){case"query":return r.values&&!r.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Ct={stack:"dbcore",level:0,name:"Observability",create:function(n){var r=n.schema.name,i=new et(n.MIN_KEY,n.MAX_KEY);return v(v({},n),{transaction:function(c,s,l){if(Q.subscr&&s!=="readonly")throw new ee.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Q.querier));return n.transaction(c,s,l)},table:function(c){var s=n.table(c),l=s.schema,h=l.primaryKey,m=l.indexes,b=h.extractKey,_=h.outbound,$=h.autoIncrement&&m.filter(function(x){return x.compound&&x.keyPath.includes(h.keyPath)}),O=v(v({},s),{mutate:function(x){function y(U){return U="idb://".concat(r,"/").concat(c,"/").concat(U),j[U]||(j[U]=new et)}var k,P,S,K=x.trans,j=x.mutatedParts||(x.mutatedParts={}),I=y(""),F=y(":dels"),z=x.type,J=x.type==="deleteRange"?[x.range]:x.type==="delete"?[x.keys]:x.values.length<50?[Va(h,x).filter(function(U){return U}),x.values]:[],M=J[0],L=J[1],J=x.trans._cache;return Oe(M)?(I.addKeys(M),(J=z==="delete"||M.length===L.length?$u(M,J):null)||F.addKeys(M),(J||L)&&(k=y,P=J,S=L,l.indexes.forEach(function(U){var H=k(U.name||"");function ie(le){return le!=null?U.extractKey(le):null}function se(le){return U.multiEntry&&Oe(le)?le.forEach(function(ft){return H.addKey(ft)}):H.addKey(le)}(P||S).forEach(function(le,tt){var ae=P&&ie(P[tt]),tt=S&&ie(S[tt]);pe(ae,tt)!==0&&(ae!=null&&se(ae),tt!=null&&se(tt))})}))):M?(L={from:(L=M.lower)!==null&&L!==void 0?L:n.MIN_KEY,to:(L=M.upper)!==null&&L!==void 0?L:n.MAX_KEY},F.add(L),I.add(L)):(I.add(i),F.add(i),l.indexes.forEach(function(U){return y(U.name).add(i)})),s.mutate(x).then(function(U){return!M||x.type!=="add"&&x.type!=="put"||(I.addKeys(U.results),$&&$.forEach(function(H){for(var ie=x.values.map(function(ae){return H.extractKey(ae)}),se=H.keyPath.findIndex(function(ae){return ae===h.keyPath}),le=0,ft=U.results.length;le<ft;++le)ie[le][se]=U.results[le];y(H.name).addKeys(ie)})),K.mutatedParts=Hr(K.mutatedParts||{},j),U})}}),m=function(y){var k=y.query,y=k.index,k=k.range;return[y,new et((y=k.lower)!==null&&y!==void 0?y:n.MIN_KEY,(k=k.upper)!==null&&k!==void 0?k:n.MAX_KEY)]},E={get:function(x){return[h,new et(x.key)]},getMany:function(x){return[h,new et().addKeys(x.keys)]},count:m,query:m,openCursor:m};return $e(E).forEach(function(x){O[x]=function(y){var k=Q.subscr,P=!!k,S=xu(Q,s)&&Ou(x,y)?y.obsSet={}:k;if(P){var K=function(L){return L="idb://".concat(r,"/").concat(c,"/").concat(L),S[L]||(S[L]=new et)},j=K(""),I=K(":dels"),k=E[x](y),P=k[0],k=k[1];if((x==="query"&&P.isPrimaryKey&&!y.values?I:K(P.name||"")).add(k),!P.isPrimaryKey){if(x!=="count"){var F=x==="query"&&_&&y.values&&s.query(v(v({},y),{values:!1}));return s[x].apply(this,arguments).then(function(L){if(x==="query"){if(_&&y.values)return F.then(function(ie){return ie=ie.result,j.addKeys(ie),L});var J=y.values?L.result.map(b):L.result;(y.values?j:I).addKeys(J)}else if(x==="openCursor"){var U=L,H=y.values;return U&&Object.create(U,{key:{get:function(){return I.addKey(U.primaryKey),U.key}},primaryKey:{get:function(){var ie=U.primaryKey;return I.addKey(ie),ie}},value:{get:function(){return H&&j.addKey(U.primaryKey),U.value}}})}return L})}I.add(i)}}return s[x].apply(this,arguments)}}),O}})}};function ct(n,r,i){if(i.numFailures===0)return r;if(r.type==="deleteRange")return null;var c=r.keys?r.keys.length:"values"in r&&r.values?r.values.length:1;return i.numFailures===c?null:(r=v({},r),Oe(r.keys)&&(r.keys=r.keys.filter(function(s,l){return!(l in i.failures)})),"values"in r&&Oe(r.values)&&(r.values=r.values.filter(function(s,l){return!(l in i.failures)})),r)}function Yn(n,r){return i=n,((c=r).lower===void 0||(c.lowerOpen?0<pe(i,c.lower):0<=pe(i,c.lower)))&&(n=n,(r=r).upper===void 0||(r.upperOpen?pe(n,r.upper)<0:pe(n,r.upper)<=0));var i,c}function _n(n,r,E,c,s,l){if(!E||E.length===0)return n;var h=r.query.index,b=h.multiEntry,_=r.query.range,$=c.schema.primaryKey.extractKey,O=h.extractKey,m=(h.lowLevelIndex||h).extractKey,E=E.reduce(function(x,y){var k=x,P=[];if(y.type==="add"||y.type==="put")for(var S=new et,K=y.values.length-1;0<=K;--K){var j,I=y.values[K],F=$(I);S.hasKey(F)||(j=O(I),(b&&Oe(j)?j.some(function(U){return Yn(U,_)}):Yn(j,_))&&(S.addKey(F),P.push(I)))}switch(y.type){case"add":var z=new et().addKeys(r.values?x.map(function(H){return $(H)}):x),k=x.concat(r.values?P.filter(function(H){return H=$(H),!z.hasKey(H)&&(z.addKey(H),!0)}):P.map(function(H){return $(H)}).filter(function(H){return!z.hasKey(H)&&(z.addKey(H),!0)}));break;case"put":var M=new et().addKeys(y.values.map(function(H){return $(H)}));k=x.filter(function(H){return!M.hasKey(r.values?$(H):H)}).concat(r.values?P:P.map(function(H){return $(H)}));break;case"delete":var L=new et().addKeys(y.keys);k=x.filter(function(H){return!L.hasKey(r.values?$(H):H)});break;case"deleteRange":var J=y.range;k=x.filter(function(H){return!Yn($(H),J)})}return k},n);return E===n?n:(E.sort(function(x,y){return pe(m(x),m(y))||pe($(x),$(y))}),r.limit&&r.limit<1/0&&(E.length>r.limit?E.length=r.limit:n.length===r.limit&&E.length<r.limit&&(s.dirty=!0)),l?Object.freeze(E):E)}function Ga(n,r){return pe(n.lower,r.lower)===0&&pe(n.upper,r.upper)===0&&!!n.lowerOpen==!!r.lowerOpen&&!!n.upperOpen==!!r.upperOpen}function Te(n,r){return function(i,c,s,l){if(i===void 0)return c!==void 0?-1:0;if(c===void 0)return 1;if((c=pe(i,c))===0){if(s&&l)return 0;if(s)return 1;if(l)return-1}return c}(n.lower,r.lower,n.lowerOpen,r.lowerOpen)<=0&&0<=function(i,c,s,l){if(i===void 0)return c!==void 0?1:0;if(c===void 0)return-1;if((c=pe(i,c))===0){if(s&&l)return 0;if(s)return-1;if(l)return 1}return c}(n.upper,r.upper,n.upperOpen,r.upperOpen)}function _i(n,r,i,c){n.subscribers.add(i),c.addEventListener("abort",function(){var s,l;n.subscribers.delete(i),n.subscribers.size===0&&(s=n,l=r,setTimeout(function(){s.subscribers.size===0&&ln(l,s)},3e3))})}var Eu={stack:"dbcore",level:0,name:"Cache",create:function(n){var r=n.schema.name;return v(v({},n),{transaction:function(i,c,s){var l,h,b=n.transaction(i,c,s);return c==="readwrite"&&(h=(l=new AbortController).signal,s=function(_){return function(){if(l.abort(),c==="readwrite"){for(var $=new Set,O=0,m=i;O<m.length;O++){var E=m[O],x=Lt["idb://".concat(r,"/").concat(E)];if(x){var y=n.table(E),k=x.optimisticOps.filter(function(H){return H.trans===b});if(b._explicit&&_&&b.mutatedParts)for(var P=0,S=Object.values(x.queries.query);P<S.length;P++)for(var K=0,j=(z=S[P]).slice();K<j.length;K++)vt((M=j[K]).obsSet,b.mutatedParts)&&(ln(z,M),M.subscribers.forEach(function(H){return $.add(H)}));else if(0<k.length){x.optimisticOps=x.optimisticOps.filter(function(H){return H.trans!==b});for(var I=0,F=Object.values(x.queries.query);I<F.length;I++)for(var z,M,L,J=0,U=(z=F[I]).slice();J<U.length;J++)(M=U[J]).res!=null&&b.mutatedParts&&(_&&!M.dirty?(L=Object.isFrozen(M.res),L=_n(M.res,M.req,k,y,M,L),M.dirty?(ln(z,M),M.subscribers.forEach(function(H){return $.add(H)})):L!==M.res&&(M.res=L,M.promise=V.resolve({result:L}))):(M.dirty&&ln(z,M),M.subscribers.forEach(function(H){return $.add(H)})))}}}$.forEach(function(H){return H()})}}},b.addEventListener("abort",s(!1),{signal:h}),b.addEventListener("error",s(!1),{signal:h}),b.addEventListener("complete",s(!0),{signal:h})),b},table:function(i){var c=n.table(i),s=c.schema.primaryKey;return v(v({},c),{mutate:function(l){var h=Q.trans;if(s.outbound||h.db._options.cache==="disabled"||h.explicit||h.idbtrans.mode!=="readwrite")return c.mutate(l);var b=Lt["idb://".concat(r,"/").concat(i)];return b?(h=c.mutate(l),l.type!=="add"&&l.type!=="put"||!(50<=l.values.length||Va(s,l).some(function(_){return _==null}))?(b.optimisticOps.push(l),l.mutatedParts&&br(l.mutatedParts),h.then(function(_){0<_.numFailures&&(ln(b.optimisticOps,l),(_=ct(0,l,_))&&b.optimisticOps.push(_),l.mutatedParts&&br(l.mutatedParts))}),h.catch(function(){ln(b.optimisticOps,l),l.mutatedParts&&br(l.mutatedParts)})):h.then(function(_){var $=ct(0,v(v({},l),{values:l.values.map(function(O,m){var E;return _.failures[m]?O:(O=(E=s.keyPath)!==null&&E!==void 0&&E.includes(".")?pt(O):v({},O),g(O,s.keyPath,_.results[m]),O)})}),_);b.optimisticOps.push($),queueMicrotask(function(){return l.mutatedParts&&br(l.mutatedParts)})}),h):c.mutate(l)},query:function(l){if(!xu(Q,c)||!Ou("query",l))return c.query(l);var h=(($=Q.trans)===null||$===void 0?void 0:$.db._options.cache)==="immutable",m=Q,b=m.requery,_=m.signal,$=function(y,k,P,S){var K=Lt["idb://".concat(y,"/").concat(k)];if(!K)return[];if(!(k=K.queries[P]))return[null,!1,K,null];var j=k[(S.query?S.query.index.name:null)||""];if(!j)return[null,!1,K,null];switch(P){case"query":var I=j.find(function(F){return F.req.limit===S.limit&&F.req.values===S.values&&Ga(F.req.query.range,S.query.range)});return I?[I,!0,K,j]:[j.find(function(F){return("limit"in F.req?F.req.limit:1/0)>=S.limit&&(!S.values||F.req.values)&&Te(F.req.query.range,S.query.range)}),!1,K,j];case"count":return I=j.find(function(F){return Ga(F.req.query.range,S.query.range)}),[I,!!I,K,j]}}(r,i,"query",l),O=$[0],m=$[1],E=$[2],x=$[3];return O&&m?O.obsSet=l.obsSet:(m=c.query(l).then(function(y){var k=y.result;if(O&&(O.res=k),h){for(var P=0,S=k.length;P<S;++P)Object.freeze(k[P]);Object.freeze(k)}else y.result=pt(k);return y}).catch(function(y){return x&&O&&ln(x,O),Promise.reject(y)}),O={obsSet:l.obsSet,promise:m,subscribers:new Set,type:"query",req:l,dirty:!1},x?x.push(O):(x=[O],(E=E||(Lt["idb://".concat(r,"/").concat(i)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[l.query.index.name||""]=x)),_i(O,x,b,_),O.promise.then(function(y){return{result:_n(y.result,l,E==null?void 0:E.optimisticOps,c,O,h)}})}})}})}};function Zr(n,r){return new Proxy(n,{get:function(i,c,s){return c==="db"?r:Reflect.get(i,c,s)}})}var qt=(Se.prototype.version=function(n){if(isNaN(n)||n<.1)throw new ee.Type("Given version is not a positive number");if(n=Math.round(10*n)/10,this.idbdb||this._state.isBeingOpened)throw new ee.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,n);var r=this._versions,i=r.filter(function(c){return c._cfg.version===n})[0];return i||(i=new this.Version(n),r.push(i),r.sort(te),i.stores({}),this._state.autoSchema=!1,i)},Se.prototype._whenReady=function(n){var r=this;return this.idbdb&&(this._state.openComplete||Q.letThrough||this._vip)?n():new V(function(i,c){if(r._state.openComplete)return c(new ee.DatabaseClosed(r._state.dbOpenError));if(!r._state.isBeingOpened){if(!r._state.autoOpen)return void c(new ee.DatabaseClosed);r.open().catch(Ee)}r._state.dbReadyPromise.then(i,c)}).then(n)},Se.prototype.use=function(n){var r=n.stack,i=n.create,c=n.level,s=n.name;return s&&this.unuse({stack:r,name:s}),n=this._middlewares[r]||(this._middlewares[r]=[]),n.push({stack:r,create:i,level:c??10,name:s}),n.sort(function(l,h){return l.level-h.level}),this},Se.prototype.unuse=function(n){var r=n.stack,i=n.name,c=n.create;return r&&this._middlewares[r]&&(this._middlewares[r]=this._middlewares[r].filter(function(s){return c?s.create!==c:!!i&&s.name!==i})),this},Se.prototype.open=function(){var n=this;return mn(Fe,function(){return _u(n)})},Se.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var n=this._state,r=Bn.indexOf(this);if(0<=r&&Bn.splice(r,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}n.isBeingOpened||(n.dbReadyPromise=new V(function(i){n.dbReadyResolve=i}),n.openCanceller=new V(function(i,c){n.cancelOpen=c}))},Se.prototype.close=function(i){var r=(i===void 0?{disableAutoOpen:!0}:i).disableAutoOpen,i=this._state;r?(i.isBeingOpened&&i.cancelOpen(new ee.DatabaseClosed),this._close(),i.autoOpen=!1,i.dbOpenError=new ee.DatabaseClosed):(this._close(),i.autoOpen=this._options.autoOpen||i.isBeingOpened,i.openComplete=!1,i.dbOpenError=null)},Se.prototype.delete=function(n){var r=this;n===void 0&&(n={disableAutoOpen:!0});var i=0<arguments.length&&typeof arguments[0]!="object",c=this._state;return new V(function(s,l){function h(){r.close(n);var b=r._deps.indexedDB.deleteDatabase(r.name);b.onsuccess=Pe(function(){var _,$,O;_=r._deps,$=r.name,O=_.indexedDB,_=_.IDBKeyRange,za(O)||$===Ur||Ua(O,_).delete($).catch(Ee),s()}),b.onerror=Kt(l),b.onblocked=r._fireOnBlocked}if(i)throw new ee.InvalidArgument("Invalid closeOptions argument to db.delete()");c.isBeingOpened?c.dbReadyPromise.then(h):h()})},Se.prototype.backendDB=function(){return this.idbdb},Se.prototype.isOpen=function(){return this.idbdb!==null},Se.prototype.hasBeenClosed=function(){var n=this._state.dbOpenError;return n&&n.name==="DatabaseClosed"},Se.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Se.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Se.prototype,"tables",{get:function(){var n=this;return $e(this._allTables).map(function(r){return n._allTables[r]})},enumerable:!1,configurable:!0}),Se.prototype.transaction=function(){var n=(function(r,i,c){var s=arguments.length;if(s<2)throw new ee.InvalidArgument("Too few arguments");for(var l=new Array(s-1);--s;)l[s-1]=arguments[s];return c=l.pop(),[r,fn(l),c]}).apply(this,arguments);return this._transaction.apply(this,n)},Se.prototype._transaction=function(n,r,i){var c=this,s=Q.trans;s&&s.db===this&&n.indexOf("!")===-1||(s=null);var l,h,b=n.indexOf("?")!==-1;n=n.replace("!","").replace("?","");try{if(h=r.map(function($){if($=$ instanceof c.Table?$.name:$,typeof $!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return $}),n=="r"||n===qa)l=qa;else{if(n!="rw"&&n!=nr)throw new ee.InvalidArgument("Invalid transaction mode: "+n);l=nr}if(s){if(s.mode===qa&&l===nr){if(!b)throw new ee.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");s=null}s&&h.forEach(function($){if(s&&s.storeNames.indexOf($)===-1){if(!b)throw new ee.SubTransaction("Table "+$+" not included in parent transaction.");s=null}}),b&&s&&!s.active&&(s=null)}}catch($){return s?s._promise(null,function(O,m){m($)}):Ne($)}var _=(function $(O,m,E,x,y){return V.resolve().then(function(){var k=Q.transless||Q,P=O._createTransaction(m,E,O._dbSchema,x);if(P.explicit=!0,k={trans:P,transless:k},x)P.idbtrans=x.idbtrans;else try{P.create(),P.idbtrans._explicit=!0,O._state.PR1398_maxLoop=3}catch(j){return j.name===Oa.InvalidState&&O.isOpen()&&0<--O._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),O.close({disableAutoOpen:!1}),O.open().then(function(){return $(O,m,E,null,y)})):Ne(j)}var S,K=xa(y);return K&&Dn(),k=V.follow(function(){var j;(S=y.call(P,P))&&(K?(j=rt.bind(null,null),S.then(j,j)):typeof S.next=="function"&&typeof S.throw=="function"&&(S=Ja(S)))},k),(S&&typeof S.then=="function"?V.resolve(S).then(function(j){return P.active?j:Ne(new ee.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):k.then(function(){return S})).then(function(j){return x&&P._resolve(),P._completion.then(function(){return j})}).catch(function(j){return P._reject(j),Ne(j)})})}).bind(null,this,l,h,s,i);return s?s._promise(l,_,"lock"):Q.trans?mn(Q.transless,function(){return c._whenReady(_)}):this._whenReady(_)},Se.prototype.table=function(n){if(!X(this._allTables,n))throw new ee.InvalidTable("Table ".concat(n," does not exist"));return this._allTables[n]},Se);function Se(n,r){var i=this;this._middlewares={},this.verno=0;var c=Se.dependencies;this._options=r=v({addons:Se.addons,autoOpen:!0,indexedDB:c.indexedDB,IDBKeyRange:c.IDBKeyRange,cache:"cloned"},r),this._deps={indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange},c=r.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var s,l,h,b,_,$={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ee,dbReadyPromise:null,cancelOpen:Ee,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:r.autoOpen};$.dbReadyPromise=new V(function(m){$.dbReadyResolve=m}),$.openCanceller=new V(function(m,E){$.cancelOpen=E}),this._state=$,this.name=n,this.on=Mn(this,"populate","blocked","versionchange","close",{ready:[Ea,Ee]}),this.once=function(m,E){var x=function(){for(var y=[],k=0;k<arguments.length;k++)y[k]=arguments[k];i.on(m).unsubscribe(x),E.apply(i,y)};return i.on(m,x)},this.on.ready.subscribe=Ie(this.on.ready.subscribe,function(m){return function(E,x){Se.vip(function(){var y,k=i._state;k.openComplete?(k.dbOpenError||V.resolve().then(E),x&&m(E)):k.onReadyBeingFired?(k.onReadyBeingFired.push(E),x&&m(E)):(m(E),y=i,x||m(function P(){y.on.ready.unsubscribe(E),y.on.ready.unsubscribe(P)}))})}}),this.Collection=(s=this,gn(Vr.prototype,function(S,P){this.db=s;var x=Ta,y=null;if(P)try{x=P()}catch(K){y=K}var k=S._ctx,P=k.table,S=P.hook.reading.fire;this._ctx={table:P,index:k.index,isPrimKey:!k.index||P.schema.primKey.keyPath&&k.index===P.schema.primKey.name,range:x,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:y,or:k.or,valueMapper:S!==jt?S:null}})),this.Table=(l=this,gn(ut.prototype,function(m,E,x){this.db=l,this._tx=x,this.name=m,this.schema=E,this.hook=l._allTables[m]?l._allTables[m].hook:Mn(null,{creating:[si,Ee],reading:[ci,jt],updating:[li,Ee],deleting:[fi,Ee]})})),this.Transaction=(h=this,gn(vi.prototype,function(m,E,x,y,k){var P=this;m!=="readonly"&&E.forEach(function(S){S=(S=x[S])===null||S===void 0?void 0:S.yProps,S&&(E=E.concat(S.map(function(K){return K.updatesTable})))}),this.db=h,this.mode=m,this.storeNames=E,this.schema=x,this.chromeTransactionDurability=y,this.idbtrans=null,this.on=Mn(this,"complete","error","abort"),this.parent=k||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new V(function(S,K){P._resolve=S,P._reject=K}),this._completion.then(function(){P.active=!1,P.on.complete.fire()},function(S){var K=P.active;return P.active=!1,P.on.error.fire(S),P.parent?P.parent._reject(S):K&&P.idbtrans&&P.idbtrans.abort(),Ne(S)})})),this.Version=(b=this,gn(yi.prototype,function(m){this.db=b,this._cfg={version:m,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(_=this,gn(bu.prototype,function(m,E,x){if(this.db=_,this._ctx={table:m,index:E===":id"?null:E,or:x},this._cmp=this._ascending=pe,this._descending=function(y,k){return pe(k,y)},this._max=function(y,k){return 0<pe(y,k)?y:k},this._min=function(y,k){return pe(y,k)<0?y:k},this._IDBKeyRange=_._deps.IDBKeyRange,!this._IDBKeyRange)throw new ee.MissingAPI})),this.on("versionchange",function(m){0<m.newVersion?console.warn("Another connection wants to upgrade database '".concat(i.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(i.name,"'. Closing db now to resume the delete request.")),i.close({disableAutoOpen:!1})}),this.on("blocked",function(m){!m.newVersion||m.newVersion<m.oldVersion?console.warn("Dexie.delete('".concat(i.name,"') was blocked")):console.warn("Upgrade '".concat(i.name,"' blocked by other connection holding version ").concat(m.oldVersion/10))}),this._maxKey=Je(r.IDBKeyRange),this._createTransaction=function(m,E,x,y){return new i.Transaction(m,E,x,i._options.chromeTransactionDurability,y)},this._fireOnBlocked=function(m){i.on("blocked").fire(m),Bn.filter(function(E){return E.name===i.name&&E!==i&&!E._state.vcFired}).map(function(E){return E.on("versionchange").fire(m)})},this.use(wi),this.use(Eu),this.use(Ct),this.use(gi),this.use(ku);var O=new Proxy(this,{get:function(m,E,x){if(E==="_vip")return!0;if(E==="table")return function(k){return Zr(i.table(k),O)};var y=Reflect.get(m,E,x);return y instanceof ut?Zr(y,O):E==="tables"?y.map(function(k){return Zr(k,O)}):E==="_createTransaction"?function(){return Zr(y.apply(this,arguments),O)}:y}});this.vip=O,c.forEach(function(m){return m(i)})}var kn,Ge=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",ea=(ta.prototype.subscribe=function(n,r,i){return this._subscribe(n&&typeof n!="function"?n:{next:n,error:r,complete:i})},ta.prototype[Ge]=function(){return this},ta);function ta(n){this._subscribe=n}try{kn={indexedDB:ce.indexedDB||ce.mozIndexedDB||ce.webkitIndexedDB||ce.msIndexedDB,IDBKeyRange:ce.IDBKeyRange||ce.webkitIDBKeyRange}}catch{kn={indexedDB:null,IDBKeyRange:null}}function Wa(n){var r,i=!1,c=new ea(function(s){var l=xa(n),h,b=!1,_={},$={},O={get closed(){return b},unsubscribe:function(){b||(b=!0,h&&h.abort(),m&&kt.storagemutated.unsubscribe(x))}};s.start&&s.start(O);var m=!1,E=function(){return Lr(y)},x=function(k){Hr(_,k),vt($,_)&&E()},y=function(){var k,P,S;!b&&kn.indexedDB&&(_={},k={},h&&h.abort(),h=new AbortController,S=function(K){var j=Cn();try{l&&Dn();var I=wt(n,K);return I=l?I.finally(rt):I}finally{j&&qn()}}(P={subscr:k,signal:h.signal,requery:E,querier:n,trans:null}),Promise.resolve(S).then(function(K){i=!0,r=K,b||P.signal.aborted||(_={},function(j){for(var I in j)if(X(j,I))return;return 1}($=k)||m||(kt(or,x),m=!0),Lr(function(){return!b&&s.next&&s.next(K)}))},function(K){i=!1,["DatabaseClosedError","AbortError"].includes(K==null?void 0:K.name)||b||Lr(function(){b||s.error&&s.error(K)})}))};return setTimeout(E,0),O});return c.hasValue=function(){return i},c.getValue=function(){return r},c}var rn=qt;function na(n){var r=Tt;try{Tt=!0,kt.storagemutated.fire(n),mr(n,!0)}finally{Tt=r}}Et(rn,v(v({},Tr),{delete:function(n){return new rn(n,{addons:[]}).delete()},exists:function(n){return new rn(n,{addons:[]}).open().then(function(r){return r.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(n){try{return r=rn.dependencies,i=r.indexedDB,r=r.IDBKeyRange,(za(i)?Promise.resolve(i.databases()).then(function(c){return c.map(function(s){return s.name}).filter(function(s){return s!==Ur})}):Ua(i,r).toCollection().primaryKeys()).then(n)}catch{return Ne(new ee.MissingAPI)}var r,i},defineClass:function(){return function(n){a(this,n)}},ignoreTransaction:function(n){return Q.trans?mn(Q.transless,n):n()},vip:lr,async:function(n){return function(){try{var r=Ja(n.apply(this,arguments));return r&&typeof r.then=="function"?r:V.resolve(r)}catch(i){return Ne(i)}}},spawn:function(n,r,i){try{var c=Ja(n.apply(i,r||[]));return c&&typeof c.then=="function"?c:V.resolve(c)}catch(s){return Ne(s)}},currentTransaction:{get:function(){return Q.trans||null}},waitFor:function(n,r){return r=V.resolve(typeof n=="function"?rn.ignoreTransaction(n):n).timeout(r||6e4),Q.trans?Q.trans.waitFor(r):r},Promise:V,debug:{get:function(){return St},set:function(n){Ir(n)}},derive:ge,extend:a,props:Et,override:Ie,Events:Mn,on:kt,liveQuery:Wa,extendObservabilitySet:Hr,getByKeyPath:Ue,setByKeyPath:g,delByKeyPath:function(n,r){typeof r=="string"?g(n,r,void 0):"length"in r&&[].map.call(r,function(i){g(n,i,void 0)})},shallowClone:Rt,deepClone:pt,getObjectDiff:Xr,cmp:pe,asap:Me,minKey:-1/0,addons:[],connections:Bn,errnames:Oa,dependencies:kn,cache:Lt,semVer:"4.2.1",version:"4.2.1".split(".").map(function(n){return parseInt(n)}).reduce(function(n,r,i){return n+r/Math.pow(10,2*i)})})),rn.maxKey=Je(rn.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(kt(or,function(n){Tt||(n=new CustomEvent(Ba,{detail:n}),Tt=!0,dispatchEvent(n),Tt=!1)}),addEventListener(Ba,function(n){n=n.detail,Tt||na(n)}));var $n,Tt=!1,xn=function(){};return typeof BroadcastChannel<"u"&&((xn=function(){($n=new BroadcastChannel(Ba)).onmessage=function(n){return n.data&&na(n.data)}})(),typeof $n.unref=="function"&&$n.unref(),kt(or,function(n){Tt||$n.postMessage(n)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(n){if(!qt.disableBfCache&&n.persisted){St&&console.debug("Dexie: handling persisted pagehide"),$n!=null&&$n.close();for(var r=0,i=Bn;r<i.length;r++)i[r].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(n){!qt.disableBfCache&&n.persisted&&(St&&console.debug("Dexie: handling persisted pageshow"),xn(),na({all:new et(-1/0,[[]])}))})),V.rejectionMapper=function(n,r){return!n||n instanceof An||n instanceof TypeError||n instanceof SyntaxError||!n.name||!su[n.name]?n:(r=new su[n.name](r||n.message,n),"stack"in n&&ue(r,"stack",{get:function(){return this.inner.stack}}),r)},Ir(St),v(qt,Object.freeze({__proto__:null,Dexie:qt,liveQuery:Wa,Entity:en,cmp:pe,PropModification:ar,replacePrefix:function(n,r){return new ar({replacePrefix:[n,r]})},add:function(n){return new ar({add:n})},remove:function(n){return new ar({remove:n})},default:qt,RangeSet:et,mergeRanges:hr,rangesOverlap:Ft}),{default:qt}),qt})})(Qc);var Td=Qc.exports;const io=qd(Td),Yc=Symbol.for("Dexie"),ri=globalThis[Yc]||(globalThis[Yc]=io);if(io.semVer!==ri.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${io.semVer} and ${ri.semVer}`);const{liveQuery:Id,mergeRanges:Yd,rangesOverlap:Hd,RangeSet:Qd,cmp:Xd,Entity:Zd,PropModification:eh,replacePrefix:th,add:nh,remove:rh,DexieYProvider:ah}=ri;var Xc={exports:{}};(function(be,ye){(function(ke,v){be.exports=v()})(uo,()=>(()=>{var ke={d:(fe,ue)=>{for(var ge in ue)ke.o(ue,ge)&&!ke.o(fe,ge)&&Object.defineProperty(fe,ge,{enumerable:!0,get:ue[ge]})},o:(fe,ue)=>Object.prototype.hasOwnProperty.call(fe,ue),r:fe=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(fe,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(fe,"__esModule",{value:!0})}},v={};function R(fe){if(typeof fe!="string"||!fe.match(/^[\w-.]+$/))throw new Error("Invalid namespace version: "+fe);this.version=fe,this.functions={},this.register=function(ue,ge){if(!ue.match(/^\w+$/))throw new Error("Invalid function name: "+ue);if(ue in this.functions)throw new Error(ue+" is already used");this.functions[ue]=ge},this.names=function(){return Object.keys(this.functions)},this.find=function(ue){if(ue in this.functions)return this.functions[ue]}}ke.r(v),ke.d(v,{createNamespace:()=>Et,install:()=>Xe,register:()=>X});const ce={logCallErrors:!1,logInteropErrors:!0};var $e=ce;const Oe=new R("unversioned"),a={};function T(fe){if(fe instanceof Error){const{name:ue,message:ge,cause:ht,stack:C}=fe,Y=C===void 0?[]:C.split(/\n/).slice(1);return{name:ue,message:ge,cause:T(ht),stackLines:Y}}return fe===void 0?null:fe}function Xe(fe,ue){typeof fe=="object"&&($e={...ce,...fe}),ue===void 0&&(ue=XMLHttpRequest.prototype),ue.__elm_taskport_open=ue.open,ue.open=function(ge,ht,C,Y,Ie){if(ht.indexOf("elmtaskport://")===0){this.__elm_taskport_url=ht,this.__elm_taskport_function_call=!0,Object.defineProperty(this,"responseType",{writable:!0}),Object.defineProperty(this,"response",{writable:!0}),Object.defineProperty(this,"status",{writable:!0});const D=function(Me){const Ue=Me.match(/^elmtaskport:\/\/([\w-]+\/[\w-]+)?\/([\w]+)\?v=(\d\.\d\.\d)(?:&nsv=([\w.-]+))?$/);if(!Ue)return;const[g,Rt,st,fn,Qn]=Ue;return Rt===void 0||Qn!==void 0?{namespaceName:Rt,namespaceVersion:Qn,apiVersion:fn,functionName:st}:void 0}(ht);if(D===void 0)this.__elm_taskport_error=[400,`Cannot decode TaskPort url ${ht}. Did you update TaskPort package to a new version, but forgot to update the JavaScript code it requires?`];else{const{namespaceName:Me,functionName:Ue,apiVersion:g,namespaceVersion:Rt}=D;if(g!=="2.0.1")this.__elm_taskport_error=[400,`TaskPort version conflict. Elm-side is ${g}, but JavaScript-side is 2.0.1. Did you update TaskPort package to a new version, but forgot to update the JavaScript code it requires?`];else if(Me===void 0){this.__elm_taskport_function_name=Ue;const st=Oe.find(Ue);st!==void 0?this.__elm_taskport_function=st:this.__elm_taskport_error=[404,`Cannot find function '${Ue}' in the default namespace. The default namespace has the following functons registered:
`+Oe.names().join(`
`)]}else if(this.__elm_taskport_function_name=Me+"/"+Ue,Me in a){const st=a[Me];if(st.version===Rt){const fn=st.find(Ue);fn!==void 0?this.__elm_taskport_function=fn:this.__elm_taskport_error=[404,`Cannot find function '${Ue}' in namespace ${Me}. This namespace has only the following functons registered with it:
`+st.names().join(`
`)]}else this.__elm_taskport_error=[400,`The interop call expected namespace '${Me}' to have version '${Rt}', but it is registered with version '${st.version}'. Did you update the Elm package to a new version, but forgot to update the JavaScript code it requires?`]}else{const st=Object.keys(a);this.__elm_taskport_error=[404,`Namespace '${Me}' is not registered with TaskPort. Did you follow the instructions to install required JavaScript code for the package? `+(st.length==0)?"There are no namespaces registered with TaskPort.":`Only the following namespaces are known to TaskPort:
`+st.join(`
`)]}}}return this.__elm_taskport_open(ge,ht,C,Y,Ie)},typeof ProgressEvent=="function"?ue.__elm_taskport_dispatch_event=function(ge){this.dispatchEvent(new ProgressEvent(ge))}:ue.__elm_taskport_dispatch_event=ue.dispatchEvent,ue.__elm_taskport_send=ue.send,ue.send=function(ge){if(!this.__elm_taskport_function_call)return this.__elm_taskport_send(ge);if(this.__elm_taskport_function!==void 0){const ht=JSON.parse(ge);(function(C,Y){try{return Promise.resolve(C(Y))}catch(Ie){return Promise.reject(Ie)}})(this.__elm_taskport_function,ht).then(C=>{this.responseType="json",this.response=C===void 0?"null":JSON.stringify(C),this.status=200,this.__elm_taskport_dispatch_event("load")}).catch(C=>{$e.logCallErrors&&console.error("JavaScript function "+this.__elm_taskport_function_name+" thrown an error or returned a rejected Promise:",C),this.status=500,this.responseType="json",this.response=JSON.stringify(T(C)),this.__elm_taskport_dispatch_event("load")})}else{this.__elm_taskport_error===void 0&&this.__elm_taskport_error;const[ht,C]=this.__elm_taskport_error;$e.logInteropErrors&&console.error("Unable to execute the interop call. "+C),this.status=ht,this.responseType="text",this.response=this.__elm_taskport_function_name,this.__elm_taskport_dispatch_event("load")}}}function X(fe,ue){Oe.register(fe,ue)}function Et(fe,ue){const ge=new R(ue);return a[fe]=ge,ge}return v})())})(Xc);var jn=Xc.exports;class Dd extends HTMLElement{connectedCallback(){this.onMouseDown=this.onMouseDown.bind(this),window.addEventListener("mousedown",this.onMouseDown)}onMouseDown(ye){const ke=document.querySelectorAll(".with-click-outside"),v=Array.from(ke).filter(R=>R.contains(ye.target)).map(R=>R==null?void 0:R.id);if(v.length){const R=new CustomEvent("clickInPopups",{detail:v});this.dispatchEvent(R)}else{const R=new CustomEvent("clickoutside");this.dispatchEvent(R)}}disconnectedCallback(){window.removeEventListener("mousedown",this.onMouseDown)}}window.customElements.define("on-click-outside",Dd);jn.install({logCallErrors:!0,logInteropErrors:!0});let Ce=null;const Yt=window.crypto.randomUUID();async function Rd({name:be,version:ye}){try{Ce=new ri(be),Ce.version(ye).stores({settings:"id, theme",items:"id, name, quantity, comment, slug, symbol, state, created, updated",categories:"++id, name, items, state, created, updated",lastUpdatedBy:"id, clientId"}),await Ce.lastUpdatedBy.put({id:1,clientId:Yt})}catch(ke){return ke}return!0}async function Bd(){if(Ce){const be=await Ce.items.toArray().then(ye=>ye.reduce((ke,v)=>(ke[v.id]=v,ke),{}));return{categories:await Ce.categories.toArray(),items:be}}return{categories:[],items:{}}}async function Md(be){if(Ce)return be.lastUpdatedBy=Yt,await Ce.items.put(be),await Ce.lastUpdatedBy.put({id:1,clientId:Yt}),!0}async function Nd(be){return Ce?(await Ce.items.delete(be),await Ce.lastUpdatedBy.put({id:1,clientId:Yt}),!0):!1}async function Fd(be){if(Ce)return await Ce.items.bulkPut(Object.values(be)),await Ce.lastUpdatedBy.put({id:1,clientId:Yt}),!0}async function Ld(be){return Ce?(be.lastUpdatedBy=Yt,await Ce.categories.put(be),await Ce.lastUpdatedBy.put({id:1,clientId:Yt}),!0):!1}async function Ud(be){return Ce?(await Ce.categories.clear(),await Ce.categories.bulkAdd(be.categories.map(ye=>(ye.lastUpdatedBy=Yt,ye))),await Ce.items.clear(),await Ce.items.bulkAdd(Object.values(be.items).map(ye=>(ye.lastUpdatedBy=Yt,ye))),await Ce.lastUpdatedBy.put({id:1,clientId:Yt}),!0):!1}function zd(){return window.crypto.randomUUID()}jn.register("initDb",Rd);jn.register("queryAllCatsAndItems",Bd);jn.register("storeItem",Md);jn.register("storeAllItems",Fd);jn.register("storeDump",Ud);jn.register("getUuid",zd);jn.register("storeCategory",Ld);jn.register("deleteItem",Nd);const Jd=()=>({settings:{theme:"auto"}}),Vd=({app:be})=>{Id(async()=>({items:await Ce.items.toArray(),categories:await Ce.categories.toArray()})).subscribe({next:async ye=>{(await Ce.lastUpdatedBy.get(1)).clientId!==Yt&&be.ports.incoming.send({categories:ye.categories,items:ye.items.reduce((v,R)=>(v[R.id]=R,v),{})})},error:ye=>console.error(ye)})},Gd=Object.freeze(Object.defineProperty({__proto__:null,flags:Jd,onReady:Vd},Symbol.toStringTag,{value:"Module"})),ro={run(){return function(ye){function ke(e,t,u){return u.a=e,u.f=t,u}function v(e){return ke(2,e,function(t){return function(u){return e(t,u)}})}function R(e){return ke(3,e,function(t){return function(u){return function(o){return e(t,u,o)}}})}function ce(e){return ke(4,e,function(t){return function(u){return function(o){return function(f){return e(t,u,o,f)}}}})}function $e(e){return ke(5,e,function(t){return function(u){return function(o){return function(f){return function(d){return e(t,u,o,f,d)}}}}})}function Oe(e){return ke(6,e,function(t){return function(u){return function(o){return function(f){return function(d){return function(p){return e(t,u,o,f,d,p)}}}}}})}function a(e,t,u){return e.a===2?e.f(t,u):e(t)(u)}function T(e,t,u,o){return e.a===3?e.f(t,u,o):e(t)(u)(o)}function Xe(e,t,u,o,f){return e.a===4?e.f(t,u,o,f):e(t)(u)(o)(f)}function X(e,t,u,o,f,d){return e.a===5?e.f(t,u,o,f,d):e(t)(u)(o)(f)(d)}function Et(e,t,u,o,f,d,p){return e.a===6?e.f(t,u,o,f,d,p):e(t)(u)(o)(f)(d)(p)}function fe(e,t){for(var u,o=[],f=ue(e,t,0,o);f&&(u=o.pop());f=ue(u.a,u.b,0,o));return f}function ue(e,t,u,o){if(e===t)return!0;if(typeof e!="object"||e===null||t===null)return typeof e=="function"&&pt(5),!1;if(u>100)return o.push(C(e,t)),!0;for(var f in 0>e.$&&(e=Vn(e),t=Vn(t)),e)if(!ue(e[f],t[f],u+1,o))return!1;return!0}function ge(e,t,u){if(typeof e!="object")return e===t?0:t>e?-1:1;if(e.$===void 0)return(u=ge(e.a,t.a))||(u=ge(e.b,t.b))?u:ge(e.c,t.c);for(;e.b&&t.b&&!(u=ge(e.a,t.a));e=e.b,t=t.b);return u||(e.b?1:t.b?-1:0)}var ht=v(function(e,t){var u=ge(e,t);return 0>u?Na:u?mu:Ma});function C(e,t){return{a:e,b:t}}function Y(e,t){var u={};for(var o in e)u[o]=e[o];for(var o in t)u[o]=t[o];return u}function Ie(e,t){if(typeof e=="string")return e+t;if(!e.b)return t;var u=Me(e.a,t);e=e.b;for(var o=u;e.b;e=e.b)o=o.b=Me(e.a,t);return u}var D={$:0};function Me(e,t){return{$:1,a:e,b:t}}var Ue=v(Me);function g(e){for(var t=D,u=e.length;u--;)t=Me(e[u],t);return t}function Rt(e){for(var t=[];e.b;e=e.b)t.push(e.a);return t}var st=R(function(e,t,u){for(var o=[];t.b&&u.b;t=t.b,u=u.b)o.push(a(e,t.a,u.a));return g(o)}),fn=v(function(e,t){return g(Rt(t).sort(function(u,o){return ge(e(u),e(o))}))}),Qn=R(function(e,t,u){for(var o=Array(e),f=0;e>f;f++)o[f]=u(t+f);return o}),Xn=v(function(e,t){for(var u=Array(e),o=0;e>o&&t.b;o++)u[o]=t.a,t=t.b;return u.length=o,C(u,t)});function pt(e){throw Error("https://github.com/elm/core/blob/1.0.0/hints/"+e+".md")}var ai=Math.ceil,$a=Math.floor,qr=Math.log,ui=v(function(e,t){return e+t}),ln=v(function(e,t){return t.split(e)}),Sn=v(function(e,t){return t.join(e)}),Bt=R(function(e,t,u){return u.slice(e,t)}),xa=v(function(e,t){for(var u=t.length;u--;){var o=t[u],f=t.charCodeAt(u);if(56320>f||f>57343||(o=t[--u]+o),!e(o))return!1}return!0}),ii=v(function(e,t){return t.indexOf(e)>-1}),An=v(function(e,t){return t.indexOf(e)===0}),cu=v(function(e,t){var u=e.length;if(1>u)return D;for(var o=0,f=[];(o=t.indexOf(e,o))>-1;)f.push(o),o+=u;return g(f)});function Zn(e){return e+""}function Pt(e){return{$:2,b:e}}var Oa=Pt(function(e){return typeof e!="number"?Ye("an INT",e):e>-2147483647&&2147483647>e&&(0|e)===e?Ze(e):!isFinite(e)||e%1?Ye("an INT",e):Ze(e)}),oi=Pt(function(e){return typeof e=="boolean"?Ze(e):Ye("a BOOL",e)}),ee=Pt(function(e){return typeof e=="number"?Ze(e):Ye("a FLOAT",e)}),su=Pt(function(e){return Ze(e)}),Tr=Pt(function(e){return typeof e=="string"?Ze(e):e instanceof String?Ze(e+""):Ye("a STRING",e)}),Ee=v(function(e,t){return{$:6,d:e,b:t}});function jt(e,t){return{$:9,f:e,g:t}}var ci=v(function(e,t){return{$:10,b:t,h:e}}),dn=v(function(e,t){return jt(e,[t])}),si=R(function(e,t,u){return jt(e,[t,u])}),fi=ce(function(e,t,u,o){return jt(e,[t,u,o])}),li=$e(function(e,t,u,o,f){return jt(e,[t,u,o,f])}),di=Oe(function(e,t,u,o,f,d){return jt(e,[t,u,o,f,d])}),Ea=function(e){return ke(8,e,function(t){return function(u){return function(o){return function(f){return function(d){return function(p){return function(w){return function(A){return e(t,u,o,f,d,p,w,A)}}}}}}}})}(function(e,t,u,o,f,d,p,w){return jt(e,[t,u,o,f,d,p,w])}),St=v(function(e,t){try{return it(e,JSON.parse(t))}catch(u){return Ve(a(Fa,"This is not valid JSON! "+u.message,t))}}),Ir=v(function(e,t){return it(e,t)});function it(e,t){switch(e.$){case 2:return e.b(t);case 5:return t===null?Ze(e.c):Ye("null",t);case 3:return Ht(t)?Pa(e.b,t,g):Ye("a LIST",t);case 4:return Ht(t)?Pa(e.b,t,hn):Ye("an ARRAY",t);case 6:var u=e.d;if(typeof t!="object"||t===null||!(u in t))return Ye("an OBJECT with a field named `"+u+"`",t);var o=it(e.b,t[u]);return Ct(o)?o:Ve(a(yu,u,o.a));case 7:var f=e.e;return Ht(t)?f>=t.length?Ye("a LONGER array. Need index "+f+" but only see "+t.length+" entries",t):(o=it(e.b,t[f]),Ct(o)?o:Ve(a(cr,f,o.a))):Ye("an ARRAY",t);case 8:if(typeof t!="object"||t===null||Ht(t))return Ye("an OBJECT",t);var d=D;for(var p in t)if(Object.prototype.hasOwnProperty.call(t,p)){if(o=it(e.b,t[p]),!Ct(o))return Ve(a(yu,p,o.a));d=Me(C(p,o.a),d)}return Ze(Ft(d));case 9:for(var w=e.f,A=e.g,q=0;A.length>q;q++){if(o=it(A[q],t),!Ct(o))return o;w=w(o.a)}return Ze(w);case 10:return o=it(e.b,t),Ct(o)?it(e.h(o.a),t):o;case 11:for(var B=D,N=e.g;N.b;N=N.b){if(o=it(N.a,t),Ct(o))return o;B=Me(o.a,B)}return Ve(La(Ft(B)));case 1:return Ve(a(Fa,e.a,t));case 0:return Ze(e.a)}}function Pa(e,t,u){for(var o=t.length,f=Array(o),d=0;o>d;d++){var p=it(e,t[d]);if(!Ct(p))return Ve(a(cr,d,p.a));f[d]=p.a}return Ze(u(f))}function Ht(e){return Array.isArray(e)||typeof FileList<"u"&&e instanceof FileList}function hn(e){return a(Ou,e.length,function(t){return e[t]})}function Ye(e,t){return Ve(a(Fa,"Expecting "+e,t))}function Qt(e,t){if(e===t)return!0;if(e.$!==t.$)return!1;switch(e.$){case 0:case 1:return e.a===t.a;case 2:return e.b===t.b;case 5:return e.c===t.c;case 3:case 4:case 8:return Qt(e.b,t.b);case 6:return e.d===t.d&&Qt(e.b,t.b);case 7:return e.e===t.e&&Qt(e.b,t.b);case 9:return e.f===t.f&&Kn(e.g,t.g);case 10:return e.h===t.h&&Qt(e.b,t.b);case 11:return Kn(e.g,t.g)}}function Kn(e,t){var u=e.length;if(u!==t.length)return!1;for(var o=0;u>o;o++)if(!Qt(e[o],t[o]))return!1;return!0}var ja=v(function(e,t){return JSON.stringify(t,null,e)+""});function pn(e){return e}var Xt=R(function(e,t,u){return e==="toJSON"&&typeof t=="function"||(u[e]=t),u});function mt(e){return{$:0,a:e}}function Dr(e){return{$:1,a:e}}function Fe(e){return{$:2,b:e,c:null}}var Q=v(function(e,t){return{$:3,b:e,d:t}}),er=v(function(e,t){return{$:4,b:e,d:t}}),vn=0;function bn(e){var t={$:0,e:vn++,f:e,g:null,h:[]};return Mr(t),t}function V(e,t){e.h.push(t),Mr(e)}var Sa=v(function(e,t){return Fe(function(u){V(e,t),u(mt(0))})}),Rr=!1,Br=[];function Mr(e){if(Br.push(e),!Rr){for(Rr=!0;e=Br.shift();)Aa(e);Rr=!1}}function Aa(e){for(;e.f;){var t=e.f.$;if(t===0||t===1){for(;e.g&&e.g.$!==t;)e.g=e.g.i;if(!e.g)return;e.f=e.g.b(e.f.a),e.g=e.g.i}else{if(t===2)return void(e.f.c=e.f.b(function(u){e.f=u,Mr(e)}));if(t===5){if(e.h.length===0)return;e.f=e.f.b(e.h.shift())}else e.g={$:t===3?0:1,b:e.f.b,i:e.g},e.f=e.f.d}}}function hi(e,t,u,o,f,d){var p=a(Ir,e,t?t.flags:void 0);Ct(p)||pt(2);var w={},A=u(p.a),q=A.a,B=d(W,q),N=function(de,oe){var he;for(var Ae in At){var lt=At[Ae];lt.a&&((he=he||{})[Ae]=lt.a(Ae,oe)),de[Ae]=Cn(lt,oe)}return he}(w,W);function W(de,oe){var he=a(o,de,q);B(q=he.a,oe),In(w,he.b,f(q))}function G(){w!==void 0&&(In(w,Pe(D),Pe(D)),w=null,q=null,B=null,N=null),ye.domNode.removeChildren&&ye.domNode.replaceChildren(),t&&t.node?ye.domNode.replaceWith(t.node):ye.domNode.remove()}In(w,A.b,f(q));var re=N?{ports:N,unmount:G}:{unmount:G};return re}var At={};function Cn(e,t){var u={g:t,h:void 0},o=e.c,f=e.d,d=e.e,p=e.f;return u.h=bn(a(Q,function w(A){return a(Q,w,{$:5,b:function(q){var B=q.a;return q.$===0?T(f,u,B,A):d&&p?Xe(o,u,B.i,B.j,A):T(o,u,d?B.i:B.j,A)}})},e.b))}var qn=v(function(e,t){return Fe(function(u){e.g(t),u(mt(0))})}),Ka=v(function(e,t){return a(Sa,e.h,{$:0,a:t})});function tr(e){return function(t){return{$:1,k:e,l:t}}}function Pe(e){return{$:2,m:e}}var ze=v(function(e,t){return{$:3,n:e,o:t}}),fu=[],Tn=!1;function In(e,t,u){if(fu.push({p:e,q:t,r:u}),!Tn){Tn=!0;for(var o;o=fu.shift();)Nr(o.p,o.q,o.r);Tn=!1}}function Nr(e,t,u){var o={};for(var f in Fr(!0,t,o,null),Fr(!1,u,o,null),e)V(e[f],{$:"fx",a:o[f]||{i:D,j:D}})}function Fr(e,t,u,o){switch(t.$){case 1:var f=t.k,d=function(w,A,q,B){return a(w?At[A].e:At[A].f,function(N){for(var W=q;W;W=W.t)N=W.s(N);return N},B)}(e,f,o,t.l);return void(u[f]=function(w,A,q){return q=q||{i:D,j:D},w?q.i=Me(A,q.i):q.j=Me(A,q.j),q}(e,d,u[f]));case 2:for(var p=t.m;p.b;p=p.b)Fr(e,p.a,u,o);return;case 3:return void Fr(e,t.o,u,{s:t.n,t:o})}}var wt,Dn=v(function(e,t){return function(u){return e(t(u))}}),rt=typeof document<"u"?document:{};function Rn(e,t){e.appendChild(t)}function Ca(e){return{$:0,a:e}}var Mt=v(function(e,t){return v(function(u,o){for(var f=[],d=0;o.b;o=o.b){var p=o.a;d+=p.b||0,f.push(p)}return d+=f.length,{$:1,c:t,d:Ta(u),e:f,f:e,b:d}})}),De=Mt(void 0),mn=v(function(e,t){return v(function(u,o){for(var f=[],d=0;o.b;o=o.b){var p=o.a;d+=p.b.b||0,f.push(p)}return d+=f.length,{$:2,c:t,d:Ta(u),e:f,f:e,b:d}})})(void 0),lu=v(function(e,t){return{$:4,j:e,k:t,b:1+(t.b||0)}}),Lr,Ne=v(function(e,t){return function(u,o){return{$:5,l:u,m:o,k:void 0}}([e,t],function(){return e(t)})}),yn=v(function(e,t){return{$:"a0",n:e,o:t}}),_t=v(function(e,t){return{$:"a2",n:e,o:t}}),at=v(function(e,t){return{$:"a3",n:e,o:t}}),Bn=/^script$/i,Ur=/^(on|formAction$)/i,qa=/^\s*j\s*a\s*v\s*a\s*s\s*c\s*r\s*i\s*p\s*t\s*:/i,nr=/^\s*(j\s*a\s*v\s*a\s*s\s*c\s*r\s*i\s*p\s*t\s*:|d\s*a\s*t\s*a\s*:\s*t\s*e\s*x\s*t\s*\/\s*h\s*t\s*m\s*l\s*(,|;))/i;function Zt(e){return Bn.test(e)?"p":e}function Ta(e){for(var t={};e.b;e=e.b){var u=e.a,o=u.$,f=u.n,d=u.o;if(o!=="a2"){var p=t[o]||(t[o]={});o==="a3"&&f==="class"?rr(p,f,d):p[f]=d}else f==="className"?rr(t,f,d):t[f]=d}return t}function rr(e,t,u){var o=e[t];e[t]=o?o+" "+u:u}function en(e,t){var u=e.$;if(u===5)return en(e.k||(e.k=e.m()),t);if(u===0)return rt.createTextNode(e.a);if(u===4){for(var o=e.k,f=e.j;o.$===4;)typeof f!="object"?f=[f,o.j]:f.push(o.j),o=o.k;var d={j:f,p:t};return(p=en(o,d)).elm_event_node_ref=d,p}if(u===3)return pe(p=e.h(e.g),t,e.d),p;var p=e.f?rt.createElementNS(e.f,e.c):rt.createElement(e.c);wt&&e.c=="a"&&p.addEventListener("click",wt(p)),pe(p,t,e.d);for(var w=e.e,A=0;w.length>A;A++)Rn(p,en(u===1?w[A]:w[A].b,t));return p}function pe(e,t,u){for(var o in u){var f=u[o];o==="a1"?du(e,f):o==="a0"?ar(e,t,f):o==="a3"?hu(e,f):o==="a4"?zr(e,f):(o!=="value"&&o!=="checked"||e[o]!==f)&&(e[o]=f)}}function du(e,t){var u=e.style;for(var o in t)u[o]=t[o]}function hu(e,t){for(var u in t){var o=t[u];o!==void 0?e.setAttribute(u,o):e.removeAttribute(u)}}function zr(e,t){for(var u in t){var o=t[u],f=o.f,d=o.o;d!==void 0?e.setAttributeNS(f,u,d):e.removeAttributeNS(f,u)}}function ar(e,t,u){var o=e.elmFs||(e.elmFs={});for(var f in u){var d=u[f],p=o[f];if(d){if(p){if(p.q.$===d.$){p.q=d;continue}e.removeEventListener(f,p)}p=pu(t,d),e.addEventListener(f,p,Lr&&{passive:2>Ga(d)}),o[f]=p}else e.removeEventListener(f,p),o[f]=void 0}}try{window.addEventListener("t",null,Object.defineProperty({},"passive",{get:function(){Lr=!0}}))}catch{}function pu(e,t){function u(o){var f=u.q,d=it(f.a,o);if(Ct(d)){for(var p,w=Ga(f),A=d.a,q=w?3>w?A.a:A.y:A,B=w==1?A.b:w==3&&A.aF,N=(B&&o.stopPropagation(),(w==2?A.b:w==3&&A.aB)&&o.preventDefault(),e);p=N.j;){if(typeof p=="function")q=p(q);else for(var W=p.length;W--;)q=p[W](q);N=N.p}N(q,B)}}return u.q=t,u}function vu(e,t){return e.$==t.$&&Qt(e.a,t.a)}function ut(e,t,u,o){var f={$:t,r:u,s:o,t:void 0,u:void 0};return e.push(f),f}function me(e,t,u,o){if(e!==t){var f=e.$,d=t.$;if(f!==d){if(f!==1||d!==2)return void ut(u,0,o,t);t=function(Ae){for(var lt=Ae.e,dt=lt.length,_a=Array(dt),Cr=0;dt>Cr;Cr++)_a[Cr]=lt[Cr].b;return{$:1,c:Ae.c,d:Ae.d,e:_a,f:Ae.f,b:Ae.b}}(t),d=1}switch(d){case 5:for(var p=e.l,w=t.l,A=p.length,q=A===w.length;q&&A--;)q=p[A]===w[A];if(q)return void(t.k=e.k);t.k=t.m();var B=[];return me(e.k,t.k,B,0),void(B.length>0&&ut(u,1,o,B));case 4:for(var N=e.j,W=t.j,G=!1,re=e.k;re.$===4;)G=!0,typeof N!="object"?N=[N,re.j]:N.push(re.j),re=re.k;for(var de=t.k;de.$===4;)G=!0,typeof W!="object"?W=[W,de.j]:W.push(de.j),de=de.k;return G&&N.length!==W.length?void ut(u,0,o,t):((G?function(Ae,lt){for(var dt=0;Ae.length>dt;dt++)if(Ae[dt]!==lt[dt])return!1;return!0}(N,W):N===W)||ut(u,2,o,W),void me(re,de,u,o+1));case 0:return void(e.a!==t.a&&ut(u,3,o,t.a));case 1:return void Mn(e,t,u,o,Nn);case 2:return void Mn(e,t,u,o,Ia);case 3:if(e.h!==t.h)return void ut(u,0,o,t);var oe=gn(e.d,t.d);oe&&ut(u,4,o,oe);var he=t.i(e.g,t.g);return void(he&&ut(u,5,o,he))}}}function Mn(e,t,u,o,f){if(e.c===t.c&&e.f===t.f){var d=gn(e.d,t.d);d&&ut(u,4,o,d),f(e,t,u,o)}else ut(u,0,o,t)}function gn(e,t,u){var o;for(var f in e)if(f!=="a1"&&f!=="a0"&&f!=="a3"&&f!=="a4")if(f in t){var d=e[f],p=t[f];d===p&&f!=="value"&&f!=="checked"||u==="a0"&&vu(d,p)||((o=o||{})[f]=p)}else(o=o||{})[f]=u?u==="a1"?"":u==="a0"||u==="a3"?void 0:{f:e[f].f,o:void 0}:typeof e[f]=="string"?"":null;else{var w=gn(e[f],t[f]||{},f);w&&((o=o||{})[f]=w)}for(var A in t)A in e||((o=o||{})[A]=t[A]);return o}function Nn(e,t,u,o){var f=e.e,d=t.e,p=f.length,w=d.length;p>w?ut(u,6,o,{v:w,i:p-w}):w>p&&ut(u,7,o,{v:p,e:d});for(var A=w>p?p:w,q=0;A>q;q++){var B=f[q];me(B,d[q],u,++o),o+=B.b||0}}function Ia(e,t,u,o){for(var f=[],d={},p=[],w=e.e,A=t.e,q=w.length,B=A.length,N=0,W=0,G=o;q>N&&B>W;){var re=(ei=w[N]).a,de=(ti=A[W]).a,oe=ei.b,he=ti.b,Ae=void 0,lt=void 0;if(re!==de){var dt=w[N+1],_a=A[W+1];if(dt){var Cr=dt.a,ka=dt.b;lt=de===Cr}if(_a){var Wc=_a.a,no=_a.b;Ae=re===Wc}if(Ae&&lt)me(oe,no,f,++G),tn(d,f,re,he,W,p),G+=oe.b||0,Fn(d,f,re,ka,++G),G+=ka.b||0,N+=2,W+=2;else if(Ae)G++,tn(d,f,de,he,W,p),me(oe,no,f,G),G+=oe.b||0,N+=1,W+=2;else if(lt)Fn(d,f,re,oe,++G),G+=oe.b||0,me(ka,he,f,++G),G+=ka.b||0,N+=2,W+=1;else{if(!dt||Cr!==Wc)break;Fn(d,f,re,oe,++G),tn(d,f,de,he,W,p),G+=oe.b||0,me(ka,no,f,++G),G+=ka.b||0,N+=2,W+=2}}else me(oe,he,f,++G),G+=oe.b||0,N++,W++}for(;q>N;){var ei;G++,Fn(d,f,(ei=w[N]).a,oe=ei.b,G),G+=oe.b||0,N++}for(;B>W;){var ti,ni=ni||[];tn(d,f,(ti=A[W]).a,ti.b,void 0,ni),W++}(f.length>0||p.length>0||ni)&&ut(u,8,o,{w:f,x:p,y:ni})}var Jr="_elmW6BL";function tn(e,t,u,o,f,d){var p=e[u];if(!p)return d.push({r:f,A:p={c:0,z:o,r:f,s:void 0}}),void(e[u]=p);if(p.c===1){d.push({r:f,A:p}),p.c=2;var w=[];return me(p.z,o,w,p.r),p.r=f,void(p.s.s={w,A:p})}tn(e,t,u+Jr,o,f,d)}function Fn(e,t,u,o,f){var d=e[u];if(d){if(d.c===0){d.c=2;var p=[];return me(o,d.z,p,f),void ut(t,9,f,{w:p,A:d})}Fn(e,t,u+Jr,o,f)}else{var w=ut(t,9,f,void 0);e[u]={c:1,z:o,r:f,s:w}}}function ur(e,t,u,o){Ln(e,t,u,0,0,t.b,o)}function Ln(e,t,u,o,f,d,p){for(var w=u[o],A=w.r;A===f;){var q=w.$;if(q===1)ur(e,t.k,w.s,p);else if(q===8)w.t=e,w.u=p,(B=w.s.w).length>0&&Ln(e,t,B,0,f,d,p);else if(q===9){w.t=e,w.u=p;var B,N=w.s;N&&(N.A.s=e,(B=N.w).length>0&&Ln(e,t,B,0,f,d,p))}else w.t=e,w.u=p;if(!(w=u[++o])||(A=w.r)>d)return o}var W=t.$;if(W===4){for(var G=t.k;G.$===4;)G=G.k;return Ln(e,G,u,o,f+1,d,e.elm_event_node_ref)}for(var re=t.e,de=e.childNodes,oe=0;re.length>oe;oe++){f++;var he=W===1?re[oe]:re[oe].b,Ae=f+(he.b||0);if(!(f>A||A>Ae||(w=u[o=Ln(de[oe],he,u,o,f,Ae,p)])&&(A=w.r)<=d))return o;f=Ae}return o}function Vr(e,t){for(var u=0;t.length>u;u++){var o=t[u],f=o.t,d=we(f,o);f===e&&(e=d)}return e}function we(e,t){switch(t.$){case 0:return function(w,A,q){var B=w.parentNode,N=en(A,q);return N.elm_event_node_ref||(N.elm_event_node_ref=w.elm_event_node_ref),B&&N!==w&&B.replaceChild(N,w),N}(e,t.s,t.u);case 4:return pe(e,t.u,t.s),e;case 3:return e.replaceData(0,e.length,t.s),e;case 1:return Vr(e,t.s);case 2:return e.elm_event_node_ref?e.elm_event_node_ref.j=t.s:e.elm_event_node_ref={j:t.s,p:t.u},e;case 6:for(var u=t.s,o=0;u.i>o;o++)e.removeChild(e.childNodes[u.v]);return e;case 7:for(var f=(u=t.s).e,d=e.childNodes[o=u.v];f.length>o;o++)e.insertBefore(en(f[o],t.u),d);return e;case 9:if(!(u=t.s))return e.parentNode.removeChild(e),e;var p=u.A;return p.r!==void 0&&e.parentNode.removeChild(e),p.s=Vr(e,u.w),e;case 8:return function(w,A){var q=A.s,B=function(oe,he){if(oe){for(var Ae=rt.createDocumentFragment(),lt=0;oe.length>lt;lt++){var dt=oe[lt].A;Rn(Ae,dt.c===2?dt.s:en(dt.z,he.u))}return Ae}}(q.y,A);w=Vr(w,q.w);for(var N=q.x,W=0;N.length>W;W++){var G=N[W],re=G.A,de=re.c===2?re.s:en(re.z,A.u);w.insertBefore(de,w.childNodes[G.r])}return B&&Rn(w,B),w}(e,t);case 5:return t.s(e);default:pt(10)}}function Da(e){if(e.nodeType===3)return Ca(e.textContent);if(e.nodeType!==1)return Ca("");for(var t=D,u=e.attributes,o=u.length;o--;){var f=u[o];t=Me(a(at,f.name,f.value),t)}var d=e.tagName.toLowerCase(),p=D,w=e.childNodes;for(o=w.length;o--;)p=Me(Da(w[o]),p);return T(De,d,t,p)}var pi=ce(function(e,t,u,o){return hi(t,o,e.R,e.ad,e.W,function(f,d){var p=e.aC&&e.aC(f),w=e.ae,A=rt.title,q=rt.body,B=Da(q);return function(N,W){W(N);var G=0;function re(){G=G===1?0:(Ra(re),W(N),1)}return function(de,oe){N=de,oe?(W(N),G===2&&(G=1)):(G===0&&Ra(re),G=2)}}(d,function(N){wt=p;var W=w(N),G=De("body")(D)(W.aJ),re=function(de,oe){var he=[];return me(de,oe,he,0),he}(B,G);q=function(de,oe,he,Ae){return he.length===0?de:(ur(de,oe,he,Ae),Vr(de,he))}(q,B,re,f),B=G,wt=0,A!==W.bj&&(rt.title=A=W.bj)})})}),Ra=typeof requestAnimationFrame<"u"?requestAnimationFrame:function(e){return setTimeout(e,1e3/60)};function ot(){return Tt(rt.location.href).a||pt(1)}var Un=v(function(e,t){return a(m,xn,Fe(function(){t&&history.go(t),e()}))}),Gr=v(function(e,t){return a(m,xn,Fe(function(){history.pushState({},"",t),e()}))}),nn=v(function(e,t){return a(m,xn,Fe(function(){history.replaceState({},"",t),e()}))}),ir=typeof window<"u"?window:{addEventListener:function(){},removeEventListener:function(){}},bu=v(function(e,t){return function(u,o){return Fe(function(f){Ra(function(){var d=document.getElementById(u);f(d?mt(o(d)):Dr(_i(u)))})})}(t,function(u){return u[e](),0})}),He=R(function(e,t,u){return Fe(function(o){function f(p){o(t(u.as.a(p)))}var d=new XMLHttpRequest;d.addEventListener("error",function(){f(as)}),d.addEventListener("timeout",function(){f(os)}),d.addEventListener("load",function(){f(function(p,w){return a(w.status>=200&&300>w.status?rs:ts,function(A){return{a:A.responseURL,b7:A.status,b8:A.statusText,aU:Kt(A.getAllResponseHeaders())}}(w),p(w.response))}(u.as.b,d))}),co(u.bk)&&function(p,w,A){w.upload.addEventListener("progress",function(q){w.c||bn(a(so,p,C(A,is({b4:q.loaded,bd:q.total}))))}),w.addEventListener("progress",function(q){w.c||bn(a(so,p,C(A,us({b1:q.loaded,bd:q.lengthComputable?te(q.total):Z}))))})}(e,d,u.bk.a);try{d.open(u.bP,u.a,!0)}catch{return f(ns(u.a))}return function(p,w){for(var A=w.aU;A.b;A=A.b)p.setRequestHeader(A.a.a,A.a.b);p.timeout=w.cc.a||0,p.responseType=w.as.d,p.withCredentials=w.bt}(d,u),u.aJ.a&&d.setRequestHeader("Content-Type",u.aJ.a),d.send(u.aJ.b),function(){d.c=!0,d.abort()}})});function Kt(e){if(!e)return xt;for(var t=xt,u=e.split(`\r
`),o=u.length;o--;){var f=u[o],d=f.indexOf(": ");if(d>0){var p=f.substring(0,d),w=f.substring(d+2);t=T(ju,p,function(A){return te(co(A)?w+", "+A.a:w)},t)}}return t}var zn,or=R(function(e,t,u){return{$:0,d:e,b:t,a:u}}),Ba=v(function(e,t){return{$:0,a:e,b:t}}),kt,vi=R(function(e,t,u){return Fe(function(){var o=new Blob([u],{type:t});if(navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(o,e);else{var f=zn||(zn=document.createElement("a")),d=URL.createObjectURL(o);f.href=d,f.download=e,$t(f),URL.revokeObjectURL(d)}})});function $t(e){if(typeof MouseEvent=="function")e.dispatchEvent(new MouseEvent("click"));else{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),document.body.appendChild(e),e.dispatchEvent(t),document.body.removeChild(e)}}var Ma=1,mu=2,Na=0,Je=Ue,Jn=R(function(e,t,u){for(;;){if(u.$===-2)return t;var o=u.d,f=e,d=T(e,u.b,u.c,T(Jn,e,t,u.e));e=f,t=d,u=o}}),Vn=function(e){return T(Jn,R(function(t,u,o){return a(Je,C(t,u),o)}),D,e)},bi=function(e){return T(Jn,R(function(t,u,o){return a(Je,t,o)}),D,e)},Ve=function(e){return{$:1,a:e}},Fa=v(function(e,t){return{$:3,a:e,b:t}}),yu=v(function(e,t){return{$:0,a:e,b:t}}),cr=v(function(e,t){return{$:1,a:e,b:t}}),Ze=function(e){return{$:0,a:e}},La=function(e){return{$:2,a:e}},te=function(e){return{$:0,a:e}},Z={$:1},mi=xa,sr=ja,yt=Zn,gt=v(function(e,t){return a(Sn,e,Rt(t))}),wn=v(function(e,t){return g(a(ln,e,t))}),fr=function(e){return a(gt,`
    `,a(wn,`
`,e))},Nt=R(function(e,t,u){for(;;){if(!u.b)return t;var o=u.b,f=e,d=a(e,u.a,t);e=f,t=d,u=o}}),Gn=function(e){return T(Nt,v(function(t,u){return u+1}),0,e)},yi=st,Wn=R(function(e,t,u){for(;;){if(ge(e,t)>=1)return u;var o=e,f=t-1,d=a(Je,t,u);e=o,t=f,u=d}}),Ua=v(function(e,t){return T(Wn,e,t,D)}),za=v(function(e,t){return T(yi,e,a(Ua,0,Gn(t)-1),t)}),lr=function(e){var t=e.charCodeAt(0);return 55296>t||t>56319?t:1024*(t-55296)+e.charCodeAt(1)-56320+65536},Wr=function(e){var t=lr(e);return t>=97&&122>=t},et=function(e){var t=lr(e);return 90>=t&&t>=65},dr=function(e){return Wr(e)||et(e)},hr=function(e){return Wr(e)||et(e)||function(t){var u=lr(t);return 57>=u&&u>=48}(e)},Ft=function(e){return T(Nt,Je,D,e)},Yr=function(e){var t=e.charCodeAt(0);return isNaN(t)?Z:te(55296>t||t>56319?C(e[0],e.slice(1)):C(e[0]+e[1],e.slice(2)))},gu=v(function(e,t){return`

(`+yt(e+1)+") "+fr(pr(t))}),pr=function(e){return a(Hr,e,D)},Hr=v(function(e,t){e:for(;;)switch(e.$){case 0:var u=e.a,o=e.b,f=function(){var B=Yr(u);if(B.$===1)return!1;var N=B.a,W=N.b;return dr(N.a)&&a(mi,hr,W)}();e=o,t=a(Je,f?"."+u:"['"+u+"']",t);continue e;case 1:o=e.b;var d="["+yt(e.a)+"]";e=o,t=a(Je,d,t);continue e;case 2:var p=e.a;if(p.b){if(p.b.b){var w=(t.b?"The Json.Decode.oneOf at json"+a(gt,"",Ft(t)):"Json.Decode.oneOf")+" failed in the following "+yt(Gn(p))+" ways:";return a(gt,`

`,a(Je,w,a(za,gu,p)))}e=o=p.a;continue e}return"Ran into a Json.Decode.oneOf with no possibilities"+(t.b?" at json"+a(gt,"",Ft(t)):"!");default:var A=e.a,q=e.b;return(w=t.b?"Problem with the value at json"+a(gt,"",Ft(t))+`:

    `:`Problem with the given value:

`)+fr(a(sr,4,q))+`

`+A}}),vt=32,Lt=ce(function(e,t,u,o){return{$:0,a:e,b:t,c:u,d:o}}),vr=[],Qr=ai,br=v(function(e,t){return qr(t)/qr(e)}),mr=Qr(a(br,2,vt)),wu=Xe(Lt,0,mr,vr,vr),_u=Qn,Ja=$a,yr=function(e){return e.length},gi=v(function(e,t){return ge(e,t)>0?e:t}),Xr=Xn,Va=v(function(e,t){for(;;){var u=a(Xr,vt,e),o=u.b,f=a(Je,{$:0,a:u.a},t);if(!o.b)return Ft(f);e=o,t=f}}),ku=function(e){return e.a},$u=v(function(e,t){for(;;){var u=Qr(t/vt);if(u===1)return a(Xr,vt,e).a;e=a(Va,e,D),t=u}}),wi=v(function(e,t){if(t.i){var u=t.i*vt,o=Ja(a(br,vt,u-1)),f=e?Ft(t.k):t.k,d=a($u,f,t.i);return Xe(Lt,yr(t.j)+u,a(gi,5,o*mr),d,t.j)}return Xe(Lt,yr(t.j),mr,vr,t.j)}),xu=$e(function(e,t,u,o,f){for(;;){if(0>t)return a(wi,!1,{k:o,i:u/vt|0,j:f});var d={$:1,a:T(_u,vt,t,e)};t-=vt,o=a(Je,d,o)}}),Ou=v(function(e,t){if(e>0){var u=e%vt;return X(xu,t,e-u-vt,e,D,T(_u,u,e-u,t))}return wu}),Ct=function(e){return!e.$},ct=dn,Yn=si,_n=function(e){return{$:0,a:e}},Ga=function(e){switch(e.$){case 0:return 0;case 1:return 1;case 2:return 2;default:return 3}},Te=function(e){return e},_i=Te,Eu=Oe(function(e,t,u,o,f,d){return{bD:d,bJ:t,bY:o,bZ:u,b_:e,b0:f}}),Zr=ii,qt=Bt,Se=v(function(e,t){return 1>e?t:T(qt,e,function(u){return u.length}(t),t)}),kn=cu,Ge=function(e){return e===""},ea=v(function(e,t){return 1>e?"":T(qt,0,e,t)}),ta=$e(function(e,t,u,o,f){if(Ge(f)||a(Zr,"@",f))return Z;var d=a(kn,":",f);if(d.b){if(d.b.b)return Z;var p=d.a,w=function(q){for(var B=0,N=q.charCodeAt(0),W=N==43||N==45?1:0,G=W;q.length>G;++G){var re=q.charCodeAt(G);if(48>re||re>57)return Z;B=10*B+re-48}return G==W?Z:te(N==45?-B:B)}(a(Se,p+1,f));if(w.$===1)return Z;var A=w;return te(Et(Eu,e,a(ea,p,f),A,t,u,o))}return te(Et(Eu,e,f,Z,t,u,o))}),Wa=ce(function(e,t,u,o){if(Ge(o))return Z;var f=a(kn,"/",o);if(f.b){var d=f.a;return X(ta,e,a(Se,d,o),t,u,a(ea,d,o))}return X(ta,e,"/",t,u,o)}),rn=R(function(e,t,u){if(Ge(u))return Z;var o=a(kn,"?",u);if(o.b){var f=o.a;return Xe(Wa,e,te(a(Se,f+1,u)),t,a(ea,f,u))}return Xe(Wa,e,Z,t,u)}),na=v(function(e,t){if(Ge(t))return Z;var u=a(kn,"#",t);if(u.b){var o=u.a;return T(rn,e,te(a(Se,o+1,t)),a(ea,o,t))}return T(rn,e,Z,t)}),$n=An,Tt=function(e){return a($n,"http://",e)?a(na,0,a(Se,7,e)):a($n,"https://",e)?a(na,1,a(Se,8,e)):Z},xn=function(e){},n=mt,r=n(0),i=ce(function(e,t,u,o){if(o.b){var f=o.a,d=o.b;if(d.b){var p=d.a,w=d.b;if(w.b){var A=w.a,q=w.b;if(q.b){var B=q.b;return a(e,f,a(e,p,a(e,A,a(e,q.a,u>500?T(Nt,e,t,Ft(B)):Xe(i,e,t,u+1,B)))))}return a(e,f,a(e,p,a(e,A,t)))}return a(e,f,a(e,p,t))}return a(e,f,t)}return t}),c=R(function(e,t,u){return Xe(i,e,t,0,u)}),s=v(function(e,t){return T(c,v(function(u,o){return a(Je,e(u),o)}),D,t)}),l=Q,h=v(function(e,t){return a(l,function(u){return n(e(u))},t)}),b=R(function(e,t,u){return a(l,function(o){return a(l,function(f){return n(a(e,o,f))},u)},t)}),_=qn,$=v(function(e,t){var u=t;return function(o){return Fe(function(f){f(mt(bn(o)))})}(a(l,_(e),u))});At.Task={b:r,c:R(function(e,t){return a(h,function(){return 0},(u=a(s,$(e),t),T(c,b(Je),n(D),u)));var u}),d:R(function(){return n(0)}),e:v(function(e,t){return a(h,e,t)}),f:void 0};var O=tr("Task"),m=v(function(e,t){return O(a(h,e,t))}),E=Pe,x=Ir,y=Ee,k=Tr,P=a(ct,function(e){return{bc:e}},a(y,"settings",a(ct,function(e){return{cb:e}},a(y,"theme",a(ct,function(e){switch(e){case"auto":default:return 0;case"light":return 1;case"dark":return 2}},k))))),S=function(e){return{$:5,a:e}},K=function(e){return{$:4,a:e}},j=R(function(e,t,u){return t(e(u))}),I={$:6},F=function(e){return{$:1,a:e}},z=v(function(e,t){return{$:13,a:e,b:t}}),M=function(e){return{$:8,a:e}},L=function(e){return{$:9,a:e}},J={$:0},U=function(e){return{$:10,a:e}},H=v(function(e,t){return{$:16,a:e,b:t}}),ie=function(e){return{$:11,a:e}},se=function(e){return{$:2,a:e}},le=function(e){return{$:7,a:e}},ft=v(function(e,t){return{$:14,a:e,b:t}}),ae=v(function(e,t){return{$:17,a:e,b:t}}),tt=v(function(e,t){return{$:15,a:e,b:t}}),nt=v(function(e,t){return{$:12,a:e,b:t}}),ra=ze,xe=v(function(e,t){switch(t.$){case 0:return J;case 1:var u=t.a;return F(a(s,xe(e),u));case 2:return se(a(ra,e,t.a));case 3:return{$:3,a:t.a};case 4:return function(A){return{$:4,a:A}}(t.a);case 6:return I;case 5:return function(A){return{$:5,a:A}}(t.a);case 7:return le(t.a);case 8:return M(a(j,t.a,e));case 9:return L(a(j,t.a,e));case 10:return U(a(j,t.a,e));case 16:var o=t.b;return a(H,a(j,t.a,e),o);case 11:return ie(a(j,t.a,e));case 12:var f=t.b;return a(nt,a(j,t.a,e),f);case 13:return f=t.b,a(z,a(j,t.a,e),f);case 14:var d=t.b;return a(ft,a(j,t.a,e),d);case 17:var p=t.b;return a(ae,a(j,t.a,e),p);default:var w=t.b;return a(tt,a(j,t.a,e),w)}}),On=v(function(e,t){return a(Un,e,-t)}),Hn=R(function(e,t,u){return e(t(u))}),Zc=er,Ut=v(function(e,t){return O(a(Zc,a(Hn,a(Hn,n,e),Ve),a(l,a(Hn,a(Hn,n,e),Ze),t)))}),aa=oi,oo=function(e){return{$:0,a:e}},es=function(e){return e.$?"elmtaskport://"+e.a+"/"+e.c+"?v=2.0.1&nsv="+e.b:"elmtaskport:///"+e.a+"?v=2.0.1"},ts=v(function(e,t){return{$:3,a:e,b:t}}),ns=function(e){return{$:0,a:e}},rs=v(function(e,t){return{$:4,a:e,b:t}}),as={$:2},us=function(e){return{$:1,a:e}},is=function(e){return{$:0,a:e}},os={$:1},an={$:-2},xt=an,co=function(e){return!e.$},so=Ka,fo=ht,zt=v(function(e,t){e:for(;;){if(t.$===-2)return Z;var u=t.c,o=t.d,f=t.e;switch(a(fo,e,t.b)){case 0:t=o;continue e;case 1:return te(u);default:t=f;continue e}}}),_e=$e(function(e,t,u,o,f){return{$:-1,a:e,b:t,c:u,d:o,e:f}}),ua=$e(function(e,t,u,o,f){if(f.$!==-1||f.a){if(o.$!==-1||o.a||o.d.$!==-1||o.d.a)return X(_e,e,t,u,o,f);var d=o.d;return p=o.e,X(_e,0,o.b,o.c,X(_e,1,d.b,d.c,d.d,d.e),X(_e,1,t,u,p,f))}var p,w=f.b,A=f.c,q=f.d,B=f.e;return o.$!==-1||o.a?X(_e,e,w,A,X(_e,0,t,u,o,q),B):X(_e,0,t,u,X(_e,1,o.b,o.c,o.d,p=o.e),X(_e,1,w,A,q,B))}),ki=R(function(e,t,u){if(u.$===-2)return X(_e,0,e,t,an,an);var o=u.a,f=u.b,d=u.c,p=u.d,w=u.e;switch(a(fo,e,f)){case 0:return X(ua,o,f,d,T(ki,e,t,p),w);case 1:return X(_e,o,f,t,p,w);default:return X(ua,o,f,d,p,T(ki,e,t,w))}}),ia=R(function(e,t,u){var o=T(ki,e,t,u);return o.$!==-1||o.a?o:X(_e,1,o.b,o.c,o.d,o.e)}),lo=function(e){if(e.$===-1&&e.d.$===-1&&e.e.$===-1){if(e.e.d.$!==-1||e.e.d.a){var t=e.d,u=e.e;return p=u.b,w=u.c,o=u.d,B=u.e,X(_e,1,e.b,e.c,X(_e,0,t.b,t.c,t.d,t.e),X(_e,0,p,w,o,B))}var o,f=e.d,d=e.e,p=d.b,w=d.c,A=(o=d.d).d,q=o.e,B=d.e;return X(_e,0,o.b,o.c,X(_e,1,e.b,e.c,X(_e,0,f.b,f.c,f.d,f.e),A),X(_e,1,p,w,q,B))}return e},ho=function(e){if(e.$===-1&&e.d.$===-1&&e.e.$===-1){if(e.d.d.$!==-1||e.d.d.a){var t=e.d,u=t.d,o=e.e;return B=o.b,N=o.c,W=o.d,G=o.e,X(_e,1,f=e.b,d=e.c,X(_e,0,t.b,t.c,u,A=t.e),X(_e,0,B,N,W,G))}var f=e.b,d=e.c,p=e.d,w=p.d,A=p.e,q=e.e,B=q.b,N=q.c,W=q.d,G=q.e;return X(_e,0,p.b,p.c,X(_e,1,w.b,w.c,w.d,w.e),X(_e,1,f,d,A,X(_e,0,B,N,W,G)))}return e},cs=function(e){return ke(7,e,function(t){return function(u){return function(o){return function(f){return function(d){return function(p){return function(w){return e(t,u,o,f,d,p,w)}}}}}}})}(function(e,t,u,o,f,d,p){if(d.$!==-1||d.a){e:for(;;){if(p.$===-1&&p.a===1){if(p.d.$===-1){if(p.d.a===1)return ho(t);break e}return ho(t)}break e}return t}return X(_e,u,d.b,d.c,d.d,X(_e,0,o,f,d.e,p))}),Pu=function(e){if(e.$===-1&&e.d.$===-1){var t=e.a,u=e.b,o=e.c,f=e.d,d=f.d,p=e.e;if(f.a===1){if(d.$!==-1||d.a){var w=lo(e);if(w.$===-1){var A=w.e;return X(ua,w.a,w.b,w.c,Pu(w.d),A)}return an}return X(_e,t,u,o,Pu(f),p)}return X(_e,t,u,o,Pu(f),p)}return an},Ya=v(function(e,t){if(t.$===-2)return an;var u=t.a,o=t.b,f=t.c,d=t.d,p=t.e;if(0>ge(e,o)){if(d.$===-1&&d.a===1){var w=d.d;if(w.$!==-1||w.a){var A=lo(t);if(A.$===-1){var q=A.e;return X(ua,A.a,A.b,A.c,a(Ya,e,A.d),q)}return an}return X(_e,u,o,f,a(Ya,e,d),p)}return X(_e,u,o,f,a(Ya,e,d),p)}return a(ss,e,function(B,N,W,G,re,de,oe,he){return B.a===7?B.f(N,W,G,re,de,oe,he):B(N)(W)(G)(re)(de)(oe)(he)}(cs,e,t,u,o,f,d,p))}),ss=v(function(e,t){if(t.$===-1){var u=t.a,o=t.b,f=t.c,d=t.d,p=t.e;if(fe(e,o)){var w=function(A){for(;;){if(A.$!==-1||A.d.$!==-1)return A;A=A.d}}(p);return w.$===-1?X(ua,u,w.b,w.c,d,Pu(p)):an}return X(ua,u,o,f,d,a(Ya,e,p))}return an}),$i=v(function(e,t){var u=a(Ya,e,t);return u.$!==-1||u.a?u:X(_e,1,u.b,u.c,u.d,u.e)}),ju=R(function(e,t,u){var o=t(a(zt,e,u));return o.$?a($i,e,u):T(ia,e,o.a,u)}),fs=v(function(e,t){return{$:3,a:e,b:t}}),oa=function(e){return{$:0,a:e}},ls={$:0},po=function(e){return{$:4,a:e}},xi=St,ds=v(function(e,t){return{$:0,a:e,b:t}}),hs=function(e){return{$:1,a:e}},ps=ce(function(e,t,u,o){return{aK:o,y:t,bS:e,bf:u}}),vo=ci,vs=function(e){return a(vo,e,_n(0))},Ha=function(e){return{$:3,b:e}},bs=li,ms=function(e){return{$:5,c:e}},Oi=function(e){return{$:11,g:e}},Ei=su;function Pi(){return Oi(g([T(Yn,ds,a(y,"name",k),ji()),a(ct,hs,Ei)]))}function ji(){return X(bs,ps,a(y,"name",k),a(y,"message",k),a(y,"stackLines",Ha(k)),a(y,"cause",Oi(g([ms(Z),a(ct,te,vs(function(){return Pi()}))]))))}var bo=Pi();Pi=function(){return bo};var ys=ji();ji=function(){return ys};var mo,Su,yo,Si,Ai=function(e){return Ve(oa(po("Runtime error in JavaScript interop: "+e+". JavaScript console may contain more information about the issue.")))},gs=v(function(e,t){switch(t.$){case 0:return Ai("bad url "+t.a);case 1:return Ai("timeout");case 2:return Ve(oa(ls));case 3:var u=t.a.b7,o=t.b;if(u===400)return Ve(oa({$:2,a:o}));if(u===404)return Ve(oa(function(p){return{$:1,a:p}}(o)));if(u===500){var f=a(xi,bo,o);return Ve(f.$?oa(po(pr(f.a))):function(p){return{$:1,a:p}}(f.a))}return Ai("unexpected status "+yt(u));default:var d=a(xi,e,o=t.b);return d.$?Ve(oa(a(fs,d.a,o))):Ze(d.a)}}),ws=a(or,"",Te),go=R(function(e,t,u){return{aJ:(o=u,a(Ba,"application/json",a(sr,0,o))),aU:D,bP:"POST",a8:ws(gs(t)),cc:Z,a:es(e)};var o}),_s=Dr,ks=function(e){return e.$?_s(e.a):n(e.a)},wo=function(e){return T(He,0,ks,{bt:!1,aJ:e.aJ,as:e.a8,aU:e.aU,bP:e.bP,cc:e.cc,bk:Z,a:e.a})},$s=v(function(e,t){return wo(T(go,e.bG,e.ce,e.bu(t)))}),gr=v(function(e,t){return a($s,{bu:e.bu,bG:oo(e.bG),ce:e.ce},t)}),bt=pn,xs=v(function(e,t){var u=gr({bu:bt,bG:"deleteItem",ce:aa});return a(Ut,e,u(t))}),En=pn,ca=function(e){return T(Nt,v(function(t,u){return T(Xt,t.a,t.b,u)}),{},e)},Os=v(function(e,t){var u={bS:e.aP.bS,bn:e.aP.bn},o=gr({bu:function(f){return ca(g([C("name",bt(f.bS)),C("version",En(f.bn))]))},bG:"initDb",ce:aa});return a(Ut,t,o(u))}),_o=function(e){return a(m,xn,Fe(function(){try{ir.location=e}catch{rt.location.reload(!1)}}))},un=E(D),wr=Te,Es=(mo=wr,Fe(function(e){e(mt(mo(Date.now())))})),ko=Gr,$o=v(function(e,t){return{ah:e,ak:t}}),xo=function(e){return function(t){return wo(T(go,t.bG,t.ce,null))}({bG:oo(e.bG),ce:e.ce})},Ps=$e(function(e,t,u,o,f){return{aN:o,bK:e,ak:u,bS:t,bm:f}}),_r=Oa,js=di,Ki=Et(js,Ps,a(y,"id",_r),a(y,"name",k),a(y,"items",Ha(k)),a(y,"created",a(ct,wr,_r)),a(y,"updated",a(ct,wr,_r))),Oo=function(e){return function(t){return function(u){return function(o){return function(f){return function(d){return function(p){return function(w){return function(A){return function(q){return{by:o,aN:w,bE:q,bK:e,bS:t,b$:u,b6:f,am:p,ca:d,bm:A}}}}}}}}}}},Eo=fi,Ss=Ea,Po=function(e){return Oi(g([a(ct,te,e),_n(Z)]))},Au=v(function(e,t){return{$:0,a:e,b:t}}),As=ee,Ks=T(Yn,Au,a(y,"count",As),a(y,"unit",k)),Ku=a(vo,function(e){return Xe(Eo,e,a(y,"created",a(ct,wr,_r)),a(y,"updated",a(ct,wr,_r)),a(y,"frequency",_r))},function(e,t,u,o,f,d,p,w,A){return e.a===8?e.f(t,u,o,f,d,p,w,A):e(t)(u)(o)(f)(d)(p)(w)(A)}(Ss,Oo,a(y,"id",k),a(y,"name",k),a(y,"quantity",Ks),a(y,"comment",Po(k)),a(y,"slug",k),a(y,"symbol",Po(k)),a(y,"state",a(ct,function(e){switch(e){case"stuffed":default:return 0;case"required":return 1;case"in-basket":return 2}},k)))),jo=function(e){return T(Nt,v(function(t,u){return T(ia,t.a,t.b,u)}),xt,e)},Ci=function(e){return a(ct,jo,function(t){return{$:8,b:t}}(e))},Cs=v(function(e,t){var u=gr({bu:bt,bG:"queryBySlug",ce:Ku});return a(Ut,e,u(t))}),qs=nn,qi=v(function(e,t){return T(Nt,function(u){return v(function(o,f){return f.push(u(o)),f})}(e),[],t)}),Ti=function(e){return ca(g([C("id",En(e.bK)),C("name",bt(e.bS)),C("items",a(qi,bt,e.ak)),C("created",En(e.aN)),C("updated",En(e.bm))]))},Ts=v(function(e,t){var u=gr({bu:Ti,bG:"storeCategory",ce:aa});return a(Ut,e,u(t))}),Is=pn,Ds=function(e){return e.b},Ke=v(function(e,t){return t.$?Z:te(e(t.a))}),We=v(function(e,t){return t.$?e:t.a}),So=function(e){return a(j,Ke(e),We(null))},Cu=function(e){return ca(g([C("id",bt(e.bK)),C("name",bt(e.bS)),C("quantity",(u=e.b$,ca(g([C("count",Is((o=u,o.a))),C("unit",bt(Ds(u)))])))),C("comment",a(So,bt,e.by)),C("slug",bt(e.b6)),C("symbol",a(So,bt,e.ca)),C("state",(t=e.am,bt(function(f){switch(f){case 0:return"stuffed";case 1:return"required";default:return"in-basket"}}(t)))),C("frequency",En(e.bE)),C("created",En(e.aN)),C("updated",En(e.bm))]));var t,u,o},Rs=v(function(e,t){var u=gr({bu:Cu,bG:"storeItem",ce:aa});return a(Ut,e,u(t))}),Ii=R(function(e,t,u){for(;;){if(u.$===-2)return t;var o=u.e,f=e,d=T(e,u.b,u.c,T(Ii,e,t,u.d));e=f,t=d,u=o}}),Di=R(function(e,t,u){return T(Ii,R(function(o,f,d){return T(Xt,e(o),t(f),d)}),{},u)}),Bs=v(function(e,t){var u=gr({bu:a(Di,Te,Cu),bG:"storeAllItems",ce:aa});return a(Ut,e,u(t))}),Ms=function(e){return ca(g([C("version",En(e.bn)),C("items",T(Di,Te,Cu,e.ak)),C("categories",a(qi,Ti,e.ah))]))},Ns=v(function(e,t){var u=gr({bu:Ms,bG:"storeDump",ce:aa});return a(Ut,e,u(t))}),qu=v(function(e,t){switch(t.$){case 0:return un;case 1:var u=t.a;return E(a(s,qu(e),u));case 2:return t.a;case 3:return a(ko,e.at,t.a);case 4:return a(qs,e.at,t.a);case 6:return a(On,e.at,1);case 5:return _o(t.a);case 7:return a(m,e.bF,n(t.a));case 8:return a(m,t.a,Es);case 9:return a(Os,e.b5,t.a);case 10:return function(o){var f=T(Yn,$o,a(y,"categories",Ha(Ki)),a(y,"items",Ci(Ku))),d=xo({bG:"queryAllCatsAndItems",ce:f});return a(Ut,o,d)}(t.a);case 16:return a(Cs,t.a,t.b);case 11:return function(o){var f=xo({bG:"getUuid",ce:k});return a(Ut,o,f)}(t.a);case 12:return a(Rs,t.a,t.b);case 13:return a(xs,t.a,t.b);case 14:return a(Bs,t.a,t.b);case 17:return a(Ts,t.a,t.b);default:return a(Ns,t.a,t.b)}}),Ao=v(function(e,t){return a(qu,{af:S,bF:K,at:e.at,b5:e.b5,an:a(j,n,m(Te)),a:e.a},a(xe,K,t))}),Qa=v(function(e,t){return t.$?Z:e(t.a)}),Ko={$:4},Co={$:0},qo=function(e){return{$:1,a:e}},To={$:2},Io={$:3},Pn=v(function(e,t){return T(c,v(function(u,o){return e(u)?a(Je,u,o):o}),D,t)}),Fs=function(e){return!e},Do=function(e){return e.trim()},Ls=function(e){var t=a(Pn,a(j,Do,a(j,Ge,Fs)),a(wn,"/",e));e:for(;;){if(!t.b)return te(Co);if(t.b.b){if(t.a!=="items"||t.b.b.b)break e;return te(qo({h:t.b.a}))}switch(t.a){case"settings":return te(To);case"shopping":return te(Io);default:break e}}return Z},Ri=function(e){var t,u,o=e.b_?"https://":"http://",f=(t=e.bZ).$?"":":"+yt(t.a);return Tt((u=g([o,e.bJ,f,a(We,"",e.bD)]),a(gt,"",u)))},Tu=function(e){return a(We,Ko,a(Qa,Ls,a(Ke,function(t){return t.bY},Ri(e))))},Us=R(function(e,t,u){var o=e(t);return o.$?u:a(Je,o.a,u)}),Iu=v(function(e,t){return T(c,Us(e),D,t)}),Ro=function(e){try{return te(decodeURIComponent(e))}catch{return Z}},Bi=function(e){return a(We,e,Ro(e))},zs=function(e){if(e.b){if(e.b.b){var t=e.b.a;return te(C(Bi(e.a),Bi(t)))}return te(C(Bi(e.a),""))}return Z},Js=function(e){var t=a(Qa,function(o){return o.b0},Ri(e));if(t.$===1)return xt;var u=t.a;return Ge(u)?xt:jo(a(Iu,a(j,wn("="),zs),a(wn,"&",u)))},ne=v(function(e,t){return{bH:a(Qa,function(u){return u.bD},Ri(t)),bX:e,bY:Tu(t),b0:Js(t),a:t}}),Vs=function(e){return{$:1,a:e}},Gs=v(function(){return C({aP:{bS:"grocery-list",bg:0,bn:1},ar:Z,bc:{cb:2},aG:"ÐÐ¾ÐºÑÐ¿ÐºÐ¸: "},L(Vs))}),Bo=function(e){return{$:0,a:e}},kr=function(e){return{$:0,a:e}},Mo=v(function(e,t){return{$:1,a:e,b:t}}),$r=function(e){return{$:1,a:e}},No=function(e){return{$:4,a:e}},xr=function(e){return{$:4,a:e}},qe=function(e){return{$:2,a:e}},Fo=function(e){return{$:2,a:e}},Or=function(e){return{$:2,a:e}},Lo=function(e){return{$:3,a:e}},Er=function(e){return{$:3,a:e}},on=v(function(e,t){return a(qu,{af:S,bF:K,at:e.at,b5:e.b5,an:a(j,n,m(Te)),a:e.a},a(xe,qe,t))}),Xa=function(e){return e.R},Du=function(e){return{$:3,a:e}},Uo=v(function(e,t){return a(qu,{af:S,bF:K,at:e.at,b5:e.b5,an:a(j,n,m(Te)),a:e.a},a(xe,Du,t))}),Ws=function(e){return e.R},je=J,Ys=v(function(e){return C({O:e},je)}),zo=Pe,Pr=zo(D),Hs=function(){return Pr},Qs=R(function(e,t,u){return C(Y(u,{O:t._}),je)}),sa=v(function(e,t){return a(_t,e,bt(t))}),ve=sa("className"),Xs=De("footer"),Zs=De("header"),ef=Ne,Jo=ef,tf=De("main"),nf=function(e){return De(Zt(e))},Vo=yn,Ru=v(function(e,t){return a(Vo,e,{$:0,a:t})}),rf=R(function(e,t,u){return{Q:u,bY:e,Y:t}}),af=at("fill"),uf=at("height"),Go=v(function(e,t){return a(_t,function(u){return u=="innerHTML"||u=="outerHTML"||u=="formAction"?"data-"+u:u}(e),function(u){return typeof u=="string"&&nr.test(u)||Array.isArray(u)&&nr.test(u+"")?"":u}(t))}),of=at("stroke"),cf=at("stroke-linecap"),sf=at("stroke-linejoin"),Mi=at("stroke-width"),ff=at("viewBox"),lf=at("width"),It=g([lf("24"),uf("24"),af("none"),of("currentColor"),Mi("2"),cf("round"),sf("round"),ff("0 0 24 24"),a(Go,"xmlns",bt("http://www.w3.org/2000/svg")),a(Go,"style",bt("width:1em;height:1em"))]),Re=at("d"),Ni=Mt("http://www.w3.org/2000/svg"),Be=Ni("path"),Dt=Ni("svg"),Wo=De("li"),df=function(e){return a(Dt,Ie(It,e),g([a(Be,g([Re("M3 5h.01")]),D),a(Be,g([Re("M3 12h.01")]),D),a(Be,g([Re("M3 19h.01")]),D),a(Be,g([Re("M8 5h13")]),D),a(Be,g([Re("M8 12h13")]),D),a(Be,g([Re("M8 19h13")]),D)]))},hf=De("nav"),Bu=Ni("circle"),Mu=at("cx"),Nu=at("cy"),Fu=at("r"),pf=function(e){return a(Dt,Ie(It,e),g([a(Be,g([Re("M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915")]),D),a(Bu,g([Mu("12"),Nu("12"),Fu("3")]),D)]))},vf=function(e){return a(Dt,Ie(It,e),g([a(Bu,g([Mu("8"),Nu("21"),Fu("1")]),D),a(Bu,g([Mu("19"),Nu("21"),Fu("1")]),D),a(Be,g([Re("M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12")]),D)]))},Qe=De("span"),Fi=De("ul"),Yo=De("a"),Ho=function(e){return e.b},fa=function(e){return ve(a(gt," ",a(s,ku,a(Pn,Ho,e))))},Qo=function(e){return a(sa,"href",qa.test(t=e)?"":t);var t},Xo=ui,Zo=function(e){var t=function(){switch(e.$){case 0:return D;case 1:return g(["items",e.a.h]);case 2:return g(["settings"]);case 3:return g(["shopping"]);default:return g(["404"])}}();return a(Xo,"#/",a(gt,"/",t))},bf=function(e){return e.a+"="+e.b},mf=v(function(e,t){return{$:0,a:e,b:t}}),ec=function(e){return encodeURIComponent(e)},yf=v(function(e,t){return a(mf,ec(e),ec(t))}),gf=function(e){return a(yf,e.a,e.b)},wf=function(e){return(t=a(s,gf,Vn(e))).b?"?"+a(gt,"&",a(s,bf,t)):"";var t},_f=function(e){return Qo(function(t){return a(gt,"",g([Zo(t.bY),wf(t.b0),a(We,"",a(Ke,Xo("#"),t.bH))]))}(e))},kf=Ca,Le=kf,tc=v(function(e,t){return a(Wo,D,g([a(Yo,g([_f({bH:Z,bY:t.bY,b0:xt}),ve("link"),fa(g([C("active",fe(e.bY,t.bY))]))]),g(t.Y===""?[a(Qe,g([ve("icon-wrapper")]),g([t.Q(D)]))]:[a(Qe,g([ve("icon-wrapper")]),g([t.Q(D)])),Le(t.Y)]))]))}),nc=function(e){var t,u=g([{Q:df,bY:Co,Y:"Ð¡Ð¿Ð¸ÑÐ¾Ðº"},{Q:vf,bY:Io,Y:"Ð Ð¼Ð°Ð³Ð°Ð·Ð¸Ð½Ðµ"}]);return a(hf,g([ve("main-nav")]),g([a(Fi,D,g([a(Wo,D,g([a(Qe,g([ve("link")]),g([a(Qe,g([ve("icon-wrapper")]),g([(t=D,a(Dt,Ie(It,t),g([a(Be,g([Re("m2 2 20 20")]),D),a(Be,g([Re("M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193")]),D),a(Be,g([Re("M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07")]),D)])))]))]))]))])),a(Fi,g([ve("group")]),a(s,tc(e),u)),a(Fi,D,g([a(tc,e,T(rf,To,"",pf))]))]))},$f=v(function(e,t){var u=t.bQ,o=t.n;return{aJ:g([T(nf,"on-click-outside",g([a(Ru,"clickoutside",_n(e.al))]),g([a(Zs,g([ve("nav-header container")]),g([a(Jo,nc,u.O)])),a(tf,g([ve("app-main container")]),o.aJ),a(Xs,g([ve("nav-footer container")]),g([a(Jo,nc,u.O)]))]))]),bj:o.bj}}),xf=v(function(e,t){return Y(t,{V:te(e)})}),Za=R(function(e,t,u){return a(xf,Te,{R:(o={R:Ys(u),W:Hs,ad:Qs(e),ae:$f(e)}).R,U:Z,G:xt,V:Z,aA:0,W:o.W,ad:o.ad,ae:o.ae});var o}),eu=v(function(e,t){var u=C(t,e.e);if(u.b.$){var o=a(Ws,T(Za,u.a,e.b5,a(ne,0,e.a)),0);return C({T:o.a},a(Uo,e,a(xe,Te,o.b)))}return C(u.b.a,un)}),cn=v(function(e,t){return a(Ke,function(u){return u(e)},t.aa)}),Of=v(function(e,t){return{al:e(t.al)}}),sn=v(function(e,t){return a(Of,e,t)}),Jt=R(function(e,t,u){var o=u.b;return C(e(u.a),t(o))}),jr={$:2},Li=function(e){return{$:1,a:e}},rc=function(e){return{$:2,a:e}},Ui=F,ac=xt,zi=function(e){return U(e)},Ef=function(){return C({ag:Z,ah:D,E:ac,ap:jr,ar:Z,ak:xt,aG:"ÐÐ¾ÐºÑÐ¿ÐºÐ¸: "},Ui(g([zi(function(e){return e.$?Li(Z):rc(e.a)})])))},tu=function(e){return{R:e.R,U:Z,G:xt,V:Z,W:e.W,aa:Z,ad:e.ad,ae:e.ae}},uc=(Su="incoming",yo=Ei,function(e){At[e]&&pt(3)}(Su),At[Su]={f:Dn,u:yo,a:function(e,t){var u=D,o=At[e].u,f=mt(null);return At[e].b=f,At[e].c=R(function(d,p){return u=p,f}),{send:function(d){var p=a(Ir,o,d);Ct(p)||pt(4);for(var w=p.a,A=u;A.b;A=A.b)t(A.a(w))}}}},tr(Su)),Pf=x(T(Yn,$o,a(y,"categories",Ha(Ki)),a(y,"items",Ci(Ku)))),ic=R(function(e,t,u){var o=Pf(u);return o.$?e(te(pr(o.a))):t(o.a)}),jf=function(){return uc(a(ic,Li,rc))},Sf={$:4},Af=function(){return{al:Sf}},Ji=function(e){return{$:1,a:e}},Vi=function(e){return{$:0,a:e}},Gi={$:0},oc=function(e){return{$:3,a:e}},cc=v(function(e,t){return t.b?T(c,Je,t,e):e}),sc=function(e){return e.b?te(e.a):Z},Kf=v(function(e,t){return sc(a(Pn,function(u){return fe(u.bK,t)},e))}),la=function(e){return e.$===1?Li(Z):Gi},fc=function(e){return ie(e)},lc=v(function(e,t){return a(ae,e,t)}),Lu=v(function(e,t){return a(nt,e,t)}),dc=bu("focus"),hc=v(function(e,t){return{$:6,a:e,b:t}}),pc=R(function(e,t,u){switch(t){case 0:return Y(e,{bS:u});case 3:return Y(e,{by:te(u)});case 1:var o=a(We,0,function(f){if(f.length===0||/[\sxbo]/.test(f))return Z;var d=+f;return d==d?te(d):Z}(u));return Y(e,{b$:a(Au,o,e.b$.b)});case 2:return Y(e,{b$:a(Au,e.b$.a,u)});default:return e}}),vc=R(function(e,t,u){switch(e.$){case 0:return Vi(T(pc,e.a,t,u));case 1:return Ji(T(pc,e.a,t,u));default:return jr}}),Cf=v(function(e,t){return a(z,e,t)}),Uu=function(e){return M(e)},bc=v(function(e,t){return T(ia,e,0,t)}),Wi=v(function(e,t){for(;;){if(!t.b)return!1;var u=t.b;if(e(t.a))return!0;t=u}}),zu=v(function(e,t){return a(Wi,function(u){return fe(u,e)},t)}),mc=v(function(e,t){return a($i,e,t)}),qf=v(function(e,t){return a(zu,e,t.ak)?Y(t,{ak:a(Pn,function(u){return!fe(u,e)},t.ak)}):t}),nu=se,Tf=v(function(e,t){return{$:7,a:e,b:t}}),If=v(function(e,t){return T(ju,e,Ke(function(u){return Y(u,{bE:u.bE+1})}),t)}),yc=R(function(e,t,u){return T(ju,t,Ke(function(o){return Y(o,{am:e})}),u)}),Df=R(function(e,t,u){var o=u?0:1,f=a(j,If(t.bK),a(yc,o,t.bK))(e.ak);return C(Y(e,{ak:f}),Uu(Tf(a(We,t,a(zt,t.bK,f)))))}),Rf=v(function(e,t){switch(t.$){case 0:var u=t.a;return C(Y(e,{E:p=a(t.b?bc:mc,u,e.E)}),je);case 2:return T(Df,e,t.a,t.b);case 8:var o=t.c;return C(Y(e,{ap:Ji(t.a)}),nu(a(Ut,function(){return Gi},dc(o))));case 9:var f=t.b,d=t.c;return e.ap.$===2?C(e,je):C(Y(e,{ap:p=T(vc,e.ap,f,d)}),Uu(hc(p)));case 5:return C(Y(e,{ag:te((A=t.a).bK)}),fc(oc));case 6:var p;return C(Y(e,{ap:p=T(vc,e.ap,f=t.a,d=t.b)}),Uu(hc(p)));case 10:var w=t.a,A=sc(a(Pn,function(q){return a(zu,w,q.ak)},e.ah));return C(Y(e,{ah:a(s,qf(w),e.ah),ak:a($i,w,e.ak)}),Ui(g([a(Cf,la,w),a(We,je,a(Ke,lc(la),A))])));default:return C(e,je)}}),gc=R(function(e,t,u){return T(ju,t,Ke(function(o){return Y(o,{bm:u})}),e)}),Bf=fn,Mf=v(function(e,t){return Y(t,{ak:a(Bf,function(u){var o=a(zt,u,e);return o.$?0:0-o.a.bE},t.ak)})}),Nf=v(function(e,t){switch(e.$){case 0:return C(t,je);case 1:return C(Y(t,{ar:e.a}),je);case 3:var u=e.a;if(u.$)return C(t,je);var o=u.a,f="item-name-"+o;return C(Y(t,{ap:Vi((B=te(o),Oo(a(We,"empty",B))("")(a(Au,1,"ÑÑÑÐº"))(Z)("")(Z)(1)(wr(0))(wr(0))(0)))}),nu(a(Ut,function(){return Gi},dc(f))));case 4:return function(N){var W=N.ap;switch(W.$){case 2:return C(N,je);case 1:return C(Y(N,{ap:jr,ak:T(ia,(G=W.a).bK,G,N.ak)}),a(Lu,la,G));default:var G;if(Ge((G=W.a).bS))return C(Y(N,{ag:Z,ap:jr}),je);var re=a(Qa,function(de){return te(Y(de,{ak:a(cc,de.ak,g([G.bK]))}))},a(Qa,Kf(N.ah),N.ag));return C(Y(N,{ag:Z,ah:function(){if(re.$)return N.ah;var de=re.a;return a(s,function(oe){return fe(oe.bK,de.bK)?de:oe},N.ah)}(),ap:jr,ak:T(ia,G.bK,G,N.ak)}),Ui(g([a(Lu,la,G),fc(oc),a(We,je,a(Ke,function(de){return a(lc,la,de)},re))])))}}(t);case 2:var d=e.a;return C(Y(t,{ah:a(s,Mf(d.ak),d.ah),ak:d.ak}),je);case 5:return a(Rf,t,e.a);case 6:var p=e.a,w=e.b,A=function(){switch(p.$){case 2:return jr;case 0:return Vi(Y(p.a,{bm:w}));default:return Ji(Y(p.a,{bm:w}))}}();return C(Y(t,{ap:A}),je);default:var q=e.a;return C(Y(t,{ak:T(gc,t.ak,q.bK,w=e.b)}),a(Lu,la,Y(q,{bm:w})))}var B}),Ff=function(e){return{$:5,a:e}},da=lu,wc=function(e){return{ag:Z,ah:e.ah,M:e.ao,ai:e.ai,N:!1,ap:jr,aq:!1,ak:e.ak,au:!1,av:!1,I:!1}},_c=function(e){return mn(Zt(e))},Vt=De("div"),Yi=v(function(e,t){return!a(zt,e,t).$}),Lf=v(function(e,t){return a(Yi,e,t)}),Uf=v(function(e,t){return a(Vt,g([ve("category-body"),fa(g([C("collapsed",e===1)]))]),t)}),zf=v(function(e,t){return{$:0,a:e,b:t}}),kc=function(e){return a(Dt,Ie(It,e),g([a(Be,g([Re("m9 18 6-6-6-6")]),D)]))},Jf=function(e){return a(Dt,Ie(It,e),g([a(Be,g([Re("M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7")]),D),a(Be,g([Re("M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z")]),D)]))},$c=De("h3"),Gt=function(e){return a(Ru,"click",_n(e))},xc=function(e){return a(Dt,Ie(It,e),g([a(Be,g([Re("M5 12h14")]),D),a(Be,g([Re("M12 5v14")]),D)]))},Sr=Le(""),ru=v(function(e,t){return e?t:Sr}),Ju=v(function(e,t){if(t.$===-2)return an;var u=t.b,o=t.d,f=t.e;return X(_e,t.a,u,a(e,u,t.c),a(Ju,e,o),a(Ju,e,f))}),Oc=R(function(e,t,u){var o=Gn(a(Pn,function(d){return a(Yi,d,e)},t)),f=Gn(a(Pn,function(d){return fe(a(zt,d,e),te(u))},t));return a(Qe,g([ve("counter"),fa(g([C("all-done",ge(f,o)>-1)]))]),g([Le(yt(f)+" / "+yt(o))]))}),Vf=v(function(e,t){return T(Oc,a(Ju,v(function(u,o){return o.am}),e),t,2)}),Gf=function(e){return Y(e,{N:!0})},Wf=R(function(e,t,u){return a(da,function(f){return a(zf,f,t?0:1)},function(f){var d,p=f,w=a(Qe,D,g([Le(p.L.bS)])),A=a(Qe,g([ve("chevron"),Gt(p.L.bK)]),g([p.am?kc(D):(d=D,a(Dt,Ie(It,d),g([a(Be,g([Re("m6 9 6 6 6-6")]),D)])))]));return a($c,D,g([w,a(ru,p.N,a(Vf,p.ak,p.L.ak)),A,a(ru,!p.N,a(Qe,g([ve("button category-edit-button")]),g([Jf(D)]))),a(ru,!p.N,a(Qe,g([ve("button category-add-button")]),g([xc(D)])))]))}((e.N?Gf:Te)({L:(o={L:u,ak:e.ak,am:t}).L,N:!1,ak:o.ak,am:o.am})));var o}),Yf=v(function(e,t){return{$:6,a:e,b:t}}),Vu={$:11},Ar=De("button"),Ec=function(e){return{ao:e.ao,ap:!1,aq:e.aq,h:e.h,au:!1,av:!1,az:e.az,I:!1}},Hi=R(function(e,t,u){return{$:2,a:e,b:t,c:u}}),Qi=R(function(e,t,u){return{$:3,a:e,b:t,c:u}}),Hf=v(function(e,t){return{$:1,a:e,b:t}}),Qf=v(function(e,t){return{$:0,a:e,b:t}}),ha={$:5},Xf=De("article"),Zf=De("h4"),el=v(function(e,t){return a(zu,e,t)}),Kr=v(function(e,t){return a(at,function(u){return Ur.test(u)?"data-"+u:u}(e),function(u){return nr.test(u)?"":u}(t))}),Pc=function(e){return a(Kr,"role",e)},tl=ce(function(e,t,u,o){return a(Vt,g([Pc("checkbox"),a(Kr,"aria-role","checkbox"),fa(g([C("checked",o),C("check",u===1),C("disabled",t)])),Gt(e(!o))]),g([u?(f=g([Mi("3")]),a(Dt,Ie(It,f),g([a(Be,g([Re("M20 6 9 17l-5-5")]),D)]))):xc(g([Mi("3")]))]));var f}),Gu=ce(function(e,t,u,o){return t.$===1||u.$===1||o.$===1?Z:te(T(e,t.a,u.a,o.a))}),pa=sa("id"),Wu=sa("name"),Yu=function(e){return a(Ru,"blur",_n(e))},Hu=function(e){return a(Ru,"focus",_n(e))},nl=function(e){return C(e,!0)},rl=v(function(e,t){return a(Vo,e,{$:1,a:t})}),al=a(v(function(e,t){return T(c,y,t,e)}),g(["target","value"]),k),Qu=function(e){return a(rl,"input",a(ct,nl,a(ct,e,al)))},ul=De("textarea"),Xu=sa("value"),il=R(function(e,t,u){return a(Qe,g([ve("item-comment"),pa(u),Gt(e)]),g([t.$?a(Qe,g([ve("add-item-comment with-click-outside button")]),g([(o=D,a(Dt,Ie(It,o),g([a(Be,g([Re("M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z")]),D)])))])):Le(t.a)]));var o}),ol=function(e){var t="item-comment-"+e.aj;return!e.aE&&e.az?a(We,Sr,Xe(Gu,R(function(u,o,f){return function(d){var p=d.x,w=d.r,A=d.m,q=d.q,B=d.n;return a(Qe,g([ve("grow-container"),a(Kr,"data-content",a(We,"",B))]),g([a(ul,g([Xu(a(We,"",B)),ve("with-click-outside"),Qu(w),Yu(A),Hu(q),Wu(p),a(at,"rows",yt(1)),pa(p)]),D)]))}({m:o,n:e.n,x:t,q:f,r:u})}),e.r,e.m,e.q)):T(il,a(e.ay,3,t),e.n,t)},cl=v(function(e,t){return a(We,Sr,a(Ke,e,t))}),Xi=De("input"),Zi=sa("type"),sl=R(function(e,t,u){return a(Qe,g([pa(u),Gt(e)]),g([Le(t)]))}),fl=function(e){var t="item-name-"+e.aj;return!e.aE&&e.az?a(We,Sr,Xe(Gu,R(function(u,o,f){return function(d){var p=d.x,w=d.r,A=d.m,q=d.q,B=d.n;return a(Qe,g([ve("input-resize-containter"),a(Kr,"data-content",B)]),g([a(Xi,g([Zi("text"),ve("item-name-field with-click-outside"),Xu(B),Qu(w),Yu(A),Hu(q),Wu(p),pa(p)]),D)]))}({m:o,n:e.n,x:t,q:f,r:u})}),e.r,e.m,e.q)):T(sl,a(e.ay,0,t),e.n,t)},jc=De("b"),eo=Zn,ll=v(function(e,t){var u=t.a,o=t.b,f="item-quantity-unit"+e.aj,d="item-quantity-count"+e.aj;return!e.aE&&e.az?a(Qe,D,g([a(We,Sr,Xe(Gu,R(function(p,w,A){return function(q){var B=q.x,N=q.n,W=q.r,G=q.q,re=q.m;return a(jc,g([ve("input-resize-containter"),a(Kr,"data-content",eo(N))]),g([a(Xi,g([Zi("text"),a(Kr,"inputmode","decimal"),ve("item-quantity-count-field with-click-outside"),Xu(eo(N)),Qu(W),Yu(re),Hu(G),Wu(B),pa(B)]),D)]))}({m:w,n:u,x:d,q:A,r:p(1)})}),e.r,e.m,e.q)),a(We,Sr,Xe(Gu,R(function(p,w,A){return function(q){var B=q.x,N=q.n,W=q.r,G=q.q,re=q.m;return a(Qe,g([ve("input-resize-containter"),a(Kr,"data-content",N)]),g([a(Xi,g([Zi("text"),ve("item-quantity-unit-field with-click-outside"),Xu(N),Qu(W),Yu(re),Hu(G),Wu(B),pa(B)]),D)]))}({m:w,n:o,x:f,q:A,r:p(2)})}),e.r,e.m,e.q))])):a(Qe,g([Gt(a(e.ay,0,d))]),g([a(jc,D,g([Le(eo(u))])),a(Qe,D,g([Le(o)]))]))}),Sc=function(e){var t,u,o,f=e,d=f.au?a(Yo,g([(t=qo({h:f.h.b6}),Qo(Zo(t)))]),g([kc(D)])):Le(""),p=f.av&&f.h.am===2;return a(Xf,g([ve("grocery-item"),fa(g([C("in-basket",p),C("item-draft",f.ap)])),Gt(a(Qf,f.h,f.h.am))]),g([a(Vt,g([ve("label")]),g([Xe(tl,function(){return a(Hf,f.h,f.h.am)},!1,f.I?0:1,a(el,f.h.am,f.ao)),a(Zf,D,g([fl({m:te(ha),n:f.h.bS,q:te(ha),r:te(a(Qi,f.h,0)),aj:f.h.bK,ay:Hi(f.h),az:f.az,aE:!f.aq}),a(cl,function(w){return a(Qe,D,g([Le(w)]))},f.h.ca)]))])),a(Qe,g([ve("item-quantity")]),g([a(ll,{m:te(ha),q:te(ha),r:te(Qi(f.h)),aj:f.h.bK,ay:Hi(f.h),az:f.az,aE:!f.I},f.h.b$)])),a(Vt,g([ve("item-comment-box")]),g([ol({m:te(ha),n:f.h.by,q:te(ha),r:te(a(Qi,f.h,3)),aj:f.h.bK,ay:Hi(f.h),az:f.az,aE:!f.I}),a(ru,f.I,a(Vt,g([ve("button delete-item-button"),Gt((o=f.h.bK,{$:4,a:o}))]),g([(u=D,a(Dt,Ie(It,u),g([a(Be,g([Re("M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6")]),D),a(Be,g([Re("M3 6h18")]),D),a(Be,g([Re("M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2")]),D)])))]))),d]))]))},dl=function(e){var t,u,o=e.L,f=C(e.az,e.ap);return f.a&&!f.b.$?a(da,function(d){return d.$===3?a(Yf,d.b,d.c):Vu},Sc(function(d){return Y(d,{ap:!0})}(Ec({ao:D,aq:!0,h:f.b.a,az:!0})))):a(Ar,g([ve("add-item-button outline"),Gt((u=o,{$:5,a:u}))]),g([(t=D,a(Dt,Ie(It,t),g([a(Bu,g([Mu("12"),Nu("12"),Fu("10")]),D),a(Be,g([Re("M8 12h8")]),D),a(Be,g([Re("M12 8v8")]),D)])))]))},hl=R(function(e,t,u){return{$:8,a:e,b:t,c:u}}),pl=R(function(e,t,u){return{$:9,a:e,b:t,c:u}}),vl=v(function(e,t){return{$:2,a:e,b:t}}),bl=v(function(e,t){return{$:1,a:e,b:t}}),ml=function(e){return Y(e,{au:!0})},yl=function(e){return Y(e,{av:!0})},gl=function(e){return Y(e,{I:!0})},wl=function(e){var t=e.aq;return a(da,function(u){switch(u.$){case 1:return a(vl,u.a,u.b);case 0:return a(bl,u.a,u.b);case 2:var o=u.b;return t?T(hl,u.a,o,u.c):Vu;case 3:return o=u.b,t?T(pl,u.a,o,u.c):Vu;case 4:return{$:10,a:u.a};default:return Vu}},Sc((e.I?gl:Te)((e.av?yl:Te)((e.au?ml:Te)(Ec({ao:e.M,aq:t,h:e.h,az:e.az}))))))},_l=v(function(e,t){return T(_c,"div",D,a(s,function(f){var d,p,w=f.a,A=f.b,q=(p=e.ap).$===2?C(!1,A):fe((d=p.a).bK,w)?C(!0,d):C(!1,A);return C(w,wl({M:e.M,aq:e.aq,h:q.b,au:e.au,av:e.av,az:q.a,I:e.I}))},(u=C(e.ak,t),o=u.a,a(s,function(f){return C(f.bK,f)},a(Iu,Te,a(s,function(f){return a(zt,f,o)},u.b.ak))))));var u,o}),kl=v(function(e,t){var u=a(Lf,t.bK,e.ai)?1:0;return C(yt(t.bK),a(Vt,g([ve("grocery-category")]),g([T(Wf,e,u,t),a(Uf,u,g([a(_l,e,t),a(ru,e.aq,dl({L:t,ap:e.ap,az:fe(a(We,-1,e.ag),t.bK)}))]))])))}),Ac=function(e){var t=e;return T(_c,"div",D,a(s,kl(t),t.ah))},$l=R(function(e,t,u){return Y(u,{ag:e,ap:t,aq:!0})}),xl=function(e){return Y(e,{I:!0})},Ol=v(function(e,t){return{aJ:g([a(da,Ff,Ac(T($l,t.ag,t.ap,xl((u=wc({ah:t.ah,ao:g([1,2]),ai:t.E,ak:t.ak}),Y(u,{au:!0}))))))]),bj:e.aG+"Ð¡Ð¿Ð¸ÑÐ¾Ðº"};var u}),Zu=v(function(e,t){return Y(t,{aa:te(e)})}),va=v(function(e){return a(Zu,Af,tu({R:Ef,W:jf,ad:Nf,ae:Ol(e)}))}),El=R(function(e,t){var u=a(We,"",Ro(t.h));return C({ap:Z,h:Z,b6:u},je)}),Pl=function(){return Pr},jl={$:3},Sl=function(){return{al:jl}},Al=R(function(e,t,u){return C(u,je)}),Kl=v(function(e,t){return{aJ:g([a(Vt,g([ve("empty-page")]),g([Le("ÐÐ¸ÑÐµÐ³Ð¾ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ð¾")]))]),bj:Ie(e.aG,t.b6)}}),ba=v(function(e,t){return a(Zu,Sl,tu({R:a(El,e,t.bX),W:Pl,ad:Al(e),ae:Kl(e)}))}),Cl=function(){return C({},je)},ql=function(){return Pr},Tl=v(function(e,t){return C(t,je)}),Kc=function(e){return{aJ:g([Le(e)]),bj:e}},Il=function(){return Kc("Page not found")},ma=v(function(){return tu({R:Cl,W:ql,ad:Tl,ae:Il})}),Dl=function(){return C({aX:Z},je)},Rl=function(){return Pr},Bl={$:0},Ml=function(){return{al:Bl}},Nl=function(e){return{$:5,a:e}},Fl=function(e){return{$:4,a:e}},Ll=function(e){return{$:3,a:e}},Ul=v(function(e,t){return a(m,t,function(u){return Fe(function(o){(kt=document.createElement("input")).type="file",kt.accept=a(gt,",",u),kt.addEventListener("change",function(f){o(mt(f.target.files[0]))}),$t(kt)})}(e))}),zl=Xe(Eo,R(function(e,t,u){return{ah:u,ak:t,bn:e}}),a(y,"version",_r),a(y,"items",Ci(Ku)),a(y,"categories",Ha(Ki))),Jl=R(function(e,t,u){return a(m,xn,T(vi,e,t,u))}),Vl=R(function(e,t,u){switch(t.$){case 0:return C(u,je);case 1:return C(u,zi(Nl));case 2:return C(u,nu(a(Ul,g(["application/json"]),Ll)));case 3:return C(u,nu(a(m,Fl,function(d){return Fe(function(p){var w=new FileReader;return w.addEventListener("loadend",function(){p(mt(w.result))}),w.readAsText(d),function(){w.abort()}})}(t.a))));case 4:return C(u,function(d){var p=a(xi,zl,d);return le(p.$?{$:3,a:te(pr(p.a))}:{$:2,a:p.a})}(t.a));default:var o=t.a;if(o.$)return C(u,je);var f=o.a;return C(u,nu(T(Jl,"grocery-list-backup.json","application/json",a(sr,2,ca(g([C("version",En(e.aP.bn)),C("categories",a(qi,Ti,f.ah)),C("items",T(Di,Te,Cu,f.ak))]))))))}}),Gl={$:1},Wl={$:2},Yl=De("h1"),Cc=De("h2"),Hl=v(function(e){return{aJ:g([a(Yl,D,g([Le("ÐÐ°ÑÑÑÐ¾Ð¹ÐºÐ¸")])),a(Vt,D,g([a(Cc,D,g([Le("Ð¢ÐµÐ¼Ð°")])),a(Vt,g([ve("button-row"),Pc("group")]),g([a(Ar,D,g([Le("ÐÐ°Ðº Ð² ÑÐ¸ÑÑÐµÐ¼Ðµ")])),a(Ar,g([ve("secondary")]),g([Le("Ð¡Ð²ÐµÑÐ»Ð°Ñ")])),a(Ar,g([ve("secondary")]),g([Le("Ð¢ÑÐ¼Ð½Ð°Ñ")]))]))])),a(Vt,D,g([a(Cc,D,g([Le("Ð­ÐºÑÐ¿Ð¾ÑÑ Ð¸ Ð¸Ð¼Ð¿Ð¾ÑÑ")])),a(Ar,g([Gt(Gl)]),g([Le("Ð­ÐºÑÐ¿Ð¾ÑÑ Ð´Ð°Ð½Ð½ÑÑ")])),a(Ar,g([Gt(Wl)]),g([Le("ÐÐ¼Ð¿Ð¾ÑÑ Ð¸Ð· ÑÐ°Ð¹Ð»Ð°")]))]))]),bj:e.aG+"ÐÐ°ÑÑÑÐ¾Ð¹ÐºÐ¸"}}),ya=v(function(e){return a(Zu,Ml,tu({R:Dl,W:Rl,ad:Vl(e),ae:Hl(e)}))}),qc=function(e){return{$:2,a:e}},Tc=function(e){return{$:3,a:e}},Ql=function(){return C({ah:D,E:ac,ar:Z,ak:xt},zi(function(e){return e.$?Tc(Z):qc(e.a)}))},Xl=function(e){return{$:1,a:e}},Zl=function(){return uc(a(ic,Xl,qc))},Ic={$:0},ed=function(){return{al:Ic}},td=v(function(e,t){return{$:5,a:e,b:t}}),Dc=function(e){return e.$===1?Tc(Z):Ic},Rc=v(function(e,t){return a(Ju,v(function(u,o){return e(o)}),t)}),nd=v(function(e,t){return a(ft,e,t)}),rd=v(function(e,t){switch(e.$){case 0:case 3:return C(t,je);case 1:return C(Y(t,{ar:e.a}),je);case 2:var u=e.a;return C(Y(t,{ah:u.ah,ak:u.ak}),je);case 4:var o=a(Rc,function(q){return q.am===2?Y(q,{am:0}):q},t.ak);return C(Y(t,{ak:o}),a(nd,Dc,o));case 5:var f=e.b;return C(Y(t,{ak:T(gc,t.ak,(w=e.a).bK,f)}),a(Lu,Dc,Y(w,{bm:f})));default:var d=e.a;switch(d.$){case 0:var p=d.a;return C(Y(t,{E:o=a(d.b?bc:mc,p,t.E)}),je);case 1:var w,A=T(yc,d.b===1?2:1,(w=d.a).bK,t.ak);return C(Y(t,{ak:A}),Uu(td(a(We,w,a(zt,w.bK,A)))));default:return C(t,je)}}}),ad=function(e){return{$:6,a:e}},ud=v(function(e,t){return T(Ii,R(function(u,o,f){return a(e,u,o)?T(ia,u,o,f):f}),xt,t)}),id=v(function(e,t){return a(ud,v(function(u,o){return a(zu,o.am,t)}),e)}),od=v(function(e,t){return a(Pn,function(u){return a(Wi,function(o){return a(Yi,o,e)},u.ak)},t)}),Bc=v(function(e,t){for(;;){if(t.$===-2)return e;var u=t.d;e=a(Bc,e+1,t.e),t=u}}),to=function(e){return a(Bc,0,e)},cd=a(Vt,g([ve("empty-page")]),g([a($c,D,g([Le("ÐÑÑ ÐºÑÐ¿Ð»ÐµÐ½Ð¾!")]))])),sd={$:4},fd=pn,ld=v(function(e,t){return a(_t,e,fd(t))})("disabled"),Mc=function(e){return Gn(a(Pn,function(u){return u.am===2},(t=e,T(Jn,R(function(u,o,f){return a(Je,o,f)}),D,t))));var t},dd=function(e){var t=to(e);return t>0&&1>ge(t,Mc(e))},hd=function(e){return Y(e,{N:!0})},pd=v(function(e,t){return{aJ:(f=a(id,t.ak,g([1,2])),d=a(od,f,t.ah),to(f)>0?g([a(da,ad,Ac(hd((o=wc({ah:d,ao:g([2]),ai:t.E,ak:f}),Y(o,{av:!0}))))),(u=f,to(u)>0?a(Ar,g([ve("end-shopping-button"),fa(g([C("all-done",dd(u))])),Gt(sd),ld(0>=Mc(u))]),g([T(Oc,a(Rc,function(p){return p.am},u),bi(u),2),Le("ÐÐ°ÐºÐ¾Ð½ÑÐ¸ÑÑ Ð¿Ð¾ÐºÑÐ¿ÐºÐ¸")])):Sr)]):g([cd])),bj:e.aG+"Ð Ð¼Ð°Ð³Ð°Ð·Ð¸Ð½Ðµ"};var u,o,f,d}),ga=v(function(e){return a(Zu,ed,tu({R:Ql,W:Zl,ad:rd,ae:pd(e)}))}),Nc=function(e){var t=Tu(e.a);switch(t.$){case 0:var u=a(Xa,q=a(va,e.b5,a(ne,0,e.a)),0),o=u.a,f=u.b;return{e:a(Ke,eu(e),a(Ke,sn(a(j,kr,qe)),a(cn,o,q))),g:T(Jt,Bo,a(j,xe(kr),on(e)),C(o,f))};case 1:var d=t.a,p=a(Xa,q=a(ba,e.b5,a(ne,d,e.a)),0);return o=p.a,f=p.b,{e:a(Ke,eu(e),a(Ke,sn(a(j,$r,qe)),a(cn,o,q))),g:T(Jt,Mo(d),a(j,xe($r),on(e)),C(o,f))};case 2:var w=a(Xa,q=a(ya,e.b5,a(ne,0,e.a)),0);return o=w.a,f=w.b,{e:a(Ke,eu(e),a(Ke,sn(a(j,Or,qe)),a(cn,o,q))),g:T(Jt,Fo,a(j,xe(Or),on(e)),C(o,f))};case 3:var A=a(Xa,q=a(ga,e.b5,a(ne,0,e.a)),0);return o=A.a,f=A.b,{e:a(Ke,eu(e),a(Ke,sn(a(j,Er,qe)),a(cn,o,q))),g:T(Jt,Lo,a(j,xe(Er),on(e)),C(o,f))};default:var q,B=a(Xa,q=a(ma,e.b5,a(ne,0,e.a)),0);return o=B.a,f=B.b,{e:a(Ke,eu(e),a(Ke,sn(a(j,xr,qe)),a(cn,o,q))),g:T(Jt,No,a(j,xe(xr),on(e)),C(o,f))}}},vd=R(function(e,t,u){var o=a(Gs,a(x,P,e),a(ne,0,t)),f=o.a,d=o.b,p=Nc({at:u,e:Z,b5:f,a:t}),w=p.g,A=p.e;return C({at:u,e:a(Ke,ku,A),g:w.a,b5:f,a:t},E(g([w.b,a(We,un,a(Ke,Ho,A)),a(Ao,{at:u,b5:f,a:t},d)])))}),Ot=ze,bd=function(e){return e.W},au=function(e){return e.W},md=v(function(){return Pr}),wa=function(e){var t=e.g;switch(t.$){case 0:var u=t.a;return a(Ke,sn(a(j,kr,qe)),a(cn,u,a(va,e.b5,a(ne,0,e.a))));case 1:var o=t.a;return u=t.b,a(Ke,sn(a(j,$r,qe)),a(cn,u,a(ba,e.b5,a(ne,o,e.a))));case 2:return u=t.a,a(Ke,sn(a(j,Or,qe)),a(cn,u,a(ya,e.b5,a(ne,0,e.a))));case 3:return u=t.a,a(Ke,sn(a(j,Er,qe)),a(cn,u,a(ga,e.b5,a(ne,0,e.a))));case 4:return u=t.a,a(Ke,sn(a(j,xr,qe)),a(cn,u,a(ma,e.b5,a(ne,0,e.a))));default:return Z}},Fc=v(function(){return function(e){return{$:3,a:e}}({bH:Z,bY:Ko,b0:xt})}),Lc=R(function(e,t,u){return t.$===1||u.$===1?Z:te(a(e,t.a,u.a))}),Uc=v(function(e,t){return C(e,t)}),zc=function(e){return T(c,cc,D,e)},yd=v(function(e,t){var u,o=t;return zc(g([(u=o.V,u.$?D:g([(0,u.a)(e)])),function(){var f=o.U;if(f.$)return D;var d=f.a;return fe(e.P.bH,e._.bH)?D:g([d({P:e.P.bH,_:e._.bH})])}(),a(Iu,function(f){var d=f.a,p=f.b,w=a(zt,d,e._.b0),A=a(zt,d,e.P.b0);return fe(A,w)?Z:te(p({P:A,_:w}))},Vn(o.G))]))}),Jc=R(function(e,t,u){var o,f=function(w){var A=w.P,q=w._;return a(Wi,function(B){return!B.$},g([T(Lc,Uc,A,q),T(Lc,Uc,q,A)]))}({P:wa(e),_:wa(t)}),d=a(ne,0,t.a),p=C(wa(t),t.e);return p.a.$||p.b.$?un:(o=a(s,Du,a(s,Te,a(yd,u,T(Za,p.a.a,t.b5,d)))),f?E(a(s,a(j,n,m(Te)),o)):un)}),uu=v(function(e,t){var u,o=t;return zc(g([(u=o.V,u.$?D:g([(0,u.a)(e)])),function(){var f=o.U;if(f.$)return D;var d=f.a;return fe(e.P.bH,e._.bH)?D:g([d({P:e.P.bH,_:e._.bH})])}(),a(Iu,function(f){var d=f.a,p=f.b,w=a(zt,d,e._.b0),A=a(zt,d,e.P.b0);return fe(A,w)?Z:te(p({P:A,_:w}))},Vn(o.G))]))}),gd=v(function(e,t){var u=function(f){return E(a(s,a(j,n,m(Te)),f))},o=e.g;switch(o.$){case 0:return u(a(s,qe,a(s,kr,a(uu,t,a(va,e.b5,a(ne,0,e.a))))));case 1:return u(a(s,qe,a(s,$r,a(uu,t,a(ba,e.b5,a(ne,o.a,e.a))))));case 2:return u(a(s,qe,a(s,Or,a(uu,t,a(ya,e.b5,a(ne,0,e.a))))));case 3:return u(a(s,qe,a(s,Er,a(uu,t,a(ga,e.b5,a(ne,0,e.a))))));case 4:return u(a(s,qe,a(s,xr,a(uu,t,a(ma,e.b5,a(ne,0,e.a))))));default:return un}}),wd=v(function(e,t){return e.$===1?t:t+":"+yt(e.a)}),Vc=R(function(e,t,u){return t.$===1?u:Ie(u,Ie(e,t.a))}),_d={$:0},kd=v(function(e,t){return a(tt,e,t)}),$d=v(function(e,t){return Y(e,{bg:t})}),xd=R(function(e,t,u){switch(t.$){case 0:return C(u,je);case 1:return C(Y(u,{aP:a($d,u.aP,t.a.$?2:1)}),je);case 3:return C(Y(u,{ar:t.a}),je);default:return C(u,a(kd,function(){return _d},t.a))}}),Od=function(e){return e.ad},Ed=v(function(e,t){var u=a(ne,0,t.a),o={a:wa(t),b:t.e,c:e};if(o.a.$||o.b.$)return C(t.e,un);var f=o.a.a,d=o.b.a,p=o.c;return T(Jt,function(w){return te(Y(d,{T:w}))},a(j,xe(Te),Uo(t)),T(Od,T(Za,f,t.b5,u),p,d.T))}),iu=function(e){return e.ad},Pd=v(function(e,t){var u=C(e,t.g);e:for(;;)switch(u.a.$){case 0:if(u.b.$)break e;var o=u.a.a,f=u.b.a;return T(Jt,Bo,a(j,xe(kr),on(t)),T(iu,a(va,t.b5,a(ne,0,t.a)),o,f));case 1:if(u.b.$===1){o=u.a.a;var d=u.b,p=d.a;return f=d.b,T(Jt,Mo(p),a(j,xe($r),on(t)),T(iu,a(ba,t.b5,a(ne,p,t.a)),o,f))}break e;case 2:if(u.b.$===2)return o=u.a.a,f=u.b.a,T(Jt,Fo,a(j,xe(Or),on(t)),T(iu,a(ya,t.b5,a(ne,0,t.a)),o,f));break e;case 3:if(u.b.$===3)return o=u.a.a,f=u.b.a,T(Jt,Lo,a(j,xe(Er),on(t)),T(iu,a(ga,t.b5,a(ne,0,t.a)),o,f));break e;default:if(u.b.$===4)return o=u.a.a,f=u.b.a,T(Jt,No,a(j,xe(xr),on(t)),T(iu,a(ma,t.b5,a(ne,0,t.a)),o,f));break e}return C(t.g,un)}),jd=v(function(e,t){switch(e.$){case 0:return e.a.$?Ge(Do(u=e.a.a))?C(t,un):C(t,_o(u)):C(t,a(ko,t.at,function(he){return T(Vc,"#",he.bD,T(Vc,"?",he.b0,Ie(a(wd,he.bZ,Ie(he.b_?"https://":"http://",he.bJ)),he.bY)))}(u=e.a.a)));case 1:var u;if(fe(Tu(u=e.a),Tu(t.a)))return C(o=Y(t,{a:u}),E(g([a(gd,o,{P:a(ne,0,t.a),_:a(ne,0,o.a)}),T(Jc,t,o,{P:a(ne,0,t.a),_:a(ne,0,o.a)})])));var o,f=Nc({at:t.at,e:t.e,b5:t.b5,a:u}),d=f.g,p=f.e,w=function(){if(p.$)return C(Z,un);var he=p.a,Ae=he.b;return C(te(he.a),Ae)}(),A=w.b,q=d.b;return C(o=Y(t,{e:w.a,g:d.a,a:u}),E(g([q,A,T(Jc,t,o,{P:a(ne,0,t.a),_:a(ne,0,o.a)})])));case 2:var B=a(Pd,e.a,t);return q=B.b,C(Y(t,{g:B.a}),q);case 3:var N=a(Ed,e.a,t);return A=N.b,C(Y(t,{e:N.a}),A);case 4:var W=e.a,G=T(xd,a(ne,0,t.a),W,t.b5),re=G.a,de=G.b;return C(a(Fc,t.b5,a(ne,0,t.a)),a(Fc,re,a(ne,0,t.a))),C(Y(t,{b5:re}),a(Ao,Y(t,{b5:re}),de));default:var oe=e.a;return C(t,E(a(s,a(j,n,m(Te)),oe)))}}),Sd=function(e){return e.ae},Wt=v(function(e,t){return{aJ:a(s,da(e),t.aJ),bj:t.bj}}),Ad={aJ:D,bj:""},ou=function(e){return e.ae},Kd=v(function(){return Kc("Loading...")}),Gc=function(e){var t=e.g;switch(t.$){case 0:var u=t.a;return a(Wt,qe,a(Wt,kr,a(ou,a(va,e.b5,a(ne,0,e.a)),u)));case 1:return u=t.b,a(Wt,qe,a(Wt,$r,a(ou,a(ba,e.b5,a(ne,t.a,e.a)),u)));case 2:return u=t.a,a(Wt,qe,a(Wt,Or,a(ou,a(ya,e.b5,a(ne,0,e.a)),u)));case 3:return u=t.a,a(Wt,qe,a(Wt,Er,a(ou,a(ga,e.b5,a(ne,0,e.a)),u)));case 4:return u=t.a,a(Wt,qe,a(Wt,xr,a(ou,a(ma,e.b5,a(ne,0,e.a)),u)));case 5:return Ad;default:return a(Wt,xn,a(Kd,e.b5,a(ne,0,e.a)))}},Cd=function(e){var t=e.bV,u=e.bW,o=function(){o.a(t(ot()))};return pi({aC:function(f){return o.a=f,ir.addEventListener("popstate",o),0>ir.navigator.userAgent.indexOf("Trident")||ir.addEventListener("hashchange",o),v(function(d,p){if(!(p.ctrlKey||p.metaKey||p.shiftKey||p.button>=1||d.target||d.hasAttribute("download"))){p.preventDefault();var w=d.href,A=ot(),q=Tt(w).a;f(u(q&&A.b_===q.b_&&A.bJ===q.bJ&&A.bZ.a===q.bZ.a?function(B){return{$:0,a:B}}(q):function(B){return{$:1,a:B}}(w)))}})},R:function(f){return T(e.R,f,ot(),o)},ae:e.ae,ad:e.ad,W:e.W})}({R:vd,bV:function(e){return{$:1,a:e}},bW:function(e){return{$:0,a:e}},W:function(e){var t=function(){var d=e.g;switch(d.$){case 0:var p=d.a;return a(Ot,qe,a(Ot,kr,a(au,a(va,e.b5,a(ne,0,e.a)),p)));case 1:return p=d.b,a(Ot,qe,a(Ot,$r,a(au,a(ba,e.b5,a(ne,d.a,e.a)),p)));case 2:return p=d.a,a(Ot,qe,a(Ot,Or,a(au,a(ya,e.b5,a(ne,0,e.a)),p)));case 3:return p=d.a,a(Ot,qe,a(Ot,Er,a(au,a(ga,e.b5,a(ne,0,e.a)),p)));case 4:return p=d.a,a(Ot,qe,a(Ot,xr,a(au,a(ma,e.b5,a(ne,0,e.a)),p)));default:return Pr}}(),u=a(ne,0,e.a),o=wa(e),f=function(){var d=C(o,e.e);if(d.a.$||d.b.$)return Pr;var p=d.b.a;return a(Ot,Du,a(Ot,Te,a(bd,T(Za,d.a.a,e.b5,u),p.T)))}();return zo(g([a(Ot,K,a(md,u,e.b5)),t,f]))},ad:jd,ae:function(e){var t,u=function(o){var f=a(ne,0,o.a),d=C(wa(o),o.e);if(d.a.$||d.b.$)return Gc(o);var p=d.b.a;return a(Sd,T(Za,d.a.a,o.b5,f),{n:Gc(o),bQ:p.T,cd:a(j,Te,Du)})}(e);return{aJ:(a(ne,0,e.a),e.b5,t=u).aJ,bj:t.bj}}});Si={Main:{init:Cd(Ei)(0)}},ye.Elm?function e(t,u){for(var o in u)o in t?o=="init"?pt(6):e(t[o],u[o]):t[o]=u[o]}(ye.Elm,Si):ye.Elm=Si}(this),(ye=>{const ke=["Main"];let v=[...ke],R=ye;for(;v.length>0;){let ce=v.shift();R=R[ce]}return R.__elmModulePath=ke,R})(this.Elm)}}.run();var Hc={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};let ao=async({Interop:be})=>{let ye=Object.keys(Hc).reduce((v,R)=>(R.startsWith("ELM_LAND_")&&(v[R.slice(9)]=Hc[R]),v),{}),ke;if(be.flags&&(ke=await be.flags({env:ye})),ro&&ro.init){let v=ro.init({flags:ke});be.onReady&&be.onReady({app:v,env:ye})}};const Wd=async()=>{try{await ao({Interop:Object.assign({"../../src/interop.ts":Gd})["../../src/interop.ts"]})}catch{try{await ao({Interop:Object.assign({})["../../src/interop.js"]})}catch{await ao({Interop:{}})}}};Wd();

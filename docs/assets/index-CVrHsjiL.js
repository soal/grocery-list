(function(){const Se=document.createElement("link").relList;if(Se&&Se.supports&&Se.supports("modulepreload"))return;for(const N of document.querySelectorAll('link[rel="modulepreload"]'))v(N);new MutationObserver(N=>{for(const oe of N)if(oe.type==="childList")for(const we of oe.addedNodes)we.tagName==="LINK"&&we.rel==="modulepreload"&&v(we)}).observe(document,{childList:!0,subtree:!0});function ke(N){const oe={};return N.integrity&&(oe.integrity=N.integrity),N.referrerPolicy&&(oe.referrerPolicy=N.referrerPolicy),N.crossOrigin==="use-credentials"?oe.credentials="include":N.crossOrigin==="anonymous"?oe.credentials="omit":oe.credentials="same-origin",oe}function v(N){if(N.ep)return;N.ep=!0;const oe=ke(N);fetch(N.href,oe)}})();var Xa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bd(de){return de&&de.__esModule&&Object.prototype.hasOwnProperty.call(de,"default")?de.default:de}var Rc={exports:{}};(function(de,Se){(function(ke,v){de.exports=v()})(Xa,function(){var ke=function(n,r){return(ke=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(a[f]=c[f])})(n,r)},v=function(){return(v=Object.assign||function(n){for(var r,a=1,c=arguments.length;a<c;a++)for(var f in r=arguments[a])Object.prototype.hasOwnProperty.call(r,f)&&(n[f]=r[f]);return n}).apply(this,arguments)};function N(n,r,a){for(var c,f=0,l=r.length;f<l;f++)!c&&f in r||((c=c||Array.prototype.slice.call(r,0,f))[f]=r[f]);return n.concat(c||Array.prototype.slice.call(r))}var oe=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Xa,we=Object.keys,$e=Array.isArray;function u(n,r){return typeof r!="object"||we(r).forEach(function(a){n[a]=r[a]}),n}typeof Promise>"u"||oe.Promise||(oe.Promise=Promise);var D=Object.getPrototypeOf,Ge={}.hasOwnProperty;function Z(n,r){return Ge.call(n,r)}function Et(n,r){typeof r=="function"&&(r=r(D(n))),(typeof Reflect>"u"?we:Reflect.ownKeys)(r).forEach(function(a){ie(n,a,r[a])})}var se=Object.defineProperty;function ie(n,r,a,c){se(n,r,u(a&&Z(a,"get")&&typeof a.get=="function"?{get:a.get,set:a.set,configurable:!0}:{value:a,configurable:!0,writable:!0},c))}function pe(n){return{from:function(r){return n.prototype=Object.create(r.prototype),ie(n.prototype,"constructor",n),{extend:Et.bind(null,n.prototype)}}}}var dt=Object.getOwnPropertyDescriptor,A=[].slice;function J(n,r,a){return A.call(n,r,a)}function qe(n,r){return r(n)}function q(n){if(!n)throw new Error("Assertion Failed")}function Re(n){oe.setImmediate?setImmediate(n):setTimeout(n,0)}function Le(n,r){if(typeof r=="string"&&Z(n,r))return n[r];if(!r)return n;if(typeof r!="string"){for(var a=[],c=0,f=r.length;c<f;++c){var l=Le(n,r[c]);a.push(l)}return a}var h=r.indexOf(".");if(h!==-1){var b=n[r.substr(0,h)];return b==null?void 0:Le(b,r.substr(h+1))}}function w(n,r,a){if(n&&r!==void 0&&!("isFrozen"in Object&&Object.isFrozen(n)))if(typeof r!="string"&&"length"in r){q(typeof a!="string"&&"length"in a);for(var c=0,f=r.length;c<f;++c)w(n,r[c],a[c])}else{var l,h,b=r.indexOf(".");b!==-1?(l=r.substr(0,b),(h=r.substr(b+1))===""?a===void 0?$e(n)&&!isNaN(parseInt(l))?n.splice(l,1):delete n[l]:n[l]=a:w(b=!(b=n[l])||!Z(n,l)?n[l]={}:b,h,a)):a===void 0?$e(n)&&!isNaN(parseInt(r))?n.splice(r,1):delete n[r]:n[r]=a}}function qt(n){var r,a={};for(r in n)Z(n,r)&&(a[r]=n[r]);return a}var ot=[].concat;function pn(n){return ot.apply([],n)}var yn="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(pn([8,16,32,64].map(function(n){return["Int","Uint","Float"].map(function(r){return r+n+"Array"})}))).filter(function(n){return oe[n]}),Zn=new Set(yn.map(function(n){return oe[n]})),er=null;function kt(n){return er=new WeakMap,n=function r(a){if(!a||typeof a!="object")return a;var c=er.get(a);if(c)return c;if($e(a)){c=[],er.set(a,c);for(var f=0,l=a.length;f<l;++f)c.push(r(a[f]))}else if(Zn.has(a.constructor))c=a;else{var h,b=D(a);for(h in c=b===Object.prototype?{}:Object.create(b),er.set(a,c),a)Z(a,h)&&(c[h]=r(a[h]))}return c}(n),er=null,n}var Qi={}.toString;function yu(n){return Qi.call(n).slice(8,-1)}var Sr=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Xi=typeof Sr=="symbol"?function(n){var r;return n!=null&&(r=n[Sr])&&r.apply(n)}:function(){return null};function vn(n,r){return r=n.indexOf(r),0<=r&&n.splice(r,1),0<=r}var In={};function Rt(n){var r,a,c,f;if(arguments.length===1){if($e(n))return n.slice();if(this===In&&typeof n=="string")return[n];if(f=Xi(n)){for(a=[];!(c=f.next()).done;)a.push(c.value);return a}if(n==null)return[n];if(typeof(r=n.length)!="number")return[n];for(a=new Array(r);r--;)a[r]=n[r];return a}for(r=arguments.length,a=new Array(r);r--;)a[r]=arguments[r];return a}var mu=typeof Symbol<"u"?function(n){return n[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},zt=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],vt=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(zt),Zi={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function qn(n,r){this.name=n,this.message=r}function Xu(n,r){return n+". Errors: "+Object.keys(r).map(function(a){return r[a].toString()}).filter(function(a,c,f){return f.indexOf(a)===c}).join(`
`)}function tr(n,r,a,c){this.failures=r,this.failedKeys=c,this.successCount=a,this.message=Xu(n,r)}function jt(n,r){this.name="BulkError",this.failures=Object.keys(r).map(function(a){return r[a]}),this.failuresByPos=r,this.message=Xu(n,this.failures)}pe(qn).from(Error).extend({toString:function(){return this.name+": "+this.message}}),pe(tr).from(qn),pe(jt).from(qn);var gu=vt.reduce(function(n,r){return n[r]=r+"Error",n},{}),ea=qn,ee=vt.reduce(function(n,r){var a=r+"Error";function c(f,l){this.name=a,f?typeof f=="string"?(this.message="".concat(f).concat(l?`
 `+l:""),this.inner=l||null):typeof f=="object"&&(this.message="".concat(f.name," ").concat(f.message),this.inner=f):(this.message=Zi[r]||a,this.inner=null)}return pe(c).from(ea),n[r]=c,n},{});ee.Syntax=SyntaxError,ee.Type=TypeError,ee.Range=RangeError;var Zu=zt.reduce(function(n,r){return n[r+"Error"]=ee[r],n},{}),Kr=vt.reduce(function(n,r){return["Syntax","Type","Range"].indexOf(r)===-1&&(n[r+"Error"]=ee[r]),n},{});function xe(){}function St(n){return n}function ta(n,r){return n==null||n===St?r:function(a){return r(n(a))}}function bn(n,r){return function(){n.apply(this,arguments),r.apply(this,arguments)}}function na(n,r){return n===xe?r:function(){var a=n.apply(this,arguments);a!==void 0&&(arguments[0]=a);var c=this.onsuccess,f=this.onerror;this.onsuccess=null,this.onerror=null;var l=r.apply(this,arguments);return c&&(this.onsuccess=this.onsuccess?bn(c,this.onsuccess):c),f&&(this.onerror=this.onerror?bn(f,this.onerror):f),l!==void 0?l:a}}function ra(n,r){return n===xe?r:function(){n.apply(this,arguments);var a=this.onsuccess,c=this.onerror;this.onsuccess=this.onerror=null,r.apply(this,arguments),a&&(this.onsuccess=this.onsuccess?bn(a,this.onsuccess):a),c&&(this.onerror=this.onerror?bn(c,this.onerror):c)}}function ua(n,r){return n===xe?r:function(a){var c=n.apply(this,arguments);u(a,c);var f=this.onsuccess,l=this.onerror;return this.onsuccess=null,this.onerror=null,a=r.apply(this,arguments),f&&(this.onsuccess=this.onsuccess?bn(f,this.onsuccess):f),l&&(this.onerror=this.onerror?bn(l,this.onerror):l),c===void 0?a===void 0?void 0:a:u(c,a)}}function ia(n,r){return n===xe?r:function(){return r.apply(this,arguments)!==!1&&n.apply(this,arguments)}}function wu(n,r){return n===xe?r:function(){var a=n.apply(this,arguments);if(a&&typeof a.then=="function"){for(var c=this,f=arguments.length,l=new Array(f);f--;)l[f]=arguments[f];return a.then(function(){return r.apply(c,l)})}return r.apply(this,arguments)}}Kr.ModifyError=tr,Kr.DexieError=qn,Kr.BulkError=jt;var Kt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function _u(n){Kt=n}var it={},ku=100,yn=typeof Promise>"u"?[]:function(){var n=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[n,D(n),n];var r=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[r,D(r),n]}(),zt=yn[0],vt=yn[1],yn=yn[2],vt=vt&&vt.then,ze=zt&&zt.constructor,Wt=!!yn,Rn=function(n,r){nr.push([n,r]),mn&&(queueMicrotask(rr),mn=!1)},$u=!0,mn=!0,Gt=[],$t=[],Ar=St,Fe={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:xe,pgp:!1,env:{},finalize:xe},Q=Fe,nr=[],gn=0,wn=[];function V(n){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var r=this._PSD=Q;if(typeof n!="function"){if(n!==it)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Tr(this,this._value))}this._state=null,this._value=null,++r.ref,function a(c,f){try{f(function(l){if(c._state===null){if(l===c)throw new TypeError("A promise cannot be resolved with itself.");var h=c._lib&&Nn();l&&typeof l.then=="function"?a(c,function(b,_){l instanceof V?l._then(b,_):l.then(b,_)}):(c._state=!0,c._value=l,Dr(c)),h&&Mn()}},Tr.bind(null,c))}catch(l){Tr(c,l)}}(this,n)}var xu={get:function(){var n=Q,r=Ir;function a(c,f){var l=this,h=!n.global&&(n!==Q||r!==Ir),b=h&&!At(),_=new V(function(m,E){Ou(l,new Cr(ni(c,n,h,b),ni(f,n,h,b),m,E,n))});return this._consoleTask&&(_._consoleTask=this._consoleTask),_}return a.prototype=it,a},set:function(n){ie(this,"then",n&&n.prototype===it?xu:{get:function(){return n},set:xu.set})}};function Cr(n,r,a,c,f){this.onFulfilled=typeof n=="function"?n:null,this.onRejected=typeof r=="function"?r:null,this.resolve=a,this.reject=c,this.psd=f}function Tr(n,r){var a,c;$t.push(r),n._state===null&&(a=n._lib&&Nn(),r=Ar(r),n._state=!1,n._value=r,c=n,Gt.some(function(f){return f._value===c._value})||Gt.push(c),Dr(n),a&&Mn())}function Dr(n){var r=n._listeners;n._listeners=[];for(var a=0,c=r.length;a<c;++a)Ou(n,r[a]);var f=n._PSD;--f.ref||f.finalize(),gn===0&&(++gn,Rn(function(){--gn==0&&Pu()},[]))}function Ou(n,r){if(n._state!==null){var a=n._state?r.onFulfilled:r.onRejected;if(a===null)return(n._state?r.resolve:r.reject)(n._value);++r.psd.ref,++gn,Rn(aa,[a,n,r])}else n._listeners.push(r)}function aa(n,r,a){try{var c,f=r._value;!r._state&&$t.length&&($t=[]),c=Kt&&r._consoleTask?r._consoleTask.run(function(){return n(f)}):n(f),r._state||$t.indexOf(f)!==-1||function(l){for(var h=Gt.length;h;)if(Gt[--h]._value===l._value)return Gt.splice(h,1)}(r),a.resolve(c)}catch(l){a.reject(l)}finally{--gn==0&&Pu(),--a.psd.ref||a.psd.finalize()}}function rr(){Xt(Fe,function(){Nn()&&Mn()})}function Nn(){var n=$u;return mn=$u=!1,n}function Mn(){var n,r,a;do for(;0<nr.length;)for(n=nr,nr=[],a=n.length,r=0;r<a;++r){var c=n[r];c[0].apply(null,c[1])}while(0<nr.length);mn=$u=!0}function Pu(){var n=Gt;Gt=[],n.forEach(function(c){c._PSD.onunhandled.call(null,c._value,c)});for(var r=wn.slice(0),a=r.length;a;)r[--a]()}function _n(n){return new V(it,!1,n)}function Ee(n,r){var a=Q;return function(){var c=Nn(),f=Q;try{return Qt(a,!0),n.apply(this,arguments)}catch(l){r&&r(l)}finally{Qt(f,!1),c&&Mn()}}}Et(V.prototype,{then:xu,_then:function(n,r){Ou(this,new Cr(null,null,n,r,Q))},catch:function(n){if(arguments.length===1)return this.then(null,n);var r=n,a=arguments[1];return typeof r=="function"?this.then(null,function(c){return(c instanceof r?a:_n)(c)}):this.then(null,function(c){return(c&&c.name===r?a:_n)(c)})},finally:function(n){return this.then(function(r){return V.resolve(n()).then(function(){return r})},function(r){return V.resolve(n()).then(function(){return _n(r)})})},timeout:function(n,r){var a=this;return n<1/0?new V(function(c,f){var l=setTimeout(function(){return f(new ee.Timeout(r))},n);a.then(c,f).finally(clearTimeout.bind(null,l))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&ie(V.prototype,Symbol.toStringTag,"Dexie.Promise"),Fe.env=ti(),Et(V,{all:function(){var n=Rt.apply(null,arguments).map(ur);return new V(function(r,a){n.length===0&&r([]);var c=n.length;n.forEach(function(f,l){return V.resolve(f).then(function(h){n[l]=h,--c||r(n)},a)})})},resolve:function(n){return n instanceof V?n:n&&typeof n.then=="function"?new V(function(r,a){n.then(r,a)}):new V(it,!0,n)},reject:_n,race:function(){var n=Rt.apply(null,arguments).map(ur);return new V(function(r,a){n.map(function(c){return V.resolve(c).then(r,a)})})},PSD:{get:function(){return Q},set:function(n){return Q=n}},totalEchoes:{get:function(){return Ir}},newPSD:Xe,usePSD:Xt,scheduler:{get:function(){return Rn},set:function(n){Rn=n}},rejectionMapper:{get:function(){return Ar},set:function(n){Ar=n}},follow:function(n,r){return new V(function(a,c){return Xe(function(f,l){var h=Q;h.unhandleds=[],h.onunhandled=l,h.finalize=bn(function(){var b,_=this;b=function(){_.unhandleds.length===0?f():l(_.unhandleds[0])},wn.push(function m(){b(),wn.splice(wn.indexOf(m),1)}),++gn,Rn(function(){--gn==0&&Pu()},[])},h.finalize),n()},r,a,c)})}}),ze&&(ze.allSettled&&ie(V,"allSettled",function(){var n=Rt.apply(null,arguments).map(ur);return new V(function(r){n.length===0&&r([]);var a=n.length,c=new Array(a);n.forEach(function(f,l){return V.resolve(f).then(function(h){return c[l]={status:"fulfilled",value:h}},function(h){return c[l]={status:"rejected",reason:h}}).then(function(){return--a||r(c)})})})}),ze.any&&typeof AggregateError<"u"&&ie(V,"any",function(){var n=Rt.apply(null,arguments).map(ur);return new V(function(r,a){n.length===0&&a(new AggregateError([]));var c=n.length,f=new Array(c);n.forEach(function(l,h){return V.resolve(l).then(function(b){return r(b)},function(b){f[h]=b,--c||a(new AggregateError(f))})})})}),ze.withResolvers&&(V.withResolvers=ze.withResolvers));var Ue={awaits:0,echoes:0,id:0},ei=0,Bn=[],Fn=0,Ir=0,qr=0;function Xe(n,r,a,c){var f=Q,l=Object.create(f);return l.parent=f,l.ref=0,l.global=!1,l.id=++qr,Fe.env,l.env=Wt?{Promise:V,PromiseProp:{value:V,configurable:!0,writable:!0},all:V.all,race:V.race,allSettled:V.allSettled,any:V.any,resolve:V.resolve,reject:V.reject}:{},r&&u(l,r),++f.ref,l.finalize=function(){--this.parent.ref||this.parent.finalize()},c=Xt(l,n,a,c),l.ref===0&&l.finalize(),c}function Jt(){return Ue.id||(Ue.id=++ei),++Ue.awaits,Ue.echoes+=ku,Ue.id}function At(){return!!Ue.awaits&&(--Ue.awaits==0&&(Ue.id=0),Ue.echoes=Ue.awaits*ku,!0)}function ur(n){return Ue.echoes&&n&&n.constructor===ze?(Jt(),n.then(function(r){return At(),r},function(r){return At(),De(r)})):n}function Ne(){var n=Bn[Bn.length-1];Bn.pop(),Qt(n,!1)}function Qt(n,r){var a,c=Q;(r?!Ue.echoes||Fn++&&n===Q:!Fn||--Fn&&n===Q)||queueMicrotask(r?(function(f){++Ir,Ue.echoes&&--Ue.echoes!=0||(Ue.echoes=Ue.awaits=Ue.id=0),Bn.push(Q),Qt(f,!0)}).bind(null,n):Ne),n!==Q&&(Q=n,c===Fe&&(Fe.env=ti()),Wt&&(a=Fe.env.Promise,r=n.env,(c.global||n.global)&&(Object.defineProperty(oe,"Promise",r.PromiseProp),a.all=r.all,a.race=r.race,a.resolve=r.resolve,a.reject=r.reject,r.allSettled&&(a.allSettled=r.allSettled),r.any&&(a.any=r.any))))}function ti(){var n=oe.Promise;return Wt?{Promise:n,PromiseProp:Object.getOwnPropertyDescriptor(oe,"Promise"),all:n.all,race:n.race,allSettled:n.allSettled,any:n.any,resolve:n.resolve,reject:n.reject}:{}}function Xt(n,r,a,c,f){var l=Q;try{return Qt(n,!0),r(a,c,f)}finally{Qt(l,!1)}}function ni(n,r,a,c){return typeof n!="function"?n:function(){var f=Q;a&&Jt(),Qt(r,!0);try{return n.apply(this,arguments)}finally{Qt(f,!1),c&&queueMicrotask(At)}}}function Eu(n){Promise===ze&&Ue.echoes===0?Fn===0?n():enqueueNativeMicroTask(n):setTimeout(n,0)}(""+vt).indexOf("[native code]")===-1&&(Jt=At=xe);var De=V.reject,Me="ï¿¿",Nt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",ri="String expected.",Ln=[],Un="__dbnames",Rr="readonly",Nr="readwrite";function Zt(n,r){return n?r?function(){return n.apply(this,arguments)&&r.apply(this,arguments)}:n:r}var en={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Yn(n){return typeof n!="string"||/\./.test(n)?function(r){return r}:function(r){return r[n]===void 0&&n in r&&delete(r=kt(r))[n],r}}function ui(){throw ee.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function ve(n,r){try{var a=ii(n),c=ii(r);if(a!==c)return a==="Array"?1:c==="Array"?-1:a==="binary"?1:c==="binary"?-1:a==="string"?1:c==="string"?-1:a==="Date"?1:c!=="Date"?NaN:-1;switch(a){case"number":case"Date":case"string":return r<n?1:n<r?-1:0;case"binary":return function(f,l){for(var h=f.length,b=l.length,_=h<b?h:b,m=0;m<_;++m)if(f[m]!==l[m])return f[m]<l[m]?-1:1;return h===b?0:h<b?-1:1}(ai(n),ai(r));case"Array":return function(f,l){for(var h=f.length,b=l.length,_=h<b?h:b,m=0;m<_;++m){var E=ve(f[m],l[m]);if(E!==0)return E}return h===b?0:h<b?-1:1}(n,r)}}catch{}return NaN}function ii(n){var r=typeof n;return r!="object"?r:ArrayBuffer.isView(n)?"binary":(n=yu(n),n==="ArrayBuffer"?"binary":n)}function ai(n){return n instanceof Uint8Array?n:ArrayBuffer.isView(n)?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):new Uint8Array(n)}function Mr(n,r,a){var c=n.schema.yProps;return c?(r&&0<a.numFailures&&(r=r.filter(function(f,l){return!a.failures[l]})),Promise.all(c.map(function(f){return f=f.updatesTable,r?n.db.table(f).where("k").anyOf(r).delete():n.db.table(f).clear()})).then(function(){return a})):a}var ir=(Ze.prototype.execute=function(n){var r=this["@@propmod"];if(r.add!==void 0){var a=r.add;if($e(a))return N(N([],$e(n)?n:[],!0),a).sort();if(typeof a=="number")return(Number(n)||0)+a;if(typeof a=="bigint")try{return BigInt(n)+a}catch{return BigInt(0)+a}throw new TypeError("Invalid term ".concat(a))}if(r.remove!==void 0){var c=r.remove;if($e(c))return $e(n)?n.filter(function(f){return!c.includes(f)}).sort():[];if(typeof c=="number")return Number(n)-c;if(typeof c=="bigint")try{return BigInt(n)-c}catch{return BigInt(0)-c}throw new TypeError("Invalid subtrahend ".concat(c))}return a=(a=r.replacePrefix)===null||a===void 0?void 0:a[0],a&&typeof n=="string"&&n.startsWith(a)?r.replacePrefix[1]+n.substring(a.length):n},Ze);function Ze(n){this["@@propmod"]=n}function mt(n,r){for(var a=we(r),c=a.length,f=!1,l=0;l<c;++l){var h=a[l],b=r[h],_=Le(n,h);b instanceof ir?(w(n,h,b.execute(_)),f=!0):_!==b&&(w(n,h,b),f=!0)}return f}var ju=(Oe.prototype._trans=function(n,r,a){var c=this._tx||Q.trans,f=this.name,l=Kt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(n==="readonly"?"read":"write"," ").concat(this.name));function h(m,E,y){if(!y.schema[f])throw new ee.NotFound("Table "+f+" not part of transaction");return r(y.idbtrans,y)}var b=Nn();try{var _=c&&c.db._novip===this.db._novip?c===Q.trans?c._promise(n,h,a):Xe(function(){return c._promise(n,h,a)},{trans:c,transless:Q.transless||Q}):function m(E,y,x,g){if(E.idbdb&&(E._state.openComplete||Q.letThrough||E._vip)){var P=E._createTransaction(y,x,E._dbSchema);try{P.create(),E._state.PR1398_maxLoop=3}catch(O){return O.name===gu.InvalidState&&E.isOpen()&&0<--E._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),E.close({disableAutoOpen:!1}),E.open().then(function(){return m(E,y,x,g)})):De(O)}return P._promise(y,function(O,j){return Xe(function(){return Q.trans=P,g(O,j,P)})}).then(function(O){if(y==="readwrite")try{P.idbtrans.commit()}catch{}return y==="readonly"?O:P._completion.then(function(){return O})})}if(E._state.openComplete)return De(new ee.DatabaseClosed(E._state.dbOpenError));if(!E._state.isBeingOpened){if(!E._state.autoOpen)return De(new ee.DatabaseClosed);E.open().catch(xe)}return E._state.dbReadyPromise.then(function(){return m(E,y,x,g)})}(this.db,n,[this.name],h);return l&&(_._consoleTask=l,_=_.catch(function(m){return console.trace(m),De(m)})),_}finally{b&&Mn()}},Oe.prototype.get=function(n,r){var a=this;return n&&n.constructor===Object?this.where(n).first(r):n==null?De(new ee.Type("Invalid argument to Table.get()")):this._trans("readonly",function(c){return a.core.get({trans:c,key:n}).then(function(f){return a.hook.reading.fire(f)})}).then(r)},Oe.prototype.where=function(n){if(typeof n=="string")return new this.db.WhereClause(this,n);if($e(n))return new this.db.WhereClause(this,"[".concat(n.join("+"),"]"));var r=we(n);if(r.length===1)return this.where(r[0]).equals(n[r[0]]);var a=this.schema.indexes.concat(this.schema.primKey).filter(function(b){if(b.compound&&r.every(function(m){return 0<=b.keyPath.indexOf(m)})){for(var _=0;_<r.length;++_)if(r.indexOf(b.keyPath[_])===-1)return!1;return!0}return!1}).sort(function(b,_){return b.keyPath.length-_.keyPath.length})[0];if(a&&this.db._maxKey!==Me){var l=a.keyPath.slice(0,r.length);return this.where(l).equals(l.map(function(_){return n[_]}))}!a&&Kt&&console.warn("The query ".concat(JSON.stringify(n)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(r.join("+"),"]"));var c=this.schema.idxByName;function f(b,_){return ve(b,_)===0}var h=r.reduce(function(y,_){var m=y[0],E=y[1],y=c[_],x=n[_];return[m||y,m||!y?Zt(E,y&&y.multi?function(g){return g=Le(g,_),$e(g)&&g.some(function(P){return f(x,P)})}:function(g){return f(x,Le(g,_))}):E]},[null,null]),l=h[0],h=h[1];return l?this.where(l.name).equals(n[l.keyPath]).filter(h):a?this.filter(h):this.where(r).equals("")},Oe.prototype.filter=function(n){return this.toCollection().and(n)},Oe.prototype.count=function(n){return this.toCollection().count(n)},Oe.prototype.offset=function(n){return this.toCollection().offset(n)},Oe.prototype.limit=function(n){return this.toCollection().limit(n)},Oe.prototype.each=function(n){return this.toCollection().each(n)},Oe.prototype.toArray=function(n){return this.toCollection().toArray(n)},Oe.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Oe.prototype.orderBy=function(n){return new this.db.Collection(new this.db.WhereClause(this,$e(n)?"[".concat(n.join("+"),"]"):n))},Oe.prototype.reverse=function(){return this.toCollection().reverse()},Oe.prototype.mapToClass=function(n){var r,a=this.db,c=this.name;function f(){return r!==null&&r.apply(this,arguments)||this}(this.schema.mappedClass=n).prototype instanceof ui&&(function(_,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function E(){this.constructor=_}ke(_,m),_.prototype=m===null?Object.create(m):(E.prototype=m.prototype,new E)}(f,r=n),Object.defineProperty(f.prototype,"db",{get:function(){return a},enumerable:!1,configurable:!0}),f.prototype.table=function(){return c},n=f);for(var l=new Set,h=n.prototype;h;h=D(h))Object.getOwnPropertyNames(h).forEach(function(_){return l.add(_)});function b(_){if(!_)return _;var m,E=Object.create(n.prototype);for(m in _)if(!l.has(m))try{E[m]=_[m]}catch{}return E}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=b,this.hook("reading",b),n},Oe.prototype.defineClass=function(){return this.mapToClass(function(n){u(this,n)})},Oe.prototype.add=function(n,r){var a=this,c=this.schema.primKey,f=c.auto,l=c.keyPath,h=n;return l&&f&&(h=Yn(l)(n)),this._trans("readwrite",function(b){return a.core.mutate({trans:b,type:"add",keys:r!=null?[r]:null,values:[h]})}).then(function(b){return b.numFailures?V.reject(b.failures[0]):b.lastResult}).then(function(b){if(l)try{w(n,l,b)}catch{}return b})},Oe.prototype.upsert=function(n,r){var a=this,c=this.schema.primKey.keyPath;return this._trans("readwrite",function(f){return a.core.get({trans:f,key:n}).then(function(l){var h=l??{};return mt(h,r),c&&w(h,c,n),a.core.mutate({trans:f,type:"put",values:[h],keys:[n],upsert:!0,updates:{keys:[n],changeSpecs:[r]}}).then(function(b){return b.numFailures?V.reject(b.failures[0]):!!l})})})},Oe.prototype.update=function(n,r){return typeof n!="object"||$e(n)?this.where(":id").equals(n).modify(r):(n=Le(n,this.schema.primKey.keyPath),n===void 0?De(new ee.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(n).modify(r))},Oe.prototype.put=function(n,r){var a=this,c=this.schema.primKey,f=c.auto,l=c.keyPath,h=n;return l&&f&&(h=Yn(l)(n)),this._trans("readwrite",function(b){return a.core.mutate({trans:b,type:"put",values:[h],keys:r!=null?[r]:null})}).then(function(b){return b.numFailures?V.reject(b.failures[0]):b.lastResult}).then(function(b){if(l)try{w(n,l,b)}catch{}return b})},Oe.prototype.delete=function(n){var r=this;return this._trans("readwrite",function(a){return r.core.mutate({trans:a,type:"delete",keys:[n]}).then(function(c){return Mr(r,[n],c)}).then(function(c){return c.numFailures?V.reject(c.failures[0]):void 0})})},Oe.prototype.clear=function(){var n=this;return this._trans("readwrite",function(r){return n.core.mutate({trans:r,type:"deleteRange",range:en}).then(function(a){return Mr(n,null,a)})}).then(function(r){return r.numFailures?V.reject(r.failures[0]):void 0})},Oe.prototype.bulkGet=function(n){var r=this;return this._trans("readonly",function(a){return r.core.getMany({keys:n,trans:a}).then(function(c){return c.map(function(f){return r.hook.reading.fire(f)})})})},Oe.prototype.bulkAdd=function(n,r,a){var c=this,f=Array.isArray(r)?r:void 0,l=(a=a||(f?void 0:r))?a.allKeys:void 0;return this._trans("readwrite",function(h){var m=c.schema.primKey,b=m.auto,m=m.keyPath;if(m&&f)throw new ee.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(f&&f.length!==n.length)throw new ee.InvalidArgument("Arguments objects and keys must have the same length");var _=n.length,m=m&&b?n.map(Yn(m)):n;return c.core.mutate({trans:h,type:"add",keys:f,values:m,wantResults:l}).then(function(P){var y=P.numFailures,x=P.results,g=P.lastResult,P=P.failures;if(y===0)return l?x:g;throw new jt("".concat(c.name,".bulkAdd(): ").concat(y," of ").concat(_," operations failed"),P)})})},Oe.prototype.bulkPut=function(n,r,a){var c=this,f=Array.isArray(r)?r:void 0,l=(a=a||(f?void 0:r))?a.allKeys:void 0;return this._trans("readwrite",function(h){var m=c.schema.primKey,b=m.auto,m=m.keyPath;if(m&&f)throw new ee.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(f&&f.length!==n.length)throw new ee.InvalidArgument("Arguments objects and keys must have the same length");var _=n.length,m=m&&b?n.map(Yn(m)):n;return c.core.mutate({trans:h,type:"put",keys:f,values:m,wantResults:l}).then(function(P){var y=P.numFailures,x=P.results,g=P.lastResult,P=P.failures;if(y===0)return l?x:g;throw new jt("".concat(c.name,".bulkPut(): ").concat(y," of ").concat(_," operations failed"),P)})})},Oe.prototype.bulkUpdate=function(n){var r=this,a=this.core,c=n.map(function(h){return h.key}),f=n.map(function(h){return h.changes}),l=[];return this._trans("readwrite",function(h){return a.getMany({trans:h,keys:c,cache:"clone"}).then(function(b){var _=[],m=[];n.forEach(function(y,x){var g=y.key,P=y.changes,O=b[x];if(O){for(var j=0,$=Object.keys(P);j<$.length;j++){var K=$[j],T=P[K];if(K===r.schema.primKey.keyPath){if(ve(T,g)!==0)throw new ee.Constraint("Cannot update primary key in bulkUpdate()")}else w(O,K,T)}l.push(x),_.push(g),m.push(O)}});var E=_.length;return a.mutate({trans:h,type:"put",keys:_,values:m,updates:{keys:c,changeSpecs:f}}).then(function(y){var x=y.numFailures,g=y.failures;if(x===0)return E;for(var P=0,O=Object.keys(g);P<O.length;P++){var j,$=O[P],K=l[Number($)];K!=null&&(j=g[$],delete g[$],g[K]=j)}throw new jt("".concat(r.name,".bulkUpdate(): ").concat(x," of ").concat(E," operations failed"),g)})})})},Oe.prototype.bulkDelete=function(n){var r=this,a=n.length;return this._trans("readwrite",function(c){return r.core.mutate({trans:c,type:"delete",keys:n}).then(function(f){return Mr(r,n,f)})}).then(function(h){var f=h.numFailures,l=h.lastResult,h=h.failures;if(f===0)return l;throw new jt("".concat(r.name,".bulkDelete(): ").concat(f," of ").concat(a," operations failed"),h)})},Oe);function Oe(){}function ar(n){function r(h,b){if(b){for(var _=arguments.length,m=new Array(_-1);--_;)m[_-1]=arguments[_];return a[h].subscribe.apply(null,m),n}if(typeof h=="string")return a[h]}var a={};r.addEventType=l;for(var c=1,f=arguments.length;c<f;++c)l(arguments[c]);return r;function l(h,b,_){if(typeof h!="object"){var m;b=b||ia;var E={subscribers:[],fire:_=_||xe,subscribe:function(y){E.subscribers.indexOf(y)===-1&&(E.subscribers.push(y),E.fire=b(E.fire,y))},unsubscribe:function(y){E.subscribers=E.subscribers.filter(function(x){return x!==y}),E.fire=E.subscribers.reduce(b,_)}};return a[h]=r[h]=E}we(m=h).forEach(function(y){var x=m[y];if($e(x))l(y,m[y][0],m[y][1]);else{if(x!=="asap")throw new ee.InvalidArgument("Invalid event config");var g=l(y,St,function(){for(var P=arguments.length,O=new Array(P);P--;)O[P]=arguments[P];g.subscribers.forEach(function(j){Re(function(){j.apply(null,O)})})})}})}}function or(n,r){return pe(r).from({prototype:n}),r}function kn(n,r){return!(n.filter||n.algorithm||n.or)&&(r?n.justLimit:!n.replayFilter)}function $n(n,r){n.filter=Zt(n.filter,r)}function xn(n,r,a){var c=n.replayFilter;n.replayFilter=c?function(){return Zt(c(),r())}:r,n.justLimit=a&&!c}function cr(n,r){if(n.isPrimKey)return r.primaryKey;var a=r.getIndexByKeyPath(n.index);if(!a)throw new ee.Schema("KeyPath "+n.index+" on object store "+r.name+" is not indexed");return a}function Hn(n,r,a){var c=cr(n,r.schema);return r.openCursor({trans:a,values:!n.keysOnly,reverse:n.dir==="prev",unique:!!n.unique,query:{index:c,range:n.range}})}function On(n,r,a,c){var f=n.replayFilter?Zt(n.filter,n.replayFilter()):n.filter;if(n.or){var l={},h=function(b,_,m){var E,y;f&&!f(_,m,function(x){return _.stop(x)},function(x){return _.fail(x)})||((y=""+(E=_.primaryKey))=="[object ArrayBuffer]"&&(y=""+new Uint8Array(E)),Z(l,y)||(l[y]=!0,r(b,_,m)))};return Promise.all([n.or._iterate(h,a),oi(Hn(n,c,a),n.algorithm,h,!n.keysOnly&&n.valueMapper)])}return oi(Hn(n,c,a),Zt(n.algorithm,f),r,!n.keysOnly&&n.valueMapper)}function oi(n,r,a,c){var f=Ee(c?function(l,h,b){return a(c(l),h,b)}:a);return n.then(function(l){if(l)return l.start(function(){var h=function(){return l.continue()};r&&!r(l,function(b){return h=b},function(b){l.stop(b),h=xe},function(b){l.fail(b),h=xe})||f(l.value,l,function(b){return h=b}),h()})})}var ci=(me.prototype._read=function(n,r){var a=this._ctx;return a.error?a.table._trans(null,De.bind(null,a.error)):a.table._trans("readonly",n).then(r)},me.prototype._write=function(n){var r=this._ctx;return r.error?r.table._trans(null,De.bind(null,r.error)):r.table._trans("readwrite",n,"locked")},me.prototype._addAlgorithm=function(n){var r=this._ctx;r.algorithm=Zt(r.algorithm,n)},me.prototype._iterate=function(n,r){return On(this._ctx,n,r,this._ctx.table.core)},me.prototype.clone=function(n){var r=Object.create(this.constructor.prototype),a=Object.create(this._ctx);return n&&u(a,n),r._ctx=a,r},me.prototype.raw=function(){return this._ctx.valueMapper=null,this},me.prototype.each=function(n){var r=this._ctx;return this._read(function(a){return On(r,n,a,r.table.core)})},me.prototype.count=function(n){var r=this;return this._read(function(a){var c=r._ctx,f=c.table.core;if(kn(c,!0))return f.count({trans:a,query:{index:cr(c,f.schema),range:c.range}}).then(function(h){return Math.min(h,c.limit)});var l=0;return On(c,function(){return++l,!1},a,f).then(function(){return l})}).then(n)},me.prototype.sortBy=function(n,r){var a=n.split(".").reverse(),c=a[0],f=a.length-1;function l(_,m){return m?l(_[a[m]],m-1):_[c]}var h=this._ctx.dir==="next"?1:-1;function b(_,m){return ve(l(_,f),l(m,f))*h}return this.toArray(function(_){return _.sort(b)}).then(r)},me.prototype.toArray=function(n){var r=this;return this._read(function(a){var c=r._ctx;if(c.dir==="next"&&kn(c,!0)&&0<c.limit){var f=c.valueMapper,l=cr(c,c.table.core.schema);return c.table.core.query({trans:a,limit:c.limit,values:!0,query:{index:l,range:c.range}}).then(function(b){return b=b.result,f?b.map(f):b})}var h=[];return On(c,function(b){return h.push(b)},a,c.table.core).then(function(){return h})},n)},me.prototype.offset=function(n){var r=this._ctx;return n<=0||(r.offset+=n,kn(r)?xn(r,function(){var a=n;return function(c,f){return a===0||(a===1?--a:f(function(){c.advance(a),a=0}),!1)}}):xn(r,function(){var a=n;return function(){return--a<0}})),this},me.prototype.limit=function(n){return this._ctx.limit=Math.min(this._ctx.limit,n),xn(this._ctx,function(){var r=n;return function(a,c,f){return--r<=0&&c(f),0<=r}},!0),this},me.prototype.until=function(n,r){return $n(this._ctx,function(a,c,f){return!n(a.value)||(c(f),r)}),this},me.prototype.first=function(n){return this.limit(1).toArray(function(r){return r[0]}).then(n)},me.prototype.last=function(n){return this.reverse().first(n)},me.prototype.filter=function(n){var r;return $n(this._ctx,function(a){return n(a.value)}),(r=this._ctx).isMatch=Zt(r.isMatch,n),this},me.prototype.and=function(n){return this.filter(n)},me.prototype.or=function(n){return new this.db.WhereClause(this._ctx.table,n,this)},me.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},me.prototype.desc=function(){return this.reverse()},me.prototype.eachKey=function(n){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(a,c){n(c.key,c)})},me.prototype.eachUniqueKey=function(n){return this._ctx.unique="unique",this.eachKey(n)},me.prototype.eachPrimaryKey=function(n){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(a,c){n(c.primaryKey,c)})},me.prototype.keys=function(n){var r=this._ctx;r.keysOnly=!r.isMatch;var a=[];return this.each(function(c,f){a.push(f.key)}).then(function(){return a}).then(n)},me.prototype.primaryKeys=function(n){var r=this._ctx;if(r.dir==="next"&&kn(r,!0)&&0<r.limit)return this._read(function(c){var f=cr(r,r.table.core.schema);return r.table.core.query({trans:c,values:!1,limit:r.limit,query:{index:f,range:r.range}})}).then(function(c){return c.result}).then(n);r.keysOnly=!r.isMatch;var a=[];return this.each(function(c,f){a.push(f.primaryKey)}).then(function(){return a}).then(n)},me.prototype.uniqueKeys=function(n){return this._ctx.unique="unique",this.keys(n)},me.prototype.firstKey=function(n){return this.limit(1).keys(function(r){return r[0]}).then(n)},me.prototype.lastKey=function(n){return this.reverse().firstKey(n)},me.prototype.distinct=function(){var n=this._ctx,n=n.index&&n.table.schema.idxByName[n.index];if(!n||!n.multi)return this;var r={};return $n(this._ctx,function(f){var c=f.primaryKey.toString(),f=Z(r,c);return r[c]=!0,!f}),this},me.prototype.modify=function(n){var r=this,a=this._ctx;return this._write(function(c){var f=typeof n=="function"?n:function(O){return mt(O,n)},l=a.table.core,m=l.schema.primaryKey,h=m.outbound,b=m.extractKey,_=200,m=r.db._options.modifyChunkSize;m&&(_=typeof m=="object"?m[l.name]||m["*"]||200:m);function E(O,K){var $=K.failures,K=K.numFailures;x+=O-K;for(var T=0,I=we($);T<I.length;T++){var B=I[T];y.push($[B])}}var y=[],x=0,g=[],P=n===Br;return r.clone().primaryKeys().then(function(O){function j(K){var T=Math.min(_,O.length-K),I=O.slice(K,K+T);return(P?Promise.resolve([]):l.getMany({trans:c,keys:I,cache:"immutable"})).then(function(B){var Y=[],M=[],F=h?[]:null,H=P?I:[];if(!P)for(var L=0;L<T;++L){var W=B[L],ae={value:kt(W),primKey:O[K+L]};f.call(ae,ae.value,ae)!==!1&&(ae.value==null?H.push(O[K+L]):h||ve(b(W),b(ae.value))===0?(M.push(ae.value),h&&F.push(O[K+L])):(H.push(O[K+L]),Y.push(ae.value)))}return Promise.resolve(0<Y.length&&l.mutate({trans:c,type:"add",values:Y}).then(function(ce){for(var fe in ce.failures)H.splice(parseInt(fe),1);E(Y.length,ce)})).then(function(){return(0<M.length||$&&typeof n=="object")&&l.mutate({trans:c,type:"put",keys:F,values:M,criteria:$,changeSpec:typeof n!="function"&&n,isAdditionalChunk:0<K}).then(function(ce){return E(M.length,ce)})}).then(function(){return(0<H.length||$&&P)&&l.mutate({trans:c,type:"delete",keys:H,criteria:$,isAdditionalChunk:0<K}).then(function(ce){return Mr(a.table,H,ce)}).then(function(ce){return E(H.length,ce)})}).then(function(){return O.length>K+T&&j(K+_)})})}var $=kn(a)&&a.limit===1/0&&(typeof n!="function"||P)&&{index:a.index,range:a.range};return j(0).then(function(){if(0<y.length)throw new tr("Error modifying one or more objects",y,x,g);return O.length})})})},me.prototype.delete=function(){var n=this._ctx,r=n.range;return!kn(n)||n.table.schema.yProps||!n.isPrimKey&&r.type!==3?this.modify(Br):this._write(function(a){var c=n.table.core.schema.primaryKey,f=r;return n.table.core.count({trans:a,query:{index:c,range:f}}).then(function(l){return n.table.core.mutate({trans:a,type:"deleteRange",range:f}).then(function(_){var b=_.failures,_=_.numFailures;if(_)throw new tr("Could not delete some values",Object.keys(b).map(function(m){return b[m]}),l-_);return l-_})})})},me);function me(){}var Br=function(n,r){return r.value=null};function Su(n,r){return n<r?-1:n===r?0:1}function oa(n,r){return r<n?-1:n===r?0:1}function ht(n,r,a){return n=n instanceof fi?new n.Collection(n):n,n._ctx.error=new(a||TypeError)(r),n}function Vn(n){return new n.Collection(n,function(){return si("")}).limit(0)}function Pn(n,r,a,c){var f,l,h,b,_,m,E,y=a.length;if(!a.every(function(P){return typeof P=="string"}))return ht(n,ri);function x(P){f=P==="next"?function(j){return j.toUpperCase()}:function(j){return j.toLowerCase()},l=P==="next"?function(j){return j.toLowerCase()}:function(j){return j.toUpperCase()},h=P==="next"?Su:oa;var O=a.map(function(j){return{lower:l(j),upper:f(j)}}).sort(function(j,$){return h(j.lower,$.lower)});b=O.map(function(j){return j.upper}),_=O.map(function(j){return j.lower}),E=(m=P)==="next"?"":c}x("next"),n=new n.Collection(n,function(){return tn(b[0],_[y-1]+c)}),n._ondirectionchange=function(P){x(P)};var g=0;return n._addAlgorithm(function(P,O,j){var $=P.key;if(typeof $!="string")return!1;var K=l($);if(r(K,_,g))return!0;for(var T=null,I=g;I<y;++I){var B=function(Y,M,F,H,L,W){for(var ae=Math.min(Y.length,H.length),ce=-1,fe=0;fe<ae;++fe){var st=M[fe];if(st!==H[fe])return L(Y[fe],F[fe])<0?Y.substr(0,fe)+F[fe]+F.substr(fe+1):L(Y[fe],H[fe])<0?Y.substr(0,fe)+H[fe]+F.substr(fe+1):0<=ce?Y.substr(0,ce)+M[ce]+F.substr(ce+1):null;L(Y[fe],st)<0&&(ce=fe)}return ae<H.length&&W==="next"?Y+F.substr(Y.length):ae<Y.length&&W==="prev"?Y.substr(0,F.length):ce<0?null:Y.substr(0,ce)+H[ce]+F.substr(ce+1)}($,K,b[I],_[I],h,m);B===null&&T===null?g=I+1:(T===null||0<h(T,B))&&(T=B)}return O(T!==null?function(){P.continue(T+E)}:j),!1}),n}function tn(n,r,a,c){return{type:2,lower:n,upper:r,lowerOpen:a,upperOpen:c}}function si(n){return{type:1,lower:n,upper:n}}var fi=(Object.defineProperty(Ye.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Ye.prototype.between=function(n,r,a,c){a=a!==!1,c=c===!0;try{return 0<this._cmp(n,r)||this._cmp(n,r)===0&&(a||c)&&(!a||!c)?Vn(this):new this.Collection(this,function(){return tn(n,r,!a,!c)})}catch{return ht(this,Nt)}},Ye.prototype.equals=function(n){return n==null?ht(this,Nt):new this.Collection(this,function(){return si(n)})},Ye.prototype.above=function(n){return n==null?ht(this,Nt):new this.Collection(this,function(){return tn(n,void 0,!0)})},Ye.prototype.aboveOrEqual=function(n){return n==null?ht(this,Nt):new this.Collection(this,function(){return tn(n,void 0,!1)})},Ye.prototype.below=function(n){return n==null?ht(this,Nt):new this.Collection(this,function(){return tn(void 0,n,!1,!0)})},Ye.prototype.belowOrEqual=function(n){return n==null?ht(this,Nt):new this.Collection(this,function(){return tn(void 0,n)})},Ye.prototype.startsWith=function(n){return typeof n!="string"?ht(this,ri):this.between(n,n+Me,!0,!0)},Ye.prototype.startsWithIgnoreCase=function(n){return n===""?this.startsWith(n):Pn(this,function(r,a){return r.indexOf(a[0])===0},[n],Me)},Ye.prototype.equalsIgnoreCase=function(n){return Pn(this,function(r,a){return r===a[0]},[n],"")},Ye.prototype.anyOfIgnoreCase=function(){var n=Rt.apply(In,arguments);return n.length===0?Vn(this):Pn(this,function(r,a){return a.indexOf(r)!==-1},n,"")},Ye.prototype.startsWithAnyOfIgnoreCase=function(){var n=Rt.apply(In,arguments);return n.length===0?Vn(this):Pn(this,function(r,a){return a.some(function(c){return r.indexOf(c)===0})},n,Me)},Ye.prototype.anyOf=function(){var n=this,r=Rt.apply(In,arguments),a=this._cmp;try{r.sort(a)}catch{return ht(this,Nt)}if(r.length===0)return Vn(this);var c=new this.Collection(this,function(){return tn(r[0],r[r.length-1])});c._ondirectionchange=function(l){a=l==="next"?n._ascending:n._descending,r.sort(a)};var f=0;return c._addAlgorithm(function(l,h,b){for(var _=l.key;0<a(_,r[f]);)if(++f===r.length)return h(b),!1;return a(_,r[f])===0||(h(function(){l.continue(r[f])}),!1)}),c},Ye.prototype.notEqual=function(n){return this.inAnyRange([[-1/0,n],[n,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Ye.prototype.noneOf=function(){var n=Rt.apply(In,arguments);if(n.length===0)return new this.Collection(this);try{n.sort(this._ascending)}catch{return ht(this,Nt)}var r=n.reduce(function(a,c){return a?a.concat([[a[a.length-1][1],c]]):[[-1/0,c]]},null);return r.push([n[n.length-1],this.db._maxKey]),this.inAnyRange(r,{includeLowers:!1,includeUppers:!1})},Ye.prototype.inAnyRange=function($,r){var a=this,c=this._cmp,f=this._ascending,l=this._descending,h=this._min,b=this._max;if($.length===0)return Vn(this);if(!$.every(function(K){return K[0]!==void 0&&K[1]!==void 0&&f(K[0],K[1])<=0}))return ht(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ee.InvalidArgument);var _=!r||r.includeLowers!==!1,m=r&&r.includeUppers===!0,E,y=f;function x(K,T){return y(K[0],T[0])}try{(E=$.reduce(function(K,T){for(var I=0,B=K.length;I<B;++I){var Y=K[I];if(c(T[0],Y[1])<0&&0<c(T[1],Y[0])){Y[0]=h(Y[0],T[0]),Y[1]=b(Y[1],T[1]);break}}return I===B&&K.push(T),K},[])).sort(x)}catch{return ht(this,Nt)}var g=0,P=m?function(K){return 0<f(K,E[g][1])}:function(K){return 0<=f(K,E[g][1])},O=_?function(K){return 0<l(K,E[g][0])}:function(K){return 0<=l(K,E[g][0])},j=P,$=new this.Collection(this,function(){return tn(E[0][0],E[E.length-1][1],!_,!m)});return $._ondirectionchange=function(K){y=K==="next"?(j=P,f):(j=O,l),E.sort(x)},$._addAlgorithm(function(K,T,I){for(var B,Y=K.key;j(Y);)if(++g===E.length)return T(I),!1;return!P(B=Y)&&!O(B)||(a._cmp(Y,E[g][1])===0||a._cmp(Y,E[g][0])===0||T(function(){y===f?K.continue(E[g][0]):K.continue(E[g][1])}),!1)}),$},Ye.prototype.startsWithAnyOf=function(){var n=Rt.apply(In,arguments);return n.every(function(r){return typeof r=="string"})?n.length===0?Vn(this):this.inAnyRange(n.map(function(r){return[r,r+Me]})):ht(this,"startsWithAnyOf() only works with strings")},Ye);function Ye(){}function Ct(n){return Ee(function(r){return sr(r),n(r.target.error),!1})}function sr(n){n.stopPropagation&&n.stopPropagation(),n.preventDefault&&n.preventDefault()}var nn="storagemutated",Ku="x-storagemutated-1",Mt=ar(null,nn),ca=(Tt.prototype._lock=function(){return q(!Q.global),++this._reculock,this._reculock!==1||Q.global||(Q.lockOwnerFor=this),this},Tt.prototype._unlock=function(){if(q(!Q.global),--this._reculock==0)for(Q.global||(Q.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var n=this._blockedFuncs.shift();try{Xt(n[1],n[0])}catch{}}return this},Tt.prototype._locked=function(){return this._reculock&&Q.lockOwnerFor!==this},Tt.prototype.create=function(n){var r=this;if(!this.mode)return this;var a=this.db.idbdb,c=this.db._state.dbOpenError;if(q(!this.idbtrans),!n&&!a)switch(c&&c.name){case"DatabaseClosedError":throw new ee.DatabaseClosed(c);case"MissingAPIError":throw new ee.MissingAPI(c.message,c);default:throw new ee.OpenFailed(c)}if(!this.active)throw new ee.TransactionInactive;return q(this._completion._state===null),(n=this.idbtrans=n||(this.db.core||a).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Ee(function(f){sr(f),r._reject(n.error)}),n.onabort=Ee(function(f){sr(f),r.active&&r._reject(new ee.Abort(n.error)),r.active=!1,r.on("abort").fire(f)}),n.oncomplete=Ee(function(){r.active=!1,r._resolve(),"mutatedParts"in n&&Mt.storagemutated.fire(n.mutatedParts)}),this},Tt.prototype._promise=function(n,r,a){var c=this;if(n==="readwrite"&&this.mode!=="readwrite")return De(new ee.ReadOnly("Transaction is readonly"));if(!this.active)return De(new ee.TransactionInactive);if(this._locked())return new V(function(l,h){c._blockedFuncs.push([function(){c._promise(n,r,a).then(l,h)},Q])});if(a)return Xe(function(){var l=new V(function(h,b){c._lock();var _=r(h,b,c);_&&_.then&&_.then(h,b)});return l.finally(function(){return c._unlock()}),l._lib=!0,l});var f=new V(function(l,h){var b=r(l,h,c);b&&b.then&&b.then(l,h)});return f._lib=!0,f},Tt.prototype._root=function(){return this.parent?this.parent._root():this},Tt.prototype.waitFor=function(n){var r,a=this._root(),c=V.resolve(n);a._waitingFor?a._waitingFor=a._waitingFor.then(function(){return c}):(a._waitingFor=c,a._waitingQueue=[],r=a.idbtrans.objectStore(a.storeNames[0]),function l(){for(++a._spinCount;a._waitingQueue.length;)a._waitingQueue.shift()();a._waitingFor&&(r.get(-1/0).onsuccess=l)}());var f=a._waitingFor;return new V(function(l,h){c.then(function(b){return a._waitingQueue.push(Ee(l.bind(null,b)))},function(b){return a._waitingQueue.push(Ee(h.bind(null,b)))}).finally(function(){a._waitingFor===f&&(a._waitingFor=null)})})},Tt.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ee.Abort))},Tt.prototype.table=function(n){var r=this._memoizedTables||(this._memoizedTables={});if(Z(r,n))return r[n];var a=this.schema[n];if(!a)throw new ee.NotFound("Table "+n+" not part of transaction");return a=new this.db.Table(n,a,this),a.core=this.db.core.table(n),r[n]=a},Tt);function Tt(){}function Au(n,r,a,c,f,l,h,b){return{name:n,keyPath:r,unique:a,multi:c,auto:f,compound:l,src:(a&&!h?"&":"")+(c?"*":"")+(f?"++":"")+Je(r),type:b}}function Je(n){return typeof n=="string"?n:n?"["+[].join.call(n,"+")+"]":""}function zn(n,r,a){return{name:n,primKey:r,indexes:a,mappedClass:null,idxByName:(c=function(f){return[f.name,f]},a.reduce(function(f,l,h){return h=c(l,h),h&&(f[h[0]]=h[1]),f},{}))};var c}var Bt=function(n){try{return n.only([[]]),Bt=function(){return[[]]},[[]]}catch{return Bt=function(){return Me},Me}};function Cu(n){return n==null?function(){}:typeof n=="string"?(r=n).split(".").length===1?function(a){return a[r]}:function(a){return Le(a,r)}:function(a){return Le(a,n)};var r}function et(n){return[].slice.call(n)}var Tu=0;function Wn(n){return n==null?":id":typeof n=="string"?n:"[".concat(n.join("+"),"]")}function li(n,r,_){function c(j){if(j.type===3)return null;if(j.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var g=j.lower,P=j.upper,O=j.lowerOpen,j=j.upperOpen;return g===void 0?P===void 0?null:r.upperBound(P,!!j):P===void 0?r.lowerBound(g,!!O):r.bound(g,P,!!O,!!j)}function f(x){var g,P=x.name;return{name:P,schema:x,mutate:function(O){var j=O.trans,$=O.type,K=O.keys,T=O.values,I=O.range;return new Promise(function(B,Y){B=Ee(B);var M=j.objectStore(P),F=M.keyPath==null,H=$==="put"||$==="add";if(!H&&$!=="delete"&&$!=="deleteRange")throw new Error("Invalid operation type: "+$);var L,W=(K||T||{length:1}).length;if(K&&T&&K.length!==T.length)throw new Error("Given keys array must have same length as given values array.");if(W===0)return B({numFailures:0,failures:{},results:[],lastResult:void 0});function ae(We){++st,sr(We)}var ce=[],fe=[],st=0;if($==="deleteRange"){if(I.type===4)return B({numFailures:st,failures:fe,results:[],lastResult:void 0});I.type===3?ce.push(L=M.clear()):ce.push(L=M.delete(c(I)))}else{var F=H?F?[T,K]:[T,null]:[K,null],ue=F[0],nt=F[1];if(H)for(var _e=0;_e<W;++_e)ce.push(L=nt&&nt[_e]!==void 0?M[$](ue[_e],nt[_e]):M[$](ue[_e])),L.onerror=ae;else for(_e=0;_e<W;++_e)ce.push(L=M[$](ue[_e])),L.onerror=ae}function Qr(We){We=We.target.result,ce.forEach(function(Sn,bt){return Sn.error!=null&&(fe[bt]=Sn.error)}),B({numFailures:st,failures:fe,results:$==="delete"?K:ce.map(function(Sn){return Sn.result}),lastResult:We})}L.onerror=function(We){ae(We),Qr(We)},L.onsuccess=Qr})},getMany:function(O){var j=O.trans,$=O.keys;return new Promise(function(K,T){K=Ee(K);for(var I,B=j.objectStore(P),Y=$.length,M=new Array(Y),F=0,H=0,L=function(ce){ce=ce.target,M[ce._pos]=ce.result,++H===F&&K(M)},W=Ct(T),ae=0;ae<Y;++ae)$[ae]!=null&&((I=B.get($[ae]))._pos=ae,I.onsuccess=L,I.onerror=W,++F);F===0&&K(M)})},get:function(O){var j=O.trans,$=O.key;return new Promise(function(K,T){K=Ee(K);var I=j.objectStore(P).get($);I.onsuccess=function(B){return K(B.target.result)},I.onerror=Ct(T)})},query:(g=m,function(O){return new Promise(function(j,$){j=Ee(j);var K,T,I,F=O.trans,B=O.values,Y=O.limit,L=O.query,M=Y===1/0?void 0:Y,H=L.index,L=L.range,F=F.objectStore(P),H=H.isPrimaryKey?F:F.index(H.name),L=c(L);if(Y===0)return j({result:[]});g?((M=B?H.getAll(L,M):H.getAllKeys(L,M)).onsuccess=function(W){return j({result:W.target.result})},M.onerror=Ct($)):(K=0,T=!B&&"openKeyCursor"in H?H.openKeyCursor(L):H.openCursor(L),I=[],T.onsuccess=function(W){var ae=T.result;return ae?(I.push(B?ae.value:ae.primaryKey),++K===Y?j({result:I}):void ae.continue()):j({result:I})},T.onerror=Ct($))})}),openCursor:function(O){var j=O.trans,$=O.values,K=O.query,T=O.reverse,I=O.unique;return new Promise(function(B,Y){B=Ee(B);var H=K.index,M=K.range,F=j.objectStore(P),F=H.isPrimaryKey?F:F.index(H.name),H=T?I?"prevunique":"prev":I?"nextunique":"next",L=!$&&"openKeyCursor"in F?F.openKeyCursor(c(M),H):F.openCursor(c(M),H);L.onerror=Ct(Y),L.onsuccess=Ee(function(W){var ae,ce,fe,st,ue=L.result;ue?(ue.___id=++Tu,ue.done=!1,ae=ue.continue.bind(ue),ce=(ce=ue.continuePrimaryKey)&&ce.bind(ue),fe=ue.advance.bind(ue),st=function(){throw new Error("Cursor not stopped")},ue.trans=j,ue.stop=ue.continue=ue.continuePrimaryKey=ue.advance=function(){throw new Error("Cursor not started")},ue.fail=Ee(Y),ue.next=function(){var nt=this,_e=1;return this.start(function(){return _e--?nt.continue():nt.stop()}).then(function(){return nt})},ue.start=function(nt){function _e(){if(L.result)try{nt()}catch(We){ue.fail(We)}else ue.done=!0,ue.start=function(){throw new Error("Cursor behind last entry")},ue.stop()}var Qr=new Promise(function(We,Sn){We=Ee(We),L.onerror=Ct(Sn),ue.fail=Sn,ue.stop=function(bt){ue.stop=ue.continue=ue.continuePrimaryKey=ue.advance=st,We(bt)}});return L.onsuccess=Ee(function(We){L.onsuccess=_e,_e()}),ue.continue=ae,ue.continuePrimaryKey=ce,ue.advance=fe,_e(),Qr},B(ue)):B(null)},Y)})},count:function(O){var j=O.query,$=O.trans,K=j.index,T=j.range;return new Promise(function(I,B){var Y=$.objectStore(P),M=K.isPrimaryKey?Y:Y.index(K.name),Y=c(T),M=Y?M.count(Y):M.count();M.onsuccess=Ee(function(F){return I(F.target.result)}),M.onerror=Ct(B)})}}}var l,h,b,E=(h=_,b=et((l=n).objectStoreNames),{schema:{name:l.name,tables:b.map(function(x){return h.objectStore(x)}).map(function(x){var g=x.keyPath,j=x.autoIncrement,P=$e(g),O={},j={name:x.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:g==null,compound:P,keyPath:g,autoIncrement:j,unique:!0,extractKey:Cu(g)},indexes:et(x.indexNames).map(function($){return x.index($)}).map(function(I){var K=I.name,T=I.unique,B=I.multiEntry,I=I.keyPath,B={name:K,compound:$e(I),keyPath:I,unique:T,multiEntry:B,extractKey:Cu(I)};return O[Wn(I)]=B}),getIndexByKeyPath:function($){return O[Wn($)]}};return O[":id"]=j.primaryKey,g!=null&&(O[Wn(g)]=j.primaryKey),j})},hasGetAll:0<b.length&&"getAll"in h.objectStore(b[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),_=E.schema,m=E.hasGetAll,E=_.tables.map(f),y={};return E.forEach(function(x){return y[x.name]=x}),{stack:"dbcore",transaction:n.transaction.bind(n),table:function(x){if(!y[x])throw new Error("Table '".concat(x,"' not found"));return y[x]},MIN_KEY:-1/0,MAX_KEY:Bt(r),schema:_}}function ct(n,r,a,c){var f=a.IDBKeyRange;return a.indexedDB,{dbcore:(c=li(r,f,c),n.dbcore.reduce(function(l,h){return h=h.create,v(v({},l),h(l))},c))}}function Fr(n,c){var a=c.db,c=ct(n._middlewares,a,n._deps,c);n.core=c.dbcore,n.tables.forEach(function(f){var l=f.name;n.core.schema.tables.some(function(h){return h.name===l})&&(f.core=n.core.table(l),n[l]instanceof n.Table&&(n[l].core=f.core))})}function ne(n,r,a,c){a.forEach(function(f){var l=c[f];r.forEach(function(h){var b=function _(m,E){return dt(m,E)||(m=D(m))&&_(m,E)}(h,f);(!b||"value"in b&&b.value===void 0)&&(h===n.Transaction.prototype||h instanceof n.Transaction?ie(h,f,{get:function(){return this.table(f)},set:function(_){se(this,f,{value:_,writable:!0,configurable:!0,enumerable:!0})}}):h[f]=new n.Table(f,l))})})}function X(n,r){r.forEach(function(a){for(var c in a)a[c]instanceof n.Table&&delete a[c]})}function sa(n,r){return n._cfg.version-r._cfg.version}function Du(n,r,a,c){var f=n._dbSchema;a.objectStoreNames.contains("$meta")&&!f.$meta&&(f.$meta=zn("$meta",di("")[0],[]),n._storeNames.push("$meta"));var l=n._createTransaction("readwrite",n._storeNames,f);l.create(a),l._completion.catch(c);var h=l._reject.bind(l),b=Q.transless||Q;Xe(function(){return Q.trans=l,Q.transless=b,r!==0?(Fr(n,a),m=r,((_=l).storeNames.includes("$meta")?_.table("$meta").get("version").then(function(E){return E??m}):V.resolve(m)).then(function(E){return x=E,g=l,P=a,O=[],E=(y=n)._versions,j=y._dbSchema=rn(0,y.idbdb,P),(E=E.filter(function($){return $._cfg.version>=x})).length!==0?(E.forEach(function($){O.push(function(){var K=j,T=$._cfg.dbschema;Lr(y,K,P),Lr(y,T,P),j=y._dbSchema=T;var I=pt(K,T);I.add.forEach(function(H){Gn(P,H[0],H[1].primKey,H[1].indexes)}),I.change.forEach(function(H){if(H.recreate)throw new ee.Upgrade("Not yet support for changing primary key");var L=P.objectStore(H.name);H.add.forEach(function(W){return Ft(L,W)}),H.change.forEach(function(W){L.deleteIndex(W.name),Ft(L,W)}),H.del.forEach(function(W){return L.deleteIndex(W)})});var B=$._cfg.contentUpgrade;if(B&&$._cfg.version>x){Fr(y,P),g._memoizedTables={};var Y=qt(T);I.del.forEach(function(H){Y[H]=K[H]}),X(y,[y.Transaction.prototype]),ne(y,[y.Transaction.prototype],we(Y),Y),g.schema=Y;var M,F=mu(B);return F&&Jt(),I=V.follow(function(){var H;(M=B(g))&&F&&(H=At.bind(null,null),M.then(H,H))}),M&&typeof M.then=="function"?V.resolve(M):I.then(function(){return M})}}),O.push(function(K){var T,I,B=$._cfg.dbschema;T=B,I=K,[].slice.call(I.db.objectStoreNames).forEach(function(Y){return T[Y]==null&&I.db.deleteObjectStore(Y)}),X(y,[y.Transaction.prototype]),ne(y,[y.Transaction.prototype],y._storeNames,y._dbSchema),g.schema=y._dbSchema}),O.push(function(K){y.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(y.idbdb.version/10)===$._cfg.version?(y.idbdb.deleteObjectStore("$meta"),delete y._dbSchema.$meta,y._storeNames=y._storeNames.filter(function(T){return T!=="$meta"})):K.objectStore("$meta").put($._cfg.version,"version"))})}),function $(){return O.length?V.resolve(O.shift()(g.idbtrans)).then($):V.resolve()}().then(function(){Iu(j,P)})):V.resolve();var y,x,g,P,O,j}).catch(h)):(we(f).forEach(function(E){Gn(a,E,f[E].primKey,f[E].indexes)}),Fr(n,a),void V.follow(function(){return n.on.populate.fire(l)}).catch(h));var _,m})}function Dt(n,r){Iu(n._dbSchema,r),r.db.version%10!=0||r.objectStoreNames.contains("$meta")||r.db.createObjectStore("$meta").add(Math.ceil(r.db.version/10-1),"version");var a=rn(0,n.idbdb,r);Lr(n,n._dbSchema,r);for(var c=0,f=pt(a,n._dbSchema).change;c<f.length;c++){var l=function(h){if(h.change.length||h.recreate)return console.warn("Unable to patch indexes of table ".concat(h.name," because it has changes on the type of index or primary key.")),{value:void 0};var b=r.objectStore(h.name);h.add.forEach(function(_){Kt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(h.name,".").concat(_.src)),Ft(b,_)})}(f[c]);if(typeof l=="object")return l.value}}function pt(n,r){var a,c={del:[],add:[],change:[]};for(a in n)r[a]||c.del.push(a);for(a in r){var f=n[a],l=r[a];if(f){var h={name:a,def:l,recreate:!1,del:[],add:[],change:[]};if(""+(f.primKey.keyPath||"")!=""+(l.primKey.keyPath||"")||f.primKey.auto!==l.primKey.auto)h.recreate=!0,c.change.push(h);else{var b=f.idxByName,_=l.idxByName,m=void 0;for(m in b)_[m]||h.del.push(m);for(m in _){var E=b[m],y=_[m];E?E.src!==y.src&&h.change.push(y):h.add.push(y)}(0<h.del.length||0<h.add.length||0<h.change.length)&&c.change.push(h)}}else c.add.push([a,l])}return c}function Gn(n,r,a,c){var f=n.db.createObjectStore(r,a.keyPath?{keyPath:a.keyPath,autoIncrement:a.auto}:{autoIncrement:a.auto});return c.forEach(function(l){return Ft(f,l)}),f}function Iu(n,r){we(n).forEach(function(a){r.db.objectStoreNames.contains(a)||(Kt&&console.debug("Dexie: Creating missing table",a),Gn(r,a,n[a].primKey,n[a].indexes))})}function Ft(n,r){n.createIndex(r.name,r.keyPath,{unique:r.unique,multiEntry:r.multi})}function rn(n,r,a){var c={};return J(r.objectStoreNames,0).forEach(function(f){for(var l=a.objectStore(f),h=Au(Je(m=l.keyPath),m||"",!0,!1,!!l.autoIncrement,m&&typeof m!="string",!0),b=[],_=0;_<l.indexNames.length;++_){var E=l.index(l.indexNames[_]),m=E.keyPath,E=Au(E.name,m,!!E.unique,!!E.multiEntry,!1,m&&typeof m!="string",!1);b.push(E)}c[f]=zn(f,h,b)}),c}function Lr(n,r,a){for(var c=a.db.objectStoreNames,f=0;f<c.length;++f){var l=c[f],h=a.objectStore(l);n._hasGetAll="getAll"in h;for(var b=0;b<h.indexNames.length;++b){var _=h.indexNames[b],m=h.index(_).keyPath,E=typeof m=="string"?m:"["+J(m).join("+")+"]";!r[l]||(m=r[l].idxByName[E])&&(m.name=_,delete r[l].idxByName[E],r[l].idxByName[_]=m)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&oe.WorkerGlobalScope&&oe instanceof oe.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(n._hasGetAll=!1)}function di(n){return n.split(",").map(function(r,a){var l=r.split(":"),c=(f=l[1])===null||f===void 0?void 0:f.trim(),f=(r=l[0].trim()).replace(/([&*]|\+\+)/g,""),l=/^\[/.test(f)?f.match(/^\[(.*)\]$/)[1].split("+"):f;return Au(f,l||null,/\&/.test(r),/\*/.test(r),/\+\+/.test(r),$e(l),a===0,c)})}var fa=(Jn.prototype._createTableSchema=zn,Jn.prototype._parseIndexSyntax=di,Jn.prototype._parseStoresSpec=function(n,r){var a=this;we(n).forEach(function(c){if(n[c]!==null){var f=a._parseIndexSyntax(n[c]),l=f.shift();if(!l)throw new ee.Schema("Invalid schema for table "+c+": "+n[c]);if(l.unique=!0,l.multi)throw new ee.Schema("Primary key cannot be multiEntry*");f.forEach(function(h){if(h.auto)throw new ee.Schema("Only primary key can be marked as autoIncrement (++)");if(!h.keyPath)throw new ee.Schema("Index must have a name and cannot be an empty string")}),f=a._createTableSchema(c,l,f),r[c]=f}})},Jn.prototype.stores=function(a){var r=this.db;this._cfg.storesSource=this._cfg.storesSource?u(this._cfg.storesSource,a):a;var a=r._versions,c={},f={};return a.forEach(function(l){u(c,l._cfg.storesSource),f=l._cfg.dbschema={},l._parseStoresSpec(c,f)}),r._dbSchema=f,X(r,[r._allTables,r,r.Transaction.prototype]),ne(r,[r._allTables,r,r.Transaction.prototype,this._cfg.tables],we(f),f),r._storeNames=we(f),this},Jn.prototype.upgrade=function(n){return this._cfg.contentUpgrade=wu(this._cfg.contentUpgrade||xe,n),this},Jn);function Jn(){}function fr(n,r){var a=n._dbNamesDB;return a||(a=n._dbNamesDB=new _t(Un,{addons:[],indexedDB:n,IDBKeyRange:r})).version(1).stores({dbnames:"name"}),a.table("dbnames")}function Ur(n){return n&&typeof n.databases=="function"}function Yr(n){return Xe(function(){return Q.letThrough=!0,n()})}function qu(n){return!("from"in n)}var tt=function(n,r){if(!this){var a=new tt;return n&&"d"in n&&u(a,n),a}u(this,arguments.length?{d:1,from:n,to:1<arguments.length?r:n}:{d:0})};function gt(n,r,a){var c=ve(r,a);if(!isNaN(c)){if(0<c)throw RangeError();if(qu(n))return u(n,{from:r,to:a,d:1});var f=n.l,c=n.r;if(ve(a,n.from)<0)return f?gt(f,r,a):n.l={from:r,to:a,d:1,l:null,r:null},pi(n);if(0<ve(r,n.to))return c?gt(c,r,a):n.r={from:r,to:a,d:1,l:null,r:null},pi(n);ve(r,n.from)<0&&(n.from=r,n.l=null,n.d=c?c.d+1:1),0<ve(a,n.to)&&(n.to=a,n.r=null,n.d=n.l?n.l.d+1:1),a=!n.r,f&&!n.l&&lr(n,f),c&&a&&lr(n,c)}}function lr(n,r){qu(r)||function a(c,_){var l=_.from,h=_.to,b=_.l,_=_.r;gt(c,l,h),b&&a(c,b),_&&a(c,_)}(n,r)}function hi(n,r){var a=Qn(r),c=a.next();if(c.done)return!1;for(var f=c.value,l=Qn(n),h=l.next(f.from),b=h.value;!c.done&&!h.done;){if(ve(b.from,f.to)<=0&&0<=ve(b.to,f.from))return!0;ve(f.from,b.from)<0?f=(c=a.next(b.from)).value:b=(h=l.next(f.from)).value}return!1}function Qn(n){var r=qu(n)?null:{s:0,n};return{next:function(a){for(var c=0<arguments.length;r;)switch(r.s){case 0:if(r.s=1,c)for(;r.n.l&&ve(a,r.n.from)<0;)r={up:r,n:r.n.l,s:1};else for(;r.n.l;)r={up:r,n:r.n.l,s:1};case 1:if(r.s=2,!c||ve(a,r.n.to)<=0)return{value:r.n,done:!1};case 2:if(r.n.r){r.s=3,r={up:r,n:r.n.r,s:0};continue}case 3:r=r.up}return{done:!0}}}}function pi(n){var r,a,c=(((r=n.r)===null||r===void 0?void 0:r.d)||0)-(((a=n.l)===null||a===void 0?void 0:a.d)||0),f=1<c?"r":c<-1?"l":"";f&&(r=f=="r"?"l":"r",a=v({},n),c=n[f],n.from=c.from,n.to=c.to,n[f]=c[f],a[f]=c[r],(n[r]=a).d=wt(a)),n.d=wt(n)}function wt(a){var r=a.r,a=a.l;return(r?a?Math.max(r.d,a.d):r.d:a?a.d:0)+1}function Xn(n,r){return we(r).forEach(function(a){n[a]?lr(n[a],r[a]):n[a]=function c(f){var l,h,b={};for(l in f)Z(f,l)&&(h=f[l],b[l]=!h||typeof h!="object"||Zn.has(h.constructor)?h:c(h));return b}(r[a])}),n}function dr(n,r){return n.all||r.all||Object.keys(n).some(function(a){return r[a]&&hi(r[a],n[a])})}Et(tt.prototype,((vt={add:function(n){return lr(this,n),this},addKey:function(n){return gt(this,n,n),this},addKeys:function(n){var r=this;return n.forEach(function(a){return gt(r,a,a)}),this},hasKey:function(n){var r=Qn(this).next(n).value;return r&&ve(r.from,n)<=0&&0<=ve(r.to,n)}})[Sr]=function(){return Qn(this)},vt));var un={},Hr={},hr=!1;function Vr(n){Xn(Hr,n),hr||(hr=!0,setTimeout(function(){hr=!1,zr(Hr,!(Hr={}))},0))}function zr(n,r){r===void 0&&(r=!1);var a=new Set;if(n.all)for(var c=0,f=Object.values(un);c<f.length;c++)vi(h=f[c],n,a,r);else for(var l in n){var h,b=/^idb\:\/\/(.*)\/(.*)\//.exec(l);b&&(l=b[1],b=b[2],(h=un["idb://".concat(l,"/").concat(b)])&&vi(h,n,a,r))}a.forEach(function(_){return _()})}function vi(n,r,a,c){for(var f=[],l=0,h=Object.entries(n.queries.query);l<h.length;l++){for(var b=h[l],_=b[0],m=[],E=0,y=b[1];E<y.length;E++){var x=y[E];dr(r,x.obsSet)?x.subscribers.forEach(function(j){return a.add(j)}):c&&m.push(x)}c&&f.push([_,m])}if(c)for(var g=0,P=f;g<P.length;g++){var O=P[g],_=O[0],m=O[1];n.queries.query[_]=m}}function bi(n){var r=n._state,a=n._deps.indexedDB;if(r.isBeingOpened||n.idbdb)return r.dbReadyPromise.then(function(){return r.dbOpenError?De(r.dbOpenError):n});r.isBeingOpened=!0,r.dbOpenError=null,r.openComplete=!1;var c=r.openCanceller,f=Math.round(10*n.verno),l=!1;function h(){if(r.openCanceller!==c)throw new ee.DatabaseClosed("db.open() was cancelled")}function b(){return new V(function(x,g){if(h(),!a)throw new ee.MissingAPI;var P=n.name,O=r.autoSchema||!f?a.open(P):a.open(P,f);if(!O)throw new ee.MissingAPI;O.onerror=Ct(g),O.onblocked=Ee(n._fireOnBlocked),O.onupgradeneeded=Ee(function(j){var $;E=O.transaction,r.autoSchema&&!n._options.allowEmptyDB?(O.onerror=sr,E.abort(),O.result.close(),($=a.deleteDatabase(P)).onsuccess=$.onerror=Ee(function(){g(new ee.NoSuchDatabase("Database ".concat(P," doesnt exist")))})):(E.onerror=Ct(g),j=j.oldVersion>Math.pow(2,62)?0:j.oldVersion,y=j<1,n.idbdb=O.result,l&&Dt(n,E),Du(n,j/10,E,g))},g),O.onsuccess=Ee(function(){E=null;var j,$,K,T,I,B=n.idbdb=O.result,Y=J(B.objectStoreNames);if(0<Y.length)try{var M=B.transaction((T=Y).length===1?T[0]:T,"readonly");if(r.autoSchema)$=B,K=M,(j=n).verno=$.version/10,K=j._dbSchema=rn(0,$,K),j._storeNames=J($.objectStoreNames,0),ne(j,[j._allTables],we(K),K);else if(Lr(n,n._dbSchema,M),((I=pt(rn(0,(I=n).idbdb,M),I._dbSchema)).add.length||I.change.some(function(F){return F.add.length||F.change.length}))&&!l)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),B.close(),f=B.version+1,l=!0,x(b());Fr(n,M)}catch{}Ln.push(n),B.onversionchange=Ee(function(F){r.vcFired=!0,n.on("versionchange").fire(F)}),B.onclose=Ee(function(){n.close({disableAutoOpen:!1})}),y&&(I=n._deps,M=P,B=I.indexedDB,I=I.IDBKeyRange,Ur(B)||M===Un||fr(B,I).put({name:M}).catch(xe)),x()},g)}).catch(function(x){switch(x==null?void 0:x.name){case"UnknownError":if(0<r.PR1398_maxLoop)return r.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),b();break;case"VersionError":if(0<f)return f=0,b()}return V.reject(x)})}var _,m=r.dbReadyResolve,E=null,y=!1;return V.race([c,(typeof navigator>"u"?V.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(x){function g(){return indexedDB.databases().finally(x)}_=setInterval(g,100),g()}).finally(function(){return clearInterval(_)}):Promise.resolve()).then(b)]).then(function(){return h(),r.onReadyBeingFired=[],V.resolve(Yr(function(){return n.on.ready.fire(n.vip)})).then(function x(){if(0<r.onReadyBeingFired.length){var g=r.onReadyBeingFired.reduce(wu,xe);return r.onReadyBeingFired=[],V.resolve(Yr(function(){return g(n.vip)})).then(x)}})}).finally(function(){r.openCanceller===c&&(r.onReadyBeingFired=null,r.isBeingOpened=!1)}).catch(function(x){r.dbOpenError=x;try{E&&E.abort()}catch{}return c===r.openCanceller&&n._close(),De(x)}).finally(function(){r.openComplete=!0,m()}).then(function(){var x;return y&&(x={},n.tables.forEach(function(g){g.schema.indexes.forEach(function(P){P.name&&(x["idb://".concat(n.name,"/").concat(g.name,"/").concat(P.name)]=new tt(-1/0,[[[]]]))}),x["idb://".concat(n.name,"/").concat(g.name,"/")]=x["idb://".concat(n.name,"/").concat(g.name,"/:dels")]=new tt(-1/0,[[[]]])}),Mt(nn).fire(x),zr(x,!0)),n})}function Ru(n){function r(l){return n.next(l)}var a=f(r),c=f(function(l){return n.throw(l)});function f(l){return function(_){var b=l(_),_=b.value;return b.done?_:_&&typeof _.then=="function"?_.then(a,c):$e(_)?Promise.all(_).then(a,c):a(_)}}return f(r)()}function pr(n,r,a){for(var c=$e(n)?n.slice():[n],f=0;f<a;++f)c.push(r);return c}var la={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(n){return v(v({},n),{table:function(r){var a=n.table(r),c=a.schema,f={},l=[];function h(y,x,g){var P=Wn(y),O=f[P]=f[P]||[],j=y==null?0:typeof y=="string"?1:y.length,$=0<x,$=v(v({},g),{name:$?"".concat(P,"(virtual-from:").concat(g.name,")"):g.name,lowLevelIndex:g,isVirtual:$,keyTail:x,keyLength:j,extractKey:Cu(y),unique:!$&&g.unique});return O.push($),$.isPrimaryKey||l.push($),1<j&&h(j===2?y[0]:y.slice(0,j-1),x+1,g),O.sort(function(K,T){return K.keyTail-T.keyTail}),$}r=h(c.primaryKey.keyPath,0,c.primaryKey),f[":id"]=[r];for(var b=0,_=c.indexes;b<_.length;b++){var m=_[b];h(m.keyPath,0,m)}function E(y){var x,g=y.query.index;return g.isVirtual?v(v({},y),{query:{index:g.lowLevelIndex,range:(x=y.query.range,g=g.keyTail,{type:x.type===1?2:x.type,lower:pr(x.lower,x.lowerOpen?n.MAX_KEY:n.MIN_KEY,g),lowerOpen:!0,upper:pr(x.upper,x.upperOpen?n.MIN_KEY:n.MAX_KEY,g),upperOpen:!0})}}):y}return v(v({},a),{schema:v(v({},c),{primaryKey:r,indexes:l,getIndexByKeyPath:function(y){return(y=f[Wn(y)])&&y[0]}}),count:function(y){return a.count(E(y))},query:function(y){return a.query(E(y))},openCursor:function(y){var x=y.query.index,g=x.keyTail,P=x.isVirtual,O=x.keyLength;return P?a.openCursor(E(y)).then(function($){return $&&j($)}):a.openCursor(y);function j($){return Object.create($,{continue:{value:function(K){K!=null?$.continue(pr(K,y.reverse?n.MAX_KEY:n.MIN_KEY,g)):y.unique?$.continue($.key.slice(0,O).concat(y.reverse?n.MIN_KEY:n.MAX_KEY,g)):$.continue()}},continuePrimaryKey:{value:function(K,T){$.continuePrimaryKey(pr(K,n.MAX_KEY,g),T)}},primaryKey:{get:function(){return $.primaryKey}},key:{get:function(){var K=$.key;return O===1?K[0]:K.slice(0,O)}},value:{get:function(){return $.value}}})}}})}})}};function Wr(n,r,a,c){return a=a||{},c=c||"",we(n).forEach(function(f){var l,h,b;Z(r,f)?(l=n[f],h=r[f],typeof l=="object"&&typeof h=="object"&&l&&h?(b=yu(l))!==yu(h)?a[c+f]=r[f]:b==="Object"?Wr(l,h,a,c+f+"."):l!==h&&(a[c+f]=r[f]):l!==h&&(a[c+f]=r[f])):a[c+f]=void 0}),we(r).forEach(function(f){Z(n,f)||(a[c+f]=r[f])}),a}function Nu(n,r){return r.type==="delete"?r.keys:r.keys||r.values.map(n.extractKey)}var da={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(n){return v(v({},n),{table:function(r){var a=n.table(r),c=a.schema.primaryKey;return v(v({},a),{mutate:function(f){var l=Q.trans,h=l.table(r).hook,b=h.deleting,_=h.creating,m=h.updating;switch(f.type){case"add":if(_.fire===xe)break;return l._promise("readwrite",function(){return E(f)},!0);case"put":if(_.fire===xe&&m.fire===xe)break;return l._promise("readwrite",function(){return E(f)},!0);case"delete":if(b.fire===xe)break;return l._promise("readwrite",function(){return E(f)},!0);case"deleteRange":if(b.fire===xe)break;return l._promise("readwrite",function(){return function y(x,g,P){return a.query({trans:x,values:!1,query:{index:c,range:g},limit:P}).then(function(O){var j=O.result;return E({type:"delete",keys:j,trans:x}).then(function($){return 0<$.numFailures?Promise.reject($.failures[0]):j.length<P?{failures:[],numFailures:0,lastResult:void 0}:y(x,v(v({},g),{lower:j[j.length-1],lowerOpen:!0}),P)})})}(f.trans,f.range,1e4)},!0)}return a.mutate(f);function E(y){var x,g,P,O=Q.trans,j=y.keys||Nu(c,y);if(!j)throw new Error("Keys missing");return(y=y.type==="add"||y.type==="put"?v(v({},y),{keys:j}):v({},y)).type!=="delete"&&(y.values=N([],y.values)),y.keys&&(y.keys=N([],y.keys)),x=a,P=j,((g=y).type==="add"?Promise.resolve([]):x.getMany({trans:g.trans,keys:P,cache:"immutable"})).then(function($){var K=j.map(function(T,I){var B,Y,M,F=$[I],H={onerror:null,onsuccess:null};return y.type==="delete"?b.fire.call(H,T,F,O):y.type==="add"||F===void 0?(B=_.fire.call(H,T,y.values[I],O),T==null&&B!=null&&(y.keys[I]=T=B,c.outbound||w(y.values[I],c.keyPath,T))):(B=Wr(F,y.values[I]),(Y=m.fire.call(H,B,T,F,O))&&(M=y.values[I],Object.keys(Y).forEach(function(L){Z(M,L)?M[L]=Y[L]:w(M,L,Y[L])}))),H});return a.mutate(y).then(function(T){for(var I=T.failures,B=T.results,Y=T.numFailures,T=T.lastResult,M=0;M<j.length;++M){var F=(B||j)[M],H=K[M];F==null?H.onerror&&H.onerror(I[M]):H.onsuccess&&H.onsuccess(y.type==="put"&&$[M]?y.values[M]:F)}return{failures:I,results:B,numFailures:Y,lastResult:T}}).catch(function(T){return K.forEach(function(I){return I.onerror&&I.onerror(T)}),Promise.reject(T)})})}}})}})}};function yi(n,r,a){try{if(!r||r.keys.length<n.length)return null;for(var c=[],f=0,l=0;f<r.keys.length&&l<n.length;++f)ve(r.keys[f],n[l])===0&&(c.push(a?kt(r.values[f]):r.values[f]),++l);return c.length===n.length?c:null}catch{return null}}var ha={stack:"dbcore",level:-1,create:function(n){return{table:function(r){var a=n.table(r);return v(v({},a),{getMany:function(c){if(!c.cache)return a.getMany(c);var f=yi(c.keys,c.trans._cache,c.cache==="clone");return f?V.resolve(f):a.getMany(c).then(function(l){return c.trans._cache={keys:c.keys,values:c.cache==="clone"?kt(l):l},l})},mutate:function(c){return c.type!=="add"&&(c.trans._cache=null),a.mutate(c)}})}}}};function It(n,r){return n.trans.mode==="readonly"&&!!n.subscr&&!n.trans.explicit&&n.trans.db._options.cache!=="disabled"&&!r.schema.primaryKey.outbound}function at(n,r){switch(n){case"query":return r.values&&!r.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Mu={stack:"dbcore",level:0,name:"Observability",create:function(n){var r=n.schema.name,a=new tt(n.MIN_KEY,n.MAX_KEY);return v(v({},n),{transaction:function(c,f,l){if(Q.subscr&&f!=="readonly")throw new ee.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Q.querier));return n.transaction(c,f,l)},table:function(c){var f=n.table(c),l=f.schema,h=l.primaryKey,y=l.indexes,b=h.extractKey,_=h.outbound,m=h.autoIncrement&&y.filter(function(g){return g.compound&&g.keyPath.includes(h.keyPath)}),E=v(v({},f),{mutate:function(g){function P(L){return L="idb://".concat(r,"/").concat(c,"/").concat(L),T[L]||(T[L]=new tt)}var O,j,$,K=g.trans,T=g.mutatedParts||(g.mutatedParts={}),I=P(""),B=P(":dels"),Y=g.type,H=g.type==="deleteRange"?[g.range]:g.type==="delete"?[g.keys]:g.values.length<50?[Nu(h,g).filter(function(L){return L}),g.values]:[],M=H[0],F=H[1],H=g.trans._cache;return $e(M)?(I.addKeys(M),(H=Y==="delete"||M.length===F.length?yi(M,H):null)||B.addKeys(M),(H||F)&&(O=P,j=H,$=F,l.indexes.forEach(function(L){var W=O(L.name||"");function ae(fe){return fe!=null?L.extractKey(fe):null}function ce(fe){return L.multiEntry&&$e(fe)?fe.forEach(function(st){return W.addKey(st)}):W.addKey(fe)}(j||$).forEach(function(fe,nt){var ue=j&&ae(j[nt]),nt=$&&ae($[nt]);ve(ue,nt)!==0&&(ue!=null&&ce(ue),nt!=null&&ce(nt))})}))):M?(F={from:(F=M.lower)!==null&&F!==void 0?F:n.MIN_KEY,to:(F=M.upper)!==null&&F!==void 0?F:n.MAX_KEY},B.add(F),I.add(F)):(I.add(a),B.add(a),l.indexes.forEach(function(L){return P(L.name).add(a)})),f.mutate(g).then(function(L){return!M||g.type!=="add"&&g.type!=="put"||(I.addKeys(L.results),m&&m.forEach(function(W){for(var ae=g.values.map(function(ue){return W.extractKey(ue)}),ce=W.keyPath.findIndex(function(ue){return ue===h.keyPath}),fe=0,st=L.results.length;fe<st;++fe)ae[fe][ce]=L.results[fe];P(W.name).addKeys(ae)})),K.mutatedParts=Xn(K.mutatedParts||{},T),L})}}),y=function(P){var O=P.query,P=O.index,O=O.range;return[P,new tt((P=O.lower)!==null&&P!==void 0?P:n.MIN_KEY,(O=O.upper)!==null&&O!==void 0?O:n.MAX_KEY)]},x={get:function(g){return[h,new tt(g.key)]},getMany:function(g){return[h,new tt().addKeys(g.keys)]},count:y,query:y,openCursor:y};return we(x).forEach(function(g){E[g]=function(P){var O=Q.subscr,j=!!O,$=It(Q,f)&&at(g,P)?P.obsSet={}:O;if(j){var K=function(F){return F="idb://".concat(r,"/").concat(c,"/").concat(F),$[F]||($[F]=new tt)},T=K(""),I=K(":dels"),O=x[g](P),j=O[0],O=O[1];if((g==="query"&&j.isPrimaryKey&&!P.values?I:K(j.name||"")).add(O),!j.isPrimaryKey){if(g!=="count"){var B=g==="query"&&_&&P.values&&f.query(v(v({},P),{values:!1}));return f[g].apply(this,arguments).then(function(F){if(g==="query"){if(_&&P.values)return B.then(function(ae){return ae=ae.result,T.addKeys(ae),F});var H=P.values?F.result.map(b):F.result;(P.values?T:I).addKeys(H)}else if(g==="openCursor"){var L=F,W=P.values;return L&&Object.create(L,{key:{get:function(){return I.addKey(L.primaryKey),L.key}},primaryKey:{get:function(){var ae=L.primaryKey;return I.addKey(ae),ae}},value:{get:function(){return W&&T.addKey(L.primaryKey),L.value}}})}return F})}I.add(a)}}return f[g].apply(this,arguments)}}),E}})}};function En(n,r,a){if(a.numFailures===0)return r;if(r.type==="deleteRange")return null;var c=r.keys?r.keys.length:"values"in r&&r.values?r.values.length:1;return a.numFailures===c?null:(r=v({},r),$e(r.keys)&&(r.keys=r.keys.filter(function(f,l){return!(l in a.failures)})),"values"in r&&$e(r.values)&&(r.values=r.values.filter(function(f,l){return!(l in a.failures)})),r)}function Gr(n,r){return a=n,((c=r).lower===void 0||(c.lowerOpen?0<ve(a,c.lower):0<=ve(a,c.lower)))&&(n=n,(r=r).upper===void 0||(r.upperOpen?ve(n,r.upper)<0:ve(n,r.upper)<=0));var a,c}function Ae(n,r,x,c,f,l){if(!x||x.length===0)return n;var h=r.query.index,b=h.multiEntry,_=r.query.range,m=c.schema.primaryKey.extractKey,E=h.extractKey,y=(h.lowLevelIndex||h).extractKey,x=x.reduce(function(g,P){var O=g,j=[];if(P.type==="add"||P.type==="put")for(var $=new tt,K=P.values.length-1;0<=K;--K){var T,I=P.values[K],B=m(I);$.hasKey(B)||(T=E(I),(b&&$e(T)?T.some(function(L){return Gr(L,_)}):Gr(T,_))&&($.addKey(B),j.push(I)))}switch(P.type){case"add":var Y=new tt().addKeys(r.values?g.map(function(W){return m(W)}):g),O=g.concat(r.values?j.filter(function(W){return W=m(W),!Y.hasKey(W)&&(Y.addKey(W),!0)}):j.map(function(W){return m(W)}).filter(function(W){return!Y.hasKey(W)&&(Y.addKey(W),!0)}));break;case"put":var M=new tt().addKeys(P.values.map(function(W){return m(W)}));O=g.filter(function(W){return!M.hasKey(r.values?m(W):W)}).concat(r.values?j:j.map(function(W){return m(W)}));break;case"delete":var F=new tt().addKeys(P.keys);O=g.filter(function(W){return!F.hasKey(r.values?m(W):W)});break;case"deleteRange":var H=P.range;O=g.filter(function(W){return!Gr(m(W),H)})}return O},n);return x===n?n:(x.sort(function(g,P){return ve(y(g),y(P))||ve(m(g),m(P))}),r.limit&&r.limit<1/0&&(x.length>r.limit?x.length=r.limit:n.length===r.limit&&x.length<r.limit&&(f.dirty=!0)),l?Object.freeze(x):x)}function mi(n,r){return ve(n.lower,r.lower)===0&&ve(n.upper,r.upper)===0&&!!n.lowerOpen==!!r.lowerOpen&&!!n.upperOpen==!!r.upperOpen}function gi(n,r){return function(a,c,f,l){if(a===void 0)return c!==void 0?-1:0;if(c===void 0)return 1;if((c=ve(a,c))===0){if(f&&l)return 0;if(f)return 1;if(l)return-1}return c}(n.lower,r.lower,n.lowerOpen,r.lowerOpen)<=0&&0<=function(a,c,f,l){if(a===void 0)return c!==void 0?1:0;if(c===void 0)return-1;if((c=ve(a,c))===0){if(f&&l)return 0;if(f)return-1;if(l)return 1}return c}(n.upper,r.upper,n.upperOpen,r.upperOpen)}function pa(n,r,a,c){n.subscribers.add(a),c.addEventListener("abort",function(){var f,l;n.subscribers.delete(a),n.subscribers.size===0&&(f=n,l=r,setTimeout(function(){f.subscribers.size===0&&vn(l,f)},3e3))})}var wi={stack:"dbcore",level:0,name:"Cache",create:function(n){var r=n.schema.name;return v(v({},n),{transaction:function(a,c,f){var l,h,b=n.transaction(a,c,f);return c==="readwrite"&&(h=(l=new AbortController).signal,f=function(_){return function(){if(l.abort(),c==="readwrite"){for(var m=new Set,E=0,y=a;E<y.length;E++){var x=y[E],g=un["idb://".concat(r,"/").concat(x)];if(g){var P=n.table(x),O=g.optimisticOps.filter(function(W){return W.trans===b});if(b._explicit&&_&&b.mutatedParts)for(var j=0,$=Object.values(g.queries.query);j<$.length;j++)for(var K=0,T=(Y=$[j]).slice();K<T.length;K++)dr((M=T[K]).obsSet,b.mutatedParts)&&(vn(Y,M),M.subscribers.forEach(function(W){return m.add(W)}));else if(0<O.length){g.optimisticOps=g.optimisticOps.filter(function(W){return W.trans!==b});for(var I=0,B=Object.values(g.queries.query);I<B.length;I++)for(var Y,M,F,H=0,L=(Y=B[I]).slice();H<L.length;H++)(M=L[H]).res!=null&&b.mutatedParts&&(_&&!M.dirty?(F=Object.isFrozen(M.res),F=Ae(M.res,M.req,O,P,M,F),M.dirty?(vn(Y,M),M.subscribers.forEach(function(W){return m.add(W)})):F!==M.res&&(M.res=F,M.promise=V.resolve({result:F}))):(M.dirty&&vn(Y,M),M.subscribers.forEach(function(W){return m.add(W)})))}}}m.forEach(function(W){return W()})}}},b.addEventListener("abort",f(!1),{signal:h}),b.addEventListener("error",f(!1),{signal:h}),b.addEventListener("complete",f(!0),{signal:h})),b},table:function(a){var c=n.table(a),f=c.schema.primaryKey;return v(v({},c),{mutate:function(l){var h=Q.trans;if(f.outbound||h.db._options.cache==="disabled"||h.explicit||h.idbtrans.mode!=="readwrite")return c.mutate(l);var b=un["idb://".concat(r,"/").concat(a)];return b?(h=c.mutate(l),l.type!=="add"&&l.type!=="put"||!(50<=l.values.length||Nu(f,l).some(function(_){return _==null}))?(b.optimisticOps.push(l),l.mutatedParts&&Vr(l.mutatedParts),h.then(function(_){0<_.numFailures&&(vn(b.optimisticOps,l),(_=En(0,l,_))&&b.optimisticOps.push(_),l.mutatedParts&&Vr(l.mutatedParts))}),h.catch(function(){vn(b.optimisticOps,l),l.mutatedParts&&Vr(l.mutatedParts)})):h.then(function(_){var m=En(0,v(v({},l),{values:l.values.map(function(E,y){var x;return _.failures[y]?E:(E=(x=f.keyPath)!==null&&x!==void 0&&x.includes(".")?kt(E):v({},E),w(E,f.keyPath,_.results[y]),E)})}),_);b.optimisticOps.push(m),queueMicrotask(function(){return l.mutatedParts&&Vr(l.mutatedParts)})}),h):c.mutate(l)},query:function(l){if(!It(Q,c)||!at("query",l))return c.query(l);var h=((m=Q.trans)===null||m===void 0?void 0:m.db._options.cache)==="immutable",y=Q,b=y.requery,_=y.signal,m=function(P,O,j,$){var K=un["idb://".concat(P,"/").concat(O)];if(!K)return[];if(!(O=K.queries[j]))return[null,!1,K,null];var T=O[($.query?$.query.index.name:null)||""];if(!T)return[null,!1,K,null];switch(j){case"query":var I=T.find(function(B){return B.req.limit===$.limit&&B.req.values===$.values&&mi(B.req.query.range,$.query.range)});return I?[I,!0,K,T]:[T.find(function(B){return("limit"in B.req?B.req.limit:1/0)>=$.limit&&(!$.values||B.req.values)&&gi(B.req.query.range,$.query.range)}),!1,K,T];case"count":return I=T.find(function(B){return mi(B.req.query.range,$.query.range)}),[I,!!I,K,T]}}(r,a,"query",l),E=m[0],y=m[1],x=m[2],g=m[3];return E&&y?E.obsSet=l.obsSet:(y=c.query(l).then(function(P){var O=P.result;if(E&&(E.res=O),h){for(var j=0,$=O.length;j<$;++j)Object.freeze(O[j]);Object.freeze(O)}else P.result=kt(O);return P}).catch(function(P){return g&&E&&vn(g,E),Promise.reject(P)}),E={obsSet:l.obsSet,promise:y,subscribers:new Set,type:"query",req:l,dirty:!1},g?g.push(E):(g=[E],(x=x||(un["idb://".concat(r,"/").concat(a)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[l.query.index.name||""]=g)),pa(E,g,b,_),E.promise.then(function(P){return{result:Ae(P.result,l,x==null?void 0:x.optimisticOps,c,E,h)}})}})}})}};function Lt(n,r){return new Proxy(n,{get:function(a,c,f){return c==="db"?r:Reflect.get(a,c,f)}})}var _t=(Pe.prototype.version=function(n){if(isNaN(n)||n<.1)throw new ee.Type("Given version is not a positive number");if(n=Math.round(10*n)/10,this.idbdb||this._state.isBeingOpened)throw new ee.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,n);var r=this._versions,a=r.filter(function(c){return c._cfg.version===n})[0];return a||(a=new this.Version(n),r.push(a),r.sort(sa),a.stores({}),this._state.autoSchema=!1,a)},Pe.prototype._whenReady=function(n){var r=this;return this.idbdb&&(this._state.openComplete||Q.letThrough||this._vip)?n():new V(function(a,c){if(r._state.openComplete)return c(new ee.DatabaseClosed(r._state.dbOpenError));if(!r._state.isBeingOpened){if(!r._state.autoOpen)return void c(new ee.DatabaseClosed);r.open().catch(xe)}r._state.dbReadyPromise.then(a,c)}).then(n)},Pe.prototype.use=function(n){var r=n.stack,a=n.create,c=n.level,f=n.name;return f&&this.unuse({stack:r,name:f}),n=this._middlewares[r]||(this._middlewares[r]=[]),n.push({stack:r,create:a,level:c??10,name:f}),n.sort(function(l,h){return l.level-h.level}),this},Pe.prototype.unuse=function(n){var r=n.stack,a=n.name,c=n.create;return r&&this._middlewares[r]&&(this._middlewares[r]=this._middlewares[r].filter(function(f){return c?f.create!==c:!!a&&f.name!==a})),this},Pe.prototype.open=function(){var n=this;return Xt(Fe,function(){return bi(n)})},Pe.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var n=this._state,r=Ln.indexOf(this);if(0<=r&&Ln.splice(r,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}n.isBeingOpened||(n.dbReadyPromise=new V(function(a){n.dbReadyResolve=a}),n.openCanceller=new V(function(a,c){n.cancelOpen=c}))},Pe.prototype.close=function(a){var r=(a===void 0?{disableAutoOpen:!0}:a).disableAutoOpen,a=this._state;r?(a.isBeingOpened&&a.cancelOpen(new ee.DatabaseClosed),this._close(),a.autoOpen=!1,a.dbOpenError=new ee.DatabaseClosed):(this._close(),a.autoOpen=this._options.autoOpen||a.isBeingOpened,a.openComplete=!1,a.dbOpenError=null)},Pe.prototype.delete=function(n){var r=this;n===void 0&&(n={disableAutoOpen:!0});var a=0<arguments.length&&typeof arguments[0]!="object",c=this._state;return new V(function(f,l){function h(){r.close(n);var b=r._deps.indexedDB.deleteDatabase(r.name);b.onsuccess=Ee(function(){var _,m,E;_=r._deps,m=r.name,E=_.indexedDB,_=_.IDBKeyRange,Ur(E)||m===Un||fr(E,_).delete(m).catch(xe),f()}),b.onerror=Ct(l),b.onblocked=r._fireOnBlocked}if(a)throw new ee.InvalidArgument("Invalid closeOptions argument to db.delete()");c.isBeingOpened?c.dbReadyPromise.then(h):h()})},Pe.prototype.backendDB=function(){return this.idbdb},Pe.prototype.isOpen=function(){return this.idbdb!==null},Pe.prototype.hasBeenClosed=function(){var n=this._state.dbOpenError;return n&&n.name==="DatabaseClosed"},Pe.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Pe.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Pe.prototype,"tables",{get:function(){var n=this;return we(this._allTables).map(function(r){return n._allTables[r]})},enumerable:!1,configurable:!0}),Pe.prototype.transaction=function(){var n=(function(r,a,c){var f=arguments.length;if(f<2)throw new ee.InvalidArgument("Too few arguments");for(var l=new Array(f-1);--f;)l[f-1]=arguments[f];return c=l.pop(),[r,pn(l),c]}).apply(this,arguments);return this._transaction.apply(this,n)},Pe.prototype._transaction=function(n,r,a){var c=this,f=Q.trans;f&&f.db===this&&n.indexOf("!")===-1||(f=null);var l,h,b=n.indexOf("?")!==-1;n=n.replace("!","").replace("?","");try{if(h=r.map(function(m){if(m=m instanceof c.Table?m.name:m,typeof m!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return m}),n=="r"||n===Rr)l=Rr;else{if(n!="rw"&&n!=Nr)throw new ee.InvalidArgument("Invalid transaction mode: "+n);l=Nr}if(f){if(f.mode===Rr&&l===Nr){if(!b)throw new ee.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");f=null}f&&h.forEach(function(m){if(f&&f.storeNames.indexOf(m)===-1){if(!b)throw new ee.SubTransaction("Table "+m+" not included in parent transaction.");f=null}}),b&&f&&!f.active&&(f=null)}}catch(m){return f?f._promise(null,function(E,y){y(m)}):De(m)}var _=(function m(E,y,x,g,P){return V.resolve().then(function(){var O=Q.transless||Q,j=E._createTransaction(y,x,E._dbSchema,g);if(j.explicit=!0,O={trans:j,transless:O},g)j.idbtrans=g.idbtrans;else try{j.create(),j.idbtrans._explicit=!0,E._state.PR1398_maxLoop=3}catch(T){return T.name===gu.InvalidState&&E.isOpen()&&0<--E._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),E.close({disableAutoOpen:!1}),E.open().then(function(){return m(E,y,x,null,P)})):De(T)}var $,K=mu(P);return K&&Jt(),O=V.follow(function(){var T;($=P.call(j,j))&&(K?(T=At.bind(null,null),$.then(T,T)):typeof $.next=="function"&&typeof $.throw=="function"&&($=Ru($)))},O),($&&typeof $.then=="function"?V.resolve($).then(function(T){return j.active?T:De(new ee.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):O.then(function(){return $})).then(function(T){return g&&j._resolve(),j._completion.then(function(){return T})}).catch(function(T){return j._reject(T),De(T)})})}).bind(null,this,l,h,f,a);return f?f._promise(l,_,"lock"):Q.trans?Xt(Q.transless,function(){return c._whenReady(_)}):this._whenReady(_)},Pe.prototype.table=function(n){if(!Z(this._allTables,n))throw new ee.InvalidTable("Table ".concat(n," does not exist"));return this._allTables[n]},Pe);function Pe(n,r){var a=this;this._middlewares={},this.verno=0;var c=Pe.dependencies;this._options=r=v({addons:Pe.addons,autoOpen:!0,indexedDB:c.indexedDB,IDBKeyRange:c.IDBKeyRange,cache:"cloned"},r),this._deps={indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange},c=r.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var f,l,h,b,_,m={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:xe,dbReadyPromise:null,cancelOpen:xe,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:r.autoOpen};m.dbReadyPromise=new V(function(y){m.dbReadyResolve=y}),m.openCanceller=new V(function(y,x){m.cancelOpen=x}),this._state=m,this.name=n,this.on=ar(this,"populate","blocked","versionchange","close",{ready:[wu,xe]}),this.once=function(y,x){var g=function(){for(var P=[],O=0;O<arguments.length;O++)P[O]=arguments[O];a.on(y).unsubscribe(g),x.apply(a,P)};return a.on(y,g)},this.on.ready.subscribe=qe(this.on.ready.subscribe,function(y){return function(x,g){Pe.vip(function(){var P,O=a._state;O.openComplete?(O.dbOpenError||V.resolve().then(x),g&&y(x)):O.onReadyBeingFired?(O.onReadyBeingFired.push(x),g&&y(x)):(y(x),P=a,g||y(function j(){P.on.ready.unsubscribe(x),P.on.ready.unsubscribe(j)}))})}}),this.Collection=(f=this,or(ci.prototype,function($,j){this.db=f;var g=en,P=null;if(j)try{g=j()}catch(K){P=K}var O=$._ctx,j=O.table,$=j.hook.reading.fire;this._ctx={table:j,index:O.index,isPrimKey:!O.index||j.schema.primKey.keyPath&&O.index===j.schema.primKey.name,range:g,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:P,or:O.or,valueMapper:$!==St?$:null}})),this.Table=(l=this,or(ju.prototype,function(y,x,g){this.db=l,this._tx=g,this.name=y,this.schema=x,this.hook=l._allTables[y]?l._allTables[y].hook:ar(null,{creating:[na,xe],reading:[ta,St],updating:[ua,xe],deleting:[ra,xe]})})),this.Transaction=(h=this,or(ca.prototype,function(y,x,g,P,O){var j=this;y!=="readonly"&&x.forEach(function($){$=($=g[$])===null||$===void 0?void 0:$.yProps,$&&(x=x.concat($.map(function(K){return K.updatesTable})))}),this.db=h,this.mode=y,this.storeNames=x,this.schema=g,this.chromeTransactionDurability=P,this.idbtrans=null,this.on=ar(this,"complete","error","abort"),this.parent=O||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new V(function($,K){j._resolve=$,j._reject=K}),this._completion.then(function(){j.active=!1,j.on.complete.fire()},function($){var K=j.active;return j.active=!1,j.on.error.fire($),j.parent?j.parent._reject($):K&&j.idbtrans&&j.idbtrans.abort(),De($)})})),this.Version=(b=this,or(fa.prototype,function(y){this.db=b,this._cfg={version:y,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(_=this,or(fi.prototype,function(y,x,g){if(this.db=_,this._ctx={table:y,index:x===":id"?null:x,or:g},this._cmp=this._ascending=ve,this._descending=function(P,O){return ve(O,P)},this._max=function(P,O){return 0<ve(P,O)?P:O},this._min=function(P,O){return ve(P,O)<0?P:O},this._IDBKeyRange=_._deps.IDBKeyRange,!this._IDBKeyRange)throw new ee.MissingAPI})),this.on("versionchange",function(y){0<y.newVersion?console.warn("Another connection wants to upgrade database '".concat(a.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(a.name,"'. Closing db now to resume the delete request.")),a.close({disableAutoOpen:!1})}),this.on("blocked",function(y){!y.newVersion||y.newVersion<y.oldVersion?console.warn("Dexie.delete('".concat(a.name,"') was blocked")):console.warn("Upgrade '".concat(a.name,"' blocked by other connection holding version ").concat(y.oldVersion/10))}),this._maxKey=Bt(r.IDBKeyRange),this._createTransaction=function(y,x,g,P){return new a.Transaction(y,x,g,a._options.chromeTransactionDurability,P)},this._fireOnBlocked=function(y){a.on("blocked").fire(y),Ln.filter(function(x){return x.name===a.name&&x!==a&&!x._state.vcFired}).map(function(x){return x.on("versionchange").fire(y)})},this.use(ha),this.use(wi),this.use(Mu),this.use(la),this.use(da);var E=new Proxy(this,{get:function(y,x,g){if(x==="_vip")return!0;if(x==="table")return function(O){return Lt(a.table(O),E)};var P=Reflect.get(y,x,g);return P instanceof ju?Lt(P,E):x==="tables"?P.map(function(O){return Lt(O,E)}):x==="_createTransaction"?function(){return Lt(P.apply(this,arguments),E)}:P}});this.vip=E,c.forEach(function(y){return y(a)})}var jn,vt=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",_i=(Jr.prototype.subscribe=function(n,r,a){return this._subscribe(n&&typeof n!="function"?n:{next:n,error:r,complete:a})},Jr.prototype[vt]=function(){return this},Jr);function Jr(n){this._subscribe=n}try{jn={indexedDB:oe.indexedDB||oe.mozIndexedDB||oe.webkitIndexedDB||oe.msIndexedDB,IDBKeyRange:oe.IDBKeyRange||oe.webkitIDBKeyRange}}catch{jn={indexedDB:null,IDBKeyRange:null}}function Bu(n){var r,a=!1,c=new _i(function(f){var l=mu(n),h,b=!1,_={},m={},E={get closed(){return b},unsubscribe:function(){b||(b=!0,h&&h.abort(),y&&Mt.storagemutated.unsubscribe(g))}};f.start&&f.start(E);var y=!1,x=function(){return Eu(P)},g=function(O){Xn(_,O),dr(m,_)&&x()},P=function(){var O,j,$;!b&&jn.indexedDB&&(_={},O={},h&&h.abort(),h=new AbortController,$=function(K){var T=Nn();try{l&&Jt();var I=Xe(n,K);return I=l?I.finally(At):I}finally{T&&Mn()}}(j={subscr:O,signal:h.signal,requery:x,querier:n,trans:null}),Promise.resolve($).then(function(K){a=!0,r=K,b||j.signal.aborted||(_={},function(T){for(var I in T)if(Z(T,I))return;return 1}(m=O)||y||(Mt(nn,g),y=!0),Eu(function(){return!b&&f.next&&f.next(K)}))},function(K){a=!1,["DatabaseClosedError","AbortError"].includes(K==null?void 0:K.name)||b||Eu(function(){b||f.error&&f.error(K)})}))};return setTimeout(x,0),E});return c.hasValue=function(){return a},c.getValue=function(){return r},c}var an=_t;function vr(n){var r=Ie;try{Ie=!0,Mt.storagemutated.fire(n),zr(n,!0)}finally{Ie=r}}Et(an,v(v({},Kr),{delete:function(n){return new an(n,{addons:[]}).delete()},exists:function(n){return new an(n,{addons:[]}).open().then(function(r){return r.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(n){try{return r=an.dependencies,a=r.indexedDB,r=r.IDBKeyRange,(Ur(a)?Promise.resolve(a.databases()).then(function(c){return c.map(function(f){return f.name}).filter(function(f){return f!==Un})}):fr(a,r).toCollection().primaryKeys()).then(n)}catch{return De(new ee.MissingAPI)}var r,a},defineClass:function(){return function(n){u(this,n)}},ignoreTransaction:function(n){return Q.trans?Xt(Q.transless,n):n()},vip:Yr,async:function(n){return function(){try{var r=Ru(n.apply(this,arguments));return r&&typeof r.then=="function"?r:V.resolve(r)}catch(a){return De(a)}}},spawn:function(n,r,a){try{var c=Ru(n.apply(a,r||[]));return c&&typeof c.then=="function"?c:V.resolve(c)}catch(f){return De(f)}},currentTransaction:{get:function(){return Q.trans||null}},waitFor:function(n,r){return r=V.resolve(typeof n=="function"?an.ignoreTransaction(n):n).timeout(r||6e4),Q.trans?Q.trans.waitFor(r):r},Promise:V,debug:{get:function(){return Kt},set:function(n){_u(n)}},derive:pe,extend:u,props:Et,override:qe,Events:ar,on:Mt,liveQuery:Bu,extendObservabilitySet:Xn,getByKeyPath:Le,setByKeyPath:w,delByKeyPath:function(n,r){typeof r=="string"?w(n,r,void 0):"length"in r&&[].map.call(r,function(a){w(n,a,void 0)})},shallowClone:qt,deepClone:kt,getObjectDiff:Wr,cmp:ve,asap:Re,minKey:-1/0,addons:[],connections:Ln,errnames:gu,dependencies:jn,cache:un,semVer:"4.2.1",version:"4.2.1".split(".").map(function(n){return parseInt(n)}).reduce(function(n,r,a){return n+r/Math.pow(10,2*a)})})),an.maxKey=Bt(an.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Mt(nn,function(n){Ie||(n=new CustomEvent(Ku,{detail:n}),Ie=!0,dispatchEvent(n),Ie=!1)}),addEventListener(Ku,function(n){n=n.detail,Ie||vr(n)}));var xt,Ie=!1,ki=function(){};return typeof BroadcastChannel<"u"&&((ki=function(){(xt=new BroadcastChannel(Ku)).onmessage=function(n){return n.data&&vr(n.data)}})(),typeof xt.unref=="function"&&xt.unref(),Mt(nn,function(n){Ie||xt.postMessage(n)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(n){if(!_t.disableBfCache&&n.persisted){Kt&&console.debug("Dexie: handling persisted pagehide"),xt!=null&&xt.close();for(var r=0,a=Ln;r<a.length;r++)a[r].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(n){!_t.disableBfCache&&n.persisted&&(Kt&&console.debug("Dexie: handling persisted pageshow"),ki(),vr({all:new tt(-1/0,[[]])}))})),V.rejectionMapper=function(n,r){return!n||n instanceof qn||n instanceof TypeError||n instanceof SyntaxError||!n.name||!Zu[n.name]?n:(r=new Zu[n.name](r||n.message,n),"stack"in n&&ie(r,"stack",{get:function(){return this.inner.stack}}),r)},_u(Kt),v(_t,Object.freeze({__proto__:null,Dexie:_t,liveQuery:Bu,Entity:ui,cmp:ve,PropModification:ir,replacePrefix:function(n,r){return new ir({replacePrefix:[n,r]})},add:function(n){return new ir({add:n})},remove:function(n){return new ir({remove:n})},default:_t,RangeSet:tt,mergeRanges:lr,rangesOverlap:hi}),{default:_t}),_t})})(Rc);var yd=Rc.exports;const Za=bd(yd),Ic=Symbol.for("Dexie"),Ji=globalThis[Ic]||(globalThis[Ic]=Za);if(Za.semVer!==Ji.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Za.semVer} and ${Ji.semVer}`);const{liveQuery:Ad,mergeRanges:Cd,rangesOverlap:Td,RangeSet:Dd,cmp:Id,Entity:qd,PropModification:Rd,replacePrefix:Nd,add:Md,remove:Bd,DexieYProvider:Fd}=Ji;var Nc={exports:{}};(function(de,Se){(function(ke,v){de.exports=v()})(Xa,()=>(()=>{var ke={d:(se,ie)=>{for(var pe in ie)ke.o(ie,pe)&&!ke.o(se,pe)&&Object.defineProperty(se,pe,{enumerable:!0,get:ie[pe]})},o:(se,ie)=>Object.prototype.hasOwnProperty.call(se,ie),r:se=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(se,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(se,"__esModule",{value:!0})}},v={};function N(se){if(typeof se!="string"||!se.match(/^[\w-.]+$/))throw new Error("Invalid namespace version: "+se);this.version=se,this.functions={},this.register=function(ie,pe){if(!ie.match(/^\w+$/))throw new Error("Invalid function name: "+ie);if(ie in this.functions)throw new Error(ie+" is already used");this.functions[ie]=pe},this.names=function(){return Object.keys(this.functions)},this.find=function(ie){if(ie in this.functions)return this.functions[ie]}}ke.r(v),ke.d(v,{createNamespace:()=>Et,install:()=>Ge,register:()=>Z});const oe={logCallErrors:!1,logInteropErrors:!0};var we=oe;const $e=new N("unversioned"),u={};function D(se){if(se instanceof Error){const{name:ie,message:pe,cause:dt,stack:A}=se,J=A===void 0?[]:A.split(/\n/).slice(1);return{name:ie,message:pe,cause:D(dt),stackLines:J}}return se===void 0?null:se}function Ge(se,ie){typeof se=="object"&&(we={...oe,...se}),ie===void 0&&(ie=XMLHttpRequest.prototype),ie.__elm_taskport_open=ie.open,ie.open=function(pe,dt,A,J,qe){if(dt.indexOf("elmtaskport://")===0){this.__elm_taskport_url=dt,this.__elm_taskport_function_call=!0,Object.defineProperty(this,"responseType",{writable:!0}),Object.defineProperty(this,"response",{writable:!0}),Object.defineProperty(this,"status",{writable:!0});const q=function(Re){const Le=Re.match(/^elmtaskport:\/\/([\w-]+\/[\w-]+)?\/([\w]+)\?v=(\d\.\d\.\d)(?:&nsv=([\w.-]+))?$/);if(!Le)return;const[w,qt,ot,pn,Zn]=Le;return qt===void 0||Zn!==void 0?{namespaceName:qt,namespaceVersion:Zn,apiVersion:pn,functionName:ot}:void 0}(dt);if(q===void 0)this.__elm_taskport_error=[400,`Cannot decode TaskPort url ${dt}. Did you update TaskPort package to a new version, but forgot to update the JavaScript code it requires?`];else{const{namespaceName:Re,functionName:Le,apiVersion:w,namespaceVersion:qt}=q;if(w!=="2.0.1")this.__elm_taskport_error=[400,`TaskPort version conflict. Elm-side is ${w}, but JavaScript-side is 2.0.1. Did you update TaskPort package to a new version, but forgot to update the JavaScript code it requires?`];else if(Re===void 0){this.__elm_taskport_function_name=Le;const ot=$e.find(Le);ot!==void 0?this.__elm_taskport_function=ot:this.__elm_taskport_error=[404,`Cannot find function '${Le}' in the default namespace. The default namespace has the following functons registered:
`+$e.names().join(`
`)]}else if(this.__elm_taskport_function_name=Re+"/"+Le,Re in u){const ot=u[Re];if(ot.version===qt){const pn=ot.find(Le);pn!==void 0?this.__elm_taskport_function=pn:this.__elm_taskport_error=[404,`Cannot find function '${Le}' in namespace ${Re}. This namespace has only the following functons registered with it:
`+ot.names().join(`
`)]}else this.__elm_taskport_error=[400,`The interop call expected namespace '${Re}' to have version '${qt}', but it is registered with version '${ot.version}'. Did you update the Elm package to a new version, but forgot to update the JavaScript code it requires?`]}else{const ot=Object.keys(u);this.__elm_taskport_error=[404,`Namespace '${Re}' is not registered with TaskPort. Did you follow the instructions to install required JavaScript code for the package? `+(ot.length==0)?"There are no namespaces registered with TaskPort.":`Only the following namespaces are known to TaskPort:
`+ot.join(`
`)]}}}return this.__elm_taskport_open(pe,dt,A,J,qe)},typeof ProgressEvent=="function"?ie.__elm_taskport_dispatch_event=function(pe){this.dispatchEvent(new ProgressEvent(pe))}:ie.__elm_taskport_dispatch_event=ie.dispatchEvent,ie.__elm_taskport_send=ie.send,ie.send=function(pe){if(!this.__elm_taskport_function_call)return this.__elm_taskport_send(pe);if(this.__elm_taskport_function!==void 0){const dt=JSON.parse(pe);(function(A,J){try{return Promise.resolve(A(J))}catch(qe){return Promise.reject(qe)}})(this.__elm_taskport_function,dt).then(A=>{this.responseType="json",this.response=A===void 0?"null":JSON.stringify(A),this.status=200,this.__elm_taskport_dispatch_event("load")}).catch(A=>{we.logCallErrors&&console.error("JavaScript function "+this.__elm_taskport_function_name+" thrown an error or returned a rejected Promise:",A),this.status=500,this.responseType="json",this.response=JSON.stringify(D(A)),this.__elm_taskport_dispatch_event("load")})}else{this.__elm_taskport_error===void 0&&this.__elm_taskport_error;const[dt,A]=this.__elm_taskport_error;we.logInteropErrors&&console.error("Unable to execute the interop call. "+A),this.status=dt,this.responseType="text",this.response=this.__elm_taskport_function_name,this.__elm_taskport_dispatch_event("load")}}}function Z(se,ie){$e.register(se,ie)}function Et(se,ie){const pe=new N(ie);return u[se]=pe,pe}return v})())})(Nc);var Dn=Nc.exports;class md extends HTMLElement{connectedCallback(){this.onMouseDown=this.onMouseDown.bind(this),window.addEventListener("mousedown",this.onMouseDown)}onMouseDown(Se){const ke=document.querySelectorAll(".with-click-outside"),v=Array.from(ke).filter(N=>N.contains(Se.target)).map(N=>N==null?void 0:N.id);if(v.length){const N=new CustomEvent("clickInPopups",{detail:v});this.dispatchEvent(N)}else{const N=new CustomEvent("clickoutside");this.dispatchEvent(N)}}disconnectedCallback(){window.removeEventListener("mousedown",this.onMouseDown)}}window.customElements.define("on-click-outside",md);Dn.install({logCallErrors:!0,logInteropErrors:!0});let ut=null;async function gd({name:de,version:Se}){try{console.log("INIT DB IN jS",de,Se),ut=new Ji(de),ut.version(Se).stores({settings:"id, theme",items:"id, name, quantity, comment, slug, symbol, state, created, updated",categories:"++id, name, items, state, created, updated"})}catch(ke){return ke}return!0}async function wd(){if(ut){const de=await ut.items.toArray().then(Se=>Se.reduce((ke,v)=>(ke[v.id]=v,ke),{}));return console.log("!!!",de),{categories:await ut.categories.toArray(),items:de}}return{categories:[],items:{}}}async function _d(de){if(ut)return console.log("STORE ITEM",de),await ut.items.put(de),!0}async function kd(de){return ut?(await ut.items.delete(de),!0):!1}async function $d(de){if(ut)return await ut.items.bulkPut(Object.values(de)),!0}async function xd(de){return ut?(await ut.categories.put(de),!0):!1}async function Od(de){return ut?(console.log("DUMP",de),await ut.categories.clear(),await ut.categories.bulkAdd(de.categories),await ut.items.clear(),await ut.items.bulkAdd(Object.values(de.items)),!0):!1}function Pd(){return window.crypto.randomUUID()}Dn.register("initDb",gd);Dn.register("queryAllCatsAndItems",wd);Dn.register("storeItem",_d);Dn.register("storeAllItems",$d);Dn.register("storeDump",Od);Dn.register("getUuid",Pd);Dn.register("storeCategory",xd);Dn.register("deleteItem",kd);const Ed=({env:de})=>({settings:{theme:"auto"}}),jd=({app:de,env:Se})=>{},Sd=Object.freeze(Object.defineProperty({__proto__:null,flags:Ed,onReady:jd},Symbol.toStringTag,{value:"Module"})),Ja={run(){return function(Se){function ke(e,t,i){return i.a=e,i.f=t,i}function v(e){return ke(2,e,function(t){return function(i){return e(t,i)}})}function N(e){return ke(3,e,function(t){return function(i){return function(o){return e(t,i,o)}}})}function oe(e){return ke(4,e,function(t){return function(i){return function(o){return function(s){return e(t,i,o,s)}}}})}function we(e){return ke(5,e,function(t){return function(i){return function(o){return function(s){return function(d){return e(t,i,o,s,d)}}}}})}function $e(e){return ke(6,e,function(t){return function(i){return function(o){return function(s){return function(d){return function(p){return e(t,i,o,s,d,p)}}}}}})}function u(e,t,i){return e.a===2?e.f(t,i):e(t)(i)}function D(e,t,i,o){return e.a===3?e.f(t,i,o):e(t)(i)(o)}function Ge(e,t,i,o,s){return e.a===4?e.f(t,i,o,s):e(t)(i)(o)(s)}function Z(e,t,i,o,s,d){return e.a===5?e.f(t,i,o,s,d):e(t)(i)(o)(s)(d)}function Et(e,t,i,o,s,d,p){return e.a===6?e.f(t,i,o,s,d,p):e(t)(i)(o)(s)(d)(p)}function se(e,t){for(var i,o=[],s=ie(e,t,0,o);s&&(i=o.pop());s=ie(i.a,i.b,0,o));return s}function ie(e,t,i,o){if(e===t)return!0;if(typeof e!="object"||e===null||t===null)return typeof e=="function"&&kt(5),!1;if(i>100)return o.push(A(e,t)),!0;for(var s in 0>e.$&&(e=Bt(e),t=Bt(t)),e)if(!ie(e[s],t[s],i+1,o))return!1;return!0}function pe(e,t,i){if(typeof e!="object")return e===t?0:t>e?-1:1;if(e.$===void 0)return(i=pe(e.a,t.a))||(i=pe(e.b,t.b))?i:pe(e.c,t.c);for(;e.b&&t.b&&!(i=pe(e.a,t.a));e=e.b,t=t.b);return i||(e.b?1:t.b?-1:0)}var dt=v(function(e,t){var i=pe(e,t);return 0>i?Au:i?Tt:ca});function A(e,t){return{a:e,b:t}}function J(e,t){var i={};for(var o in e)i[o]=e[o];for(var o in t)i[o]=t[o];return i}function qe(e,t){if(typeof e=="string")return e+t;if(!e.b)return t;var i=Re(e.a,t);e=e.b;for(var o=i;e.b;e=e.b)o=o.b=Re(e.a,t);return i}var q={$:0};function Re(e,t){return{$:1,a:e,b:t}}var Le=v(Re);function w(e){for(var t=q,i=e.length;i--;)t=Re(e[i],t);return t}function qt(e){for(var t=[];e.b;e=e.b)t.push(e.a);return t}var ot=N(function(e,t,i){for(var o=[];t.b&&i.b;t=t.b,i=i.b)o.push(u(e,t.a,i.a));return w(o)}),pn=v(function(e,t){return w(qt(t).sort(function(i,o){return pe(e(i),e(o))}))}),Zn=N(function(e,t,i){for(var o=Array(e),s=0;e>s;s++)o[s]=i(t+s);return o}),er=v(function(e,t){for(var i=Array(e),o=0;e>o&&t.b;o++)i[o]=t.a,t=t.b;return i.length=o,A(i,t)});function kt(e){throw Error("https://github.com/elm/core/blob/1.0.0/hints/"+e+".md")}var Qi=Math.ceil,yu=Math.floor,Sr=Math.log,Xi=v(function(e,t){return e+t}),vn=v(function(e,t){return t.split(e)}),In=v(function(e,t){return t.join(e)}),Rt=N(function(e,t,i){return i.slice(e,t)}),mu=v(function(e,t){for(var i=t.length;i--;){var o=t[i],s=t.charCodeAt(i);if(56320>s||s>57343||(o=t[--i]+o),!e(o))return!1}return!0}),Zi=v(function(e,t){return t.indexOf(e)>-1}),qn=v(function(e,t){return t.indexOf(e)===0}),Xu=v(function(e,t){var i=e.length;if(1>i)return q;for(var o=0,s=[];(o=t.indexOf(e,o))>-1;)s.push(o),o+=i;return w(s)});function tr(e){return e+""}function jt(e){return{$:2,b:e}}var gu=jt(function(e){return typeof e!="number"?ze("an INT",e):e>-2147483647&&2147483647>e&&(0|e)===e?ct(e):!isFinite(e)||e%1?ze("an INT",e):ct(e)}),ea=jt(function(e){return typeof e=="boolean"?ct(e):ze("a BOOL",e)}),ee=jt(function(e){return typeof e=="number"?ct(e):ze("a FLOAT",e)}),Zu=jt(function(e){return ct(e)}),Kr=jt(function(e){return typeof e=="string"?ct(e):e instanceof String?ct(e+""):ze("a STRING",e)}),xe=v(function(e,t){return{$:6,d:e,b:t}});function St(e,t){return{$:9,f:e,g:t}}var ta=v(function(e,t){return{$:10,b:t,h:e}}),bn=v(function(e,t){return St(e,[t])}),na=N(function(e,t,i){return St(e,[t,i])}),ra=oe(function(e,t,i,o){return St(e,[t,i,o])}),ua=we(function(e,t,i,o,s){return St(e,[t,i,o,s])}),ia=$e(function(e,t,i,o,s,d){return St(e,[t,i,o,s,d])}),wu=function(e){return ke(8,e,function(t){return function(i){return function(o){return function(s){return function(d){return function(p){return function(k){return function(S){return e(t,i,o,s,d,p,k,S)}}}}}}}})}(function(e,t,i,o,s,d,p,k){return St(e,[t,i,o,s,d,p,k])}),Kt=v(function(e,t){try{return it(e,JSON.parse(t))}catch(i){return et(u(Tu,"This is not valid JSON! "+i.message,t))}}),_u=v(function(e,t){return it(e,t)});function it(e,t){switch(e.$){case 2:return e.b(t);case 5:return t===null?ct(e.c):ze("null",t);case 3:return zt(t)?ku(e.b,t,w):ze("a LIST",t);case 4:return zt(t)?ku(e.b,t,yn):ze("an ARRAY",t);case 6:var i=e.d;if(typeof t!="object"||t===null||!(i in t))return ze("an OBJECT with a field named `"+i+"`",t);var o=it(e.b,t[i]);return It(o)?o:et(u(Wn,i,o.a));case 7:var s=e.e;return zt(t)?s>=t.length?ze("a LONGER array. Need index "+s+" but only see "+t.length+" entries",t):(o=it(e.b,t[s]),It(o)?o:et(u(li,s,o.a))):ze("an ARRAY",t);case 8:if(typeof t!="object"||t===null||zt(t))return ze("an OBJECT",t);var d=q;for(var p in t)if(Object.prototype.hasOwnProperty.call(t,p)){if(o=it(e.b,t[p]),!It(o))return et(u(Wn,p,o.a));d=Re(A(p,o.a),d)}return ct(gt(d));case 9:for(var k=e.f,S=e.g,C=0;S.length>C;C++){if(o=it(S[C],t),!It(o))return o;k=k(o.a)}return ct(k);case 10:return o=it(e.b,t),It(o)?it(e.h(o.a),t):o;case 11:for(var R=q,U=e.g;U.b;U=U.b){if(o=it(U.a,t),It(o))return o;R=Re(o.a,R)}return et(Fr(gt(R)));case 1:return et(u(Tu,e.a,t));case 0:return ct(e.a)}}function ku(e,t,i){for(var o=t.length,s=Array(o),d=0;o>d;d++){var p=it(e,t[d]);if(!It(p))return et(u(li,d,p.a));s[d]=p.a}return ct(i(s))}function zt(e){return Array.isArray(e)||typeof FileList<"u"&&e instanceof FileList}function yn(e){return u(ha,e.length,function(t){return e[t]})}function ze(e,t){return et(u(Tu,"Expecting "+e,t))}function Wt(e,t){if(e===t)return!0;if(e.$!==t.$)return!1;switch(e.$){case 0:case 1:return e.a===t.a;case 2:return e.b===t.b;case 5:return e.c===t.c;case 3:case 4:case 8:return Wt(e.b,t.b);case 6:return e.d===t.d&&Wt(e.b,t.b);case 7:return e.e===t.e&&Wt(e.b,t.b);case 9:return e.f===t.f&&Rn(e.g,t.g);case 10:return e.h===t.h&&Wt(e.b,t.b);case 11:return Rn(e.g,t.g)}}function Rn(e,t){var i=e.length;if(i!==t.length)return!1;for(var o=0;i>o;o++)if(!Wt(e[o],t[o]))return!1;return!0}var $u=v(function(e,t){return JSON.stringify(t,null,e)+""});function mn(e){return e}var Gt=N(function(e,t,i){return e==="toJSON"&&typeof t=="function"||(i[e]=t),i});function $t(e){return{$:0,a:e}}function Ar(e){return{$:1,a:e}}function Fe(e){return{$:2,b:e,c:null}}var Q=v(function(e,t){return{$:3,b:e,d:t}}),nr=v(function(e,t){return{$:4,b:e,d:t}}),gn=0;function wn(e){var t={$:0,e:gn++,f:e,g:null,h:[]};return Dr(t),t}function V(e,t){e.h.push(t),Dr(e)}var xu=v(function(e,t){return Fe(function(i){V(e,t),i($t(0))})}),Cr=!1,Tr=[];function Dr(e){if(Tr.push(e),!Cr){for(Cr=!0;e=Tr.shift();)Ou(e);Cr=!1}}function Ou(e){for(;e.f;){var t=e.f.$;if(t===0||t===1){for(;e.g&&e.g.$!==t;)e.g=e.g.i;if(!e.g)return;e.f=e.g.b(e.f.a),e.g=e.g.i}else{if(t===2)return void(e.f.c=e.f.b(function(i){e.f=i,Dr(e)}));if(t===5){if(e.h.length===0)return;e.f=e.f.b(e.h.shift())}else e.g={$:t===3?0:1,b:e.f.b,i:e.g},e.f=e.f.d}}}function aa(e,t,i,o,s,d){var p=u(_u,e,t?t.flags:void 0);It(p)||kt(2);var k={},S=i(p.a),C=S.a,R=d(z,C),U=function(ye,le){var he;for(var Ke in rr){var ft=rr[Ke];ft.a&&((he=he||{})[Ke]=ft.a(Ke,le)),ye[Ke]=Nn(ft,le)}return he}(k,z);function z(ye,le){var he=u(o,ye,C);R(C=he.a,le),Fn(k,he.b,s(C))}function G(){k!==void 0&&(Fn(k,_n(q),_n(q)),k=null,C=null,R=null,U=null),Se.domNode.removeChildren&&Se.domNode.replaceChildren(),t&&t.node?Se.domNode.replaceWith(t.node):Se.domNode.remove()}Fn(k,S.b,s(C));var te=U?{ports:U,unmount:G}:{unmount:G};return te}var rr={};function Nn(e,t){var i={g:t,h:void 0},o=e.c,s=e.d,d=e.e,p=e.f;return i.h=wn(u(Q,function k(S){return u(Q,k,{$:5,b:function(C){var R=C.a;return C.$===0?D(s,i,R,S):d&&p?Ge(o,i,R.i,R.j,S):D(o,i,d?R.i:R.j,S)}})},e.b))}var Mn=v(function(e,t){return Fe(function(i){e.g(t),i($t(0))})}),Pu=v(function(e,t){return u(xu,e.h,{$:0,a:t})});function _n(e){return{$:2,m:e}}var Ee,Ue=v(function(e,t){return{$:3,n:e,o:t}}),ei=[],Bn=!1;function Fn(e,t,i){if(ei.push({p:e,q:t,r:i}),!Bn){Bn=!0;for(var o;o=ei.shift();)Ir(o.p,o.q,o.r);Bn=!1}}function Ir(e,t,i){var o={};for(var s in qr(!0,t,o,null),qr(!1,i,o,null),e)V(e[s],{$:"fx",a:o[s]||{i:q,j:q}})}function qr(e,t,i,o){switch(t.$){case 1:var s=t.k,d=function(k,S,C,R){return u(k?rr[S].e:rr[S].f,function(U){for(var z=C;z;z=z.t)U=z.s(U);return U},R)}(e,s,o,t.l);return void(i[s]=function(k,S,C){return C=C||{i:q,j:q},k?C.i=Re(S,C.i):C.j=Re(S,C.j),C}(e,d,i[s]));case 2:for(var p=t.m;p.b;p=p.b)qr(e,p.a,i,o);return;case 3:return void qr(e,t.o,i,{s:t.n,t:o})}}var Xe=typeof document<"u"?document:{};function Jt(e,t){e.appendChild(t)}function At(e){return{$:0,a:e}}var ur=v(function(e,t){return v(function(i,o){for(var s=[],d=0;o.b;o=o.b){var p=o.a;d+=p.b||0,s.push(p)}return d+=s.length,{$:1,c:t,d:Nr(i),e:s,f:e,b:d}})}),Ne=ur(void 0),Qt=v(function(e,t){return v(function(i,o){for(var s=[],d=0;o.b;o=o.b){var p=o.a;d+=p.b.b||0,s.push(p)}return d+=s.length,{$:2,c:t,d:Nr(i),e:s,f:e,b:d}})})(void 0),ti=v(function(e,t){return{$:4,j:e,k:t,b:1+(t.b||0)}}),Xt,ni=v(function(e,t){return function(i,o){return{$:5,l:i,m:o,k:void 0}}([e,t],function(){return e(t)})}),Eu=v(function(e,t){return{$:"a0",n:e,o:t}}),De=v(function(e,t){return{$:"a2",n:e,o:t}}),Me=v(function(e,t){return{$:"a3",n:e,o:t}}),Nt=/^script$/i,ri=/^(on|formAction$)/i,Ln=/^\s*j\s*a\s*v\s*a\s*s\s*c\s*r\s*i\s*p\s*t\s*:/i,Un=/^\s*(j\s*a\s*v\s*a\s*s\s*c\s*r\s*i\s*p\s*t\s*:|d\s*a\s*t\s*a\s*:\s*t\s*e\s*x\s*t\s*\/\s*h\s*t\s*m\s*l\s*(,|;))/i;function Rr(e){return Nt.test(e)?"p":e}function Nr(e){for(var t={};e.b;e=e.b){var i=e.a,o=i.$,s=i.n,d=i.o;if(o!=="a2"){var p=t[o]||(t[o]={});o==="a3"&&s==="class"?Zt(p,s,d):p[s]=d}else s==="className"?Zt(t,s,d):t[s]=d}return t}function Zt(e,t,i){var o=e[t];e[t]=o?o+" "+i:i}function en(e,t){var i=e.$;if(i===5)return en(e.k||(e.k=e.m()),t);if(i===0)return Xe.createTextNode(e.a);if(i===4){for(var o=e.k,s=e.j;o.$===4;)typeof s!="object"?s=[s,o.j]:s.push(o.j),o=o.k;var d={j:s,p:t};return(p=en(o,d)).elm_event_node_ref=d,p}if(i===3)return Yn(p=e.h(e.g),t,e.d),p;var p=e.f?Xe.createElementNS(e.f,e.c):Xe.createElement(e.c);Ee&&e.c=="a"&&p.addEventListener("click",Ee(p)),Yn(p,t,e.d);for(var k=e.e,S=0;k.length>S;S++)Jt(p,en(i===1?k[S]:k[S].b,t));return p}function Yn(e,t,i){for(var o in i){var s=i[o];o==="a1"?ui(e,s):o==="a0"?ai(e,t,s):o==="a3"?ve(e,s):o==="a4"?ii(e,s):(o!=="value"&&o!=="checked"||e[o]!==s)&&(e[o]=s)}}function ui(e,t){var i=e.style;for(var o in t)i[o]=t[o]}function ve(e,t){for(var i in t){var o=t[i];o!==void 0?e.setAttribute(i,o):e.removeAttribute(i)}}function ii(e,t){for(var i in t){var o=t[i],s=o.f,d=o.o;d!==void 0?e.setAttributeNS(s,i,d):e.removeAttributeNS(s,i)}}function ai(e,t,i){var o=e.elmFs||(e.elmFs={});for(var s in i){var d=i[s],p=o[s];if(d){if(p){if(p.q.$===d.$){p.q=d;continue}e.removeEventListener(s,p)}p=Mr(t,d),e.addEventListener(s,p,Xt&&{passive:2>Gr(d)}),o[s]=p}else e.removeEventListener(s,p),o[s]=void 0}}try{window.addEventListener("t",null,Object.defineProperty({},"passive",{get:function(){Xt=!0}}))}catch{}function Mr(e,t){function i(o){var s=i.q,d=it(s.a,o);if(It(d)){for(var p,k=Gr(s),S=d.a,C=k?3>k?S.a:S.x:S,R=k==1?S.b:k==3&&S.aE,U=(R&&o.stopPropagation(),(k==2?S.b:k==3&&S.aA)&&o.preventDefault(),e);p=U.j;){if(typeof p=="function")C=p(C);else for(var z=p.length;z--;)C=p[z](C);U=U.p}U(C,R)}}return i.q=t,i}function ir(e,t){return e.$==t.$&&Wt(e.a,t.a)}function Ze(e,t,i,o){var s={$:t,r:i,s:o,t:void 0,u:void 0};return e.push(s),s}function mt(e,t,i,o){if(e!==t){var s=e.$,d=t.$;if(s!==d){if(s!==1||d!==2)return void Ze(i,0,o,t);t=function(Ke){for(var ft=Ke.e,lt=ft.length,vu=Array(lt),jr=0;lt>jr;jr++)vu[jr]=ft[jr].b;return{$:1,c:Ke.c,d:Ke.d,e:vu,f:Ke.f,b:Ke.b}}(t),d=1}switch(d){case 5:for(var p=e.l,k=t.l,S=p.length,C=S===k.length;C&&S--;)C=p[S]===k[S];if(C)return void(t.k=e.k);t.k=t.m();var R=[];return mt(e.k,t.k,R,0),void(R.length>0&&Ze(i,1,o,R));case 4:for(var U=e.j,z=t.j,G=!1,te=e.k;te.$===4;)G=!0,typeof U!="object"?U=[U,te.j]:U.push(te.j),te=te.k;for(var ye=t.k;ye.$===4;)G=!0,typeof z!="object"?z=[z,ye.j]:z.push(ye.j),ye=ye.k;return G&&U.length!==z.length?void Ze(i,0,o,t):((G?function(Ke,ft){for(var lt=0;Ke.length>lt;lt++)if(Ke[lt]!==ft[lt])return!1;return!0}(U,z):U===z)||Ze(i,2,o,z),void mt(te,ye,i,o+1));case 0:return void(e.a!==t.a&&Ze(i,3,o,t.a));case 1:return void ju(e,t,i,o,ar);case 2:return void ju(e,t,i,o,or);case 3:if(e.h!==t.h)return void Ze(i,0,o,t);var le=Oe(e.d,t.d);le&&Ze(i,4,o,le);var he=t.i(e.g,t.g);return void(he&&Ze(i,5,o,he))}}}function ju(e,t,i,o,s){if(e.c===t.c&&e.f===t.f){var d=Oe(e.d,t.d);d&&Ze(i,4,o,d),s(e,t,i,o)}else Ze(i,0,o,t)}function Oe(e,t,i){var o;for(var s in e)if(s!=="a1"&&s!=="a0"&&s!=="a3"&&s!=="a4")if(s in t){var d=e[s],p=t[s];d===p&&s!=="value"&&s!=="checked"||i==="a0"&&ir(d,p)||((o=o||{})[s]=p)}else(o=o||{})[s]=i?i==="a1"?"":i==="a0"||i==="a3"?void 0:{f:e[s].f,o:void 0}:typeof e[s]=="string"?"":null;else{var k=Oe(e[s],t[s]||{},s);k&&((o=o||{})[s]=k)}for(var S in t)S in e||((o=o||{})[S]=t[S]);return o}function ar(e,t,i,o){var s=e.e,d=t.e,p=s.length,k=d.length;p>k?Ze(i,6,o,{v:k,i:p-k}):k>p&&Ze(i,7,o,{v:p,e:d});for(var S=k>p?p:k,C=0;S>C;C++){var R=s[C];mt(R,d[C],i,++o),o+=R.b||0}}function or(e,t,i,o){for(var s=[],d={},p=[],k=e.e,S=t.e,C=k.length,R=S.length,U=0,z=0,G=o;C>U&&R>z;){var te=(zi=k[U]).a,ye=(Wi=S[z]).a,le=zi.b,he=Wi.b,Ke=void 0,ft=void 0;if(te!==ye){var lt=k[U+1],vu=S[z+1];if(lt){var jr=lt.a,bu=lt.b;ft=ye===jr}if(vu){var Dc=vu.a,Ga=vu.b;Ke=te===Dc}if(Ke&&ft)mt(le,Ga,s,++G),$n(d,s,te,he,z,p),G+=le.b||0,xn(d,s,te,bu,++G),G+=bu.b||0,U+=2,z+=2;else if(Ke)G++,$n(d,s,ye,he,z,p),mt(le,Ga,s,G),G+=le.b||0,U+=1,z+=2;else if(ft)xn(d,s,te,le,++G),G+=le.b||0,mt(bu,he,s,++G),G+=bu.b||0,U+=2,z+=1;else{if(!lt||jr!==Dc)break;xn(d,s,te,le,++G),$n(d,s,ye,he,z,p),G+=le.b||0,mt(bu,Ga,s,++G),G+=bu.b||0,U+=2,z+=2}}else mt(le,he,s,++G),G+=le.b||0,U++,z++}for(;C>U;){var zi;G++,xn(d,s,(zi=k[U]).a,le=zi.b,G),G+=le.b||0,U++}for(;R>z;){var Wi,Gi=Gi||[];$n(d,s,(Wi=S[z]).a,Wi.b,void 0,Gi),z++}(s.length>0||p.length>0||Gi)&&Ze(i,8,o,{w:s,x:p,y:Gi})}var kn="_elmW6BL";function $n(e,t,i,o,s,d){var p=e[i];if(!p)return d.push({r:s,A:p={c:0,z:o,r:s,s:void 0}}),void(e[i]=p);if(p.c===1){d.push({r:s,A:p}),p.c=2;var k=[];return mt(p.z,o,k,p.r),p.r=s,void(p.s.s={w:k,A:p})}$n(e,t,i+kn,o,s,d)}function xn(e,t,i,o,s){var d=e[i];if(d){if(d.c===0){d.c=2;var p=[];return mt(o,d.z,p,s),void Ze(t,9,s,{w:p,A:d})}xn(e,t,i+kn,o,s)}else{var k=Ze(t,9,s,void 0);e[i]={c:1,z:o,r:s,s:k}}}function cr(e,t,i,o){Hn(e,t,i,0,0,t.b,o)}function Hn(e,t,i,o,s,d,p){for(var k=i[o],S=k.r;S===s;){var C=k.$;if(C===1)cr(e,t.k,k.s,p);else if(C===8)k.t=e,k.u=p,(R=k.s.w).length>0&&Hn(e,t,R,0,s,d,p);else if(C===9){k.t=e,k.u=p;var R,U=k.s;U&&(U.A.s=e,(R=U.w).length>0&&Hn(e,t,R,0,s,d,p))}else k.t=e,k.u=p;if(!(k=i[++o])||(S=k.r)>d)return o}var z=t.$;if(z===4){for(var G=t.k;G.$===4;)G=G.k;return Hn(e,G,i,o,s+1,d,e.elm_event_node_ref)}for(var te=t.e,ye=e.childNodes,le=0;te.length>le;le++){s++;var he=z===1?te[le]:te[le].b,Ke=s+(he.b||0);if(!(s>S||S>Ke||(k=i[o=Hn(ye[le],he,i,o,s,Ke,p)])&&(S=k.r)<=d))return o;s=Ke}return o}function On(e,t){for(var i=0;t.length>i;i++){var o=t[i],s=o.t,d=oi(s,o);s===e&&(e=d)}return e}function oi(e,t){switch(t.$){case 0:return function(k,S,C){var R=k.parentNode,U=en(S,C);return U.elm_event_node_ref||(U.elm_event_node_ref=k.elm_event_node_ref),R&&U!==k&&R.replaceChild(U,k),U}(e,t.s,t.u);case 4:return Yn(e,t.u,t.s),e;case 3:return e.replaceData(0,e.length,t.s),e;case 1:return On(e,t.s);case 2:return e.elm_event_node_ref?e.elm_event_node_ref.j=t.s:e.elm_event_node_ref={j:t.s,p:t.u},e;case 6:for(var i=t.s,o=0;i.i>o;o++)e.removeChild(e.childNodes[i.v]);return e;case 7:for(var s=(i=t.s).e,d=e.childNodes[o=i.v];s.length>o;o++)e.insertBefore(en(s[o],t.u),d);return e;case 9:if(!(i=t.s))return e.parentNode.removeChild(e),e;var p=i.A;return p.r!==void 0&&e.parentNode.removeChild(e),p.s=On(e,i.w),e;case 8:return function(k,S){var C=S.s,R=function(le,he){if(le){for(var Ke=Xe.createDocumentFragment(),ft=0;le.length>ft;ft++){var lt=le[ft].A;Jt(Ke,lt.c===2?lt.s:en(lt.z,he.u))}return Ke}}(C.y,S);k=On(k,C.w);for(var U=C.x,z=0;U.length>z;z++){var G=U[z],te=G.A,ye=te.c===2?te.s:en(te.z,S.u);k.insertBefore(ye,k.childNodes[G.r])}return R&&Jt(k,R),k}(e,t);case 5:return t.s(e);default:kt(10)}}function ci(e){if(e.nodeType===3)return At(e.textContent);if(e.nodeType!==1)return At("");for(var t=q,i=e.attributes,o=i.length;o--;){var s=i[o];t=Re(u(Me,s.name,s.value),t)}var d=e.tagName.toLowerCase(),p=q,k=e.childNodes;for(o=k.length;o--;)p=Re(ci(k[o]),p);return D(Ne,d,t,p)}var me=oe(function(e,t,i,o){return aa(t,o,e.P,e.ab,e.U,function(s,d){var p=e.aB&&e.aB(s),k=e.ac,S=Xe.title,C=Xe.body,R=ci(C);return function(U,z){z(U);var G=0;function te(){G=G===1?0:(Br(te),z(U),1)}return function(ye,le){U=ye,le?(z(U),G===2&&(G=1)):(G===0&&Br(te),G=2)}}(d,function(U){Ee=p;var z=k(U),G=Ne("body")(q)(z.aI),te=function(ye,le){var he=[];return mt(ye,le,he,0),he}(R,G);C=function(ye,le,he,Ke){return he.length===0?ye:(cr(ye,le,he,Ke),On(ye,he))}(C,R,te,s),R=G,Ee=0,S!==z.bi&&(Xe.title=S=z.bi)})})}),Br=typeof requestAnimationFrame<"u"?requestAnimationFrame:function(e){return setTimeout(e,1e3/60)};function Su(){return vr(Xe.location.href).a||kt(1)}var oa=v(function(e,t){return u(m,xt,Fe(function(){t&&history.go(t),e()}))}),ht=v(function(e,t){return u(m,xt,Fe(function(){history.pushState({},"",t),e()}))}),Vn=v(function(e,t){return u(m,xt,Fe(function(){history.replaceState({},"",t),e()}))}),Pn=typeof window<"u"?window:{addEventListener:function(){},removeEventListener:function(){}},tn=v(function(e,t){return function(i,o){return Fe(function(s){Br(function(){var d=document.getElementById(i);s(d?$t(o(d)):Ar(mi(i)))})})}(t,function(i){return i[e](),0})}),si=N(function(e,t,i){return Fe(function(o){function s(p){o(t(i.ar.a(p)))}var d=new XMLHttpRequest;d.addEventListener("error",function(){s(Uc)}),d.addEventListener("timeout",function(){s(Vc)}),d.addEventListener("load",function(){s(function(p,k){return u(k.status>=200&&300>k.status?Lc:Bc,function(S){return{ce:S.responseURL,b7:S.status,b8:S.statusText,aT:fi(S.getAllResponseHeaders())}}(k),p(k.response))}(i.ar.b,d))}),to(i.bj)&&function(p,k,S){k.upload.addEventListener("progress",function(C){k.c||wn(u(no,p,A(S,Hc({b4:C.loaded,bc:C.total}))))}),k.addEventListener("progress",function(C){k.c||wn(u(no,p,A(S,Yc({b1:C.loaded,bc:C.lengthComputable?ne(C.total):X}))))})}(e,d,i.bj.a);try{d.open(i.bP,i.ce,!0)}catch{return s(Fc(i.ce))}return function(p,k){for(var S=k.aT;S.b;S=S.b)p.setRequestHeader(S.a.a,S.a.b);p.timeout=k.cc.a||0,p.responseType=k.ar.d,p.withCredentials=k.bs}(d,i),i.aI.a&&d.setRequestHeader("Content-Type",i.aI.a),d.send(i.aI.b),function(){d.c=!0,d.abort()}})});function fi(e){if(!e)return Ot;for(var t=Ot,i=e.split(`\r
`),o=i.length;o--;){var s=i[o],d=s.indexOf(": ");if(d>0){var p=s.substring(0,d),k=s.substring(d+2);t=D(ya,p,function(S){return ne(to(S)?k+", "+S.a:k)},t)}}return t}var Ye,Ct=N(function(e,t,i){return{$:0,d:e,b:t,a:i}}),sr=v(function(e,t){return{$:0,a:e,b:t}}),nn,Ku=N(function(e,t,i){return Fe(function(){var o=new Blob([i],{type:t});if(navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(o,e);else{var s=Ye||(Ye=document.createElement("a")),d=URL.createObjectURL(o);s.href=d,s.download=e,Mt(s),URL.revokeObjectURL(d)}})});function Mt(e){if(typeof MouseEvent=="function")e.dispatchEvent(new MouseEvent("click"));else{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),document.body.appendChild(e),e.dispatchEvent(t),document.body.removeChild(e)}}var ca=1,Tt=2,Au=0,Je=Le,zn=N(function(e,t,i){for(;;){if(i.$===-2)return t;var o=i.d,s=e,d=D(e,i.b,i.c,D(zn,e,t,i.e));e=s,t=d,i=o}}),Bt=function(e){return D(zn,N(function(t,i,o){return u(Je,A(t,i),o)}),q,e)},Cu=function(e){return D(zn,N(function(t,i,o){return u(Je,t,o)}),q,e)},et=function(e){return{$:1,a:e}},Tu=v(function(e,t){return{$:3,a:e,b:t}}),Wn=v(function(e,t){return{$:0,a:e,b:t}}),li=v(function(e,t){return{$:1,a:e,b:t}}),ct=function(e){return{$:0,a:e}},Fr=function(e){return{$:2,a:e}},ne=function(e){return{$:0,a:e}},X={$:1},sa=mu,Du=$u,Dt=tr,pt=v(function(e,t){return u(In,e,qt(t))}),Gn=v(function(e,t){return w(u(vn,e,t))}),Iu=function(e){return u(pt,`
    `,u(Gn,`
`,e))},Ft=N(function(e,t,i){for(;;){if(!i.b)return t;var o=i.b,s=e,d=u(e,i.a,t);e=s,t=d,i=o}}),rn=function(e){return D(Ft,v(function(t,i){return i+1}),0,e)},Lr=ot,di=N(function(e,t,i){for(;;){if(pe(e,t)>=1)return i;var o=e,s=t-1,d=u(Je,t,i);e=o,t=s,i=d}}),fa=v(function(e,t){return D(di,e,t,q)}),Jn=v(function(e,t){return D(Lr,e,u(fa,0,rn(t)-1),t)}),fr=function(e){var t=e.charCodeAt(0);return 55296>t||t>56319?t:1024*(t-55296)+e.charCodeAt(1)-56320+65536},Ur=function(e){var t=fr(e);return t>=97&&122>=t},Yr=function(e){var t=fr(e);return 90>=t&&t>=65},qu=function(e){return Ur(e)||Yr(e)},tt=function(e){return Ur(e)||Yr(e)||function(t){var i=fr(t);return 57>=i&&i>=48}(e)},gt=function(e){return D(Ft,Je,q,e)},lr=function(e){var t=e.charCodeAt(0);return isNaN(t)?X:ne(55296>t||t>56319?A(e[0],e.slice(1)):A(e[0]+e[1],e.slice(2)))},hi=v(function(e,t){return`

(`+Dt(e+1)+") "+Iu(Qn(t))}),Qn=function(e){return u(pi,e,q)},pi=v(function(e,t){e:for(;;)switch(e.$){case 0:var i=e.a,o=e.b,s=function(){var R=lr(i);if(R.$===1)return!1;var U=R.a,z=U.b;return qu(U.a)&&u(sa,tt,z)}();e=o,t=u(Je,s?"."+i:"['"+i+"']",t);continue e;case 1:o=e.b;var d="["+Dt(e.a)+"]";e=o,t=u(Je,d,t);continue e;case 2:var p=e.a;if(p.b){if(p.b.b){var k=(t.b?"The Json.Decode.oneOf at json"+u(pt,"",gt(t)):"Json.Decode.oneOf")+" failed in the following "+Dt(rn(p))+" ways:";return u(pt,`

`,u(Je,k,u(Jn,hi,p)))}e=o=p.a;continue e}return"Ran into a Json.Decode.oneOf with no possibilities"+(t.b?" at json"+u(pt,"",gt(t)):"!");default:var S=e.a,C=e.b;return(k=t.b?"Problem with the value at json"+u(pt,"",gt(t))+`:

    `:`Problem with the given value:

`)+Iu(u(Du,4,C))+`

`+S}}),wt=32,Xn=oe(function(e,t,i,o){return{$:0,a:e,b:t,c:i,d:o}}),dr=[],un=Qi,Hr=v(function(e,t){return Sr(t)/Sr(e)}),hr=un(u(Hr,2,wt)),Vr=Ge(Xn,0,hr,dr,dr),zr=Zn,vi=yu,bi=function(e){return e.length},Ru=v(function(e,t){return pe(e,t)>0?e:t}),pr=er,la=v(function(e,t){for(;;){var i=u(pr,wt,e),o=i.b,s=u(Je,{$:0,a:i.a},t);if(!o.b)return gt(s);e=o,t=s}}),Wr=function(e){return e.a},Nu=v(function(e,t){for(;;){var i=un(t/wt);if(i===1)return u(pr,wt,e).a;e=u(la,e,q),t=i}}),da=v(function(e,t){if(t.h){var i=t.h*wt,o=vi(u(Hr,wt,i-1)),s=e?gt(t.j):t.j,d=u(Nu,s,t.h);return Ge(Xn,bi(t.i)+i,u(Ru,5,o*hr),d,t.i)}return Ge(Xn,bi(t.i),hr,dr,t.i)}),yi=we(function(e,t,i,o,s){for(;;){if(0>t)return u(da,!1,{j:o,h:i/wt|0,i:s});var d={$:1,a:D(zr,wt,t,e)};t-=wt,o=u(Je,d,o)}}),ha=v(function(e,t){if(e>0){var i=e%wt;return Z(yi,t,e-i-wt,e,q,D(zr,i,e-i,t))}return Vr}),It=function(e){return!e.$},at=bn,Mu=na,En=function(e){return{$:0,a:e}},Gr=function(e){switch(e.$){case 0:return 0;case 1:return 1;case 2:return 2;default:return 3}},Ae=function(e){return e},mi=Ae,gi=$e(function(e,t,i,o,s,d){return{bD:d,bJ:t,bY:o,bZ:i,b_:e,b0:s}}),pa=Zi,wi=Rt,Lt=v(function(e,t){return 1>e?t:D(wi,e,function(i){return i.length}(t),t)}),_t=Xu,Pe=function(e){return e===""},jn=v(function(e,t){return 1>e?"":D(wi,0,e,t)}),vt=we(function(e,t,i,o,s){if(Pe(s)||u(pa,"@",s))return X;var d=u(_t,":",s);if(d.b){if(d.b.b)return X;var p=d.a,k=function(C){for(var R=0,U=C.charCodeAt(0),z=U==43||U==45?1:0,G=z;C.length>G;++G){var te=C.charCodeAt(G);if(48>te||te>57)return X;R=10*R+te-48}return G==z?X:ne(U==45?-R:R)}(u(Lt,p+1,s));if(k.$===1)return X;var S=k;return ne(Et(gi,e,u(jn,p,s),S,t,i,o))}return ne(Et(gi,e,s,X,t,i,o))}),_i=oe(function(e,t,i,o){if(Pe(o))return X;var s=u(_t,"/",o);if(s.b){var d=s.a;return Z(vt,e,u(Lt,d,o),t,i,u(jn,d,o))}return Z(vt,e,"/",t,i,o)}),Jr=N(function(e,t,i){if(Pe(i))return X;var o=u(_t,"?",i);if(o.b){var s=o.a;return Ge(_i,e,ne(u(Lt,s+1,i)),t,u(jn,s,i))}return Ge(_i,e,X,t,i)}),Bu=v(function(e,t){if(Pe(t))return X;var i=u(_t,"#",t);if(i.b){var o=i.a;return D(Jr,e,ne(u(Lt,o+1,t)),u(jn,o,t))}return D(Jr,e,X,t)}),an=qn,vr=function(e){return u(an,"http://",e)?u(Bu,0,u(Lt,7,e)):u(an,"https://",e)?u(Bu,1,u(Lt,8,e)):X},xt=function(e){},Ie=$t,ki=Ie(0),n=oe(function(e,t,i,o){if(o.b){var s=o.a,d=o.b;if(d.b){var p=d.a,k=d.b;if(k.b){var S=k.a,C=k.b;if(C.b){var R=C.b;return u(e,s,u(e,p,u(e,S,u(e,C.a,i>500?D(Ft,e,t,gt(R)):Ge(n,e,t,i+1,R)))))}return u(e,s,u(e,p,u(e,S,t)))}return u(e,s,u(e,p,t))}return u(e,s,t)}return t}),r=N(function(e,t,i){return Ge(n,e,t,0,i)}),a=v(function(e,t){return D(r,v(function(i,o){return u(Je,e(i),o)}),q,t)}),c=Q,f=v(function(e,t){return u(c,function(i){return Ie(e(i))},t)}),l=N(function(e,t,i){return u(c,function(o){return u(c,function(s){return Ie(u(e,o,s))},i)},t)}),h=Mn,b=v(function(e,t){var i=t;return function(o){return Fe(function(s){s($t(wn(o)))})}(u(c,h(e),i))});rr.Task={b:ki,c:N(function(e,t){return u(f,function(){return 0},(i=u(a,b(e),t),D(r,l(Je),Ie(q),i)));var i}),d:N(function(){return Ie(0)}),e:v(function(e,t){return u(f,e,t)}),f:void 0};var _=function(e){return function(t){return{$:1,k:e,l:t}}}("Task"),m=v(function(e,t){return _(u(f,e,t))}),E=_n,y=_u,x=xe,g=Kr,P=u(at,function(e){return{bb:e}},u(x,"settings",u(at,function(e){return{cb:e}},u(x,"theme",u(at,function(e){switch(e){case"auto":default:return 0;case"light":return 1;case"dark":return 2}},g))))),O=function(e){return{$:5,a:e}},j=function(e){return{$:4,a:e}},$=N(function(e,t,i){return t(e(i))}),K={$:6},T=function(e){return{$:1,a:e}},I=v(function(e,t){return{$:13,a:e,b:t}}),B=function(e){return{$:8,a:e}},Y=function(e){return{$:9,a:e}},M={$:0},F=function(e){return{$:10,a:e}},H=v(function(e,t){return{$:16,a:e,b:t}}),L=function(e){return{$:11,a:e}},W=function(e){return{$:2,a:e}},ae=function(e){return{$:7,a:e}},ce=v(function(e,t){return{$:14,a:e,b:t}}),fe=v(function(e,t){return{$:17,a:e,b:t}}),st=v(function(e,t){return{$:15,a:e,b:t}}),ue=v(function(e,t){return{$:12,a:e,b:t}}),nt=Ue,_e=v(function(e,t){switch(t.$){case 0:return M;case 1:var i=t.a;return T(u(a,_e(e),i));case 2:return W(u(nt,e,t.a));case 3:return{$:3,a:t.a};case 4:return function(S){return{$:4,a:S}}(t.a);case 6:return K;case 5:return function(S){return{$:5,a:S}}(t.a);case 7:return ae(t.a);case 8:return B(u($,t.a,e));case 9:return Y(u($,t.a,e));case 10:return F(u($,t.a,e));case 16:var o=t.b;return u(H,u($,t.a,e),o);case 11:return L(u($,t.a,e));case 12:var s=t.b;return u(ue,u($,t.a,e),s);case 13:return s=t.b,u(I,u($,t.a,e),s);case 14:var d=t.b;return u(ce,u($,t.a,e),d);case 17:var p=t.b;return u(fe,u($,t.a,e),p);default:var k=t.b;return u(st,u($,t.a,e),k)}}),Qr=v(function(e,t){return u(oa,e,-t)}),We=N(function(e,t,i){return e(t(i))}),Sn=nr,bt=v(function(e,t){return _(u(Sn,u(We,u(We,Ie,e),et),u(c,u(We,u(We,Ie,e),ct),t)))}),Xr=ea,eo=function(e){return{$:0,a:e}},Mc=function(e){return e.$?"elmtaskport://"+e.a+"/"+e.c+"?v=2.0.1&nsv="+e.b:"elmtaskport:///"+e.a+"?v=2.0.1"},Bc=v(function(e,t){return{$:3,a:e,b:t}}),Fc=function(e){return{$:0,a:e}},Lc=v(function(e,t){return{$:4,a:e,b:t}}),Uc={$:2},Yc=function(e){return{$:1,a:e}},Hc=function(e){return{$:0,a:e}},Vc={$:1},on={$:-2},Ot=on,to=function(e){return!e.$},no=Pu,ro=dt,Kn=v(function(e,t){e:for(;;){if(t.$===-2)return X;var i=t.c,o=t.d,s=t.e;switch(u(ro,e,t.b)){case 0:t=o;continue e;case 1:return ne(i);default:t=s;continue e}}}),ge=we(function(e,t,i,o,s){return{$:-1,a:e,b:t,c:i,d:o,e:s}}),Zr=we(function(e,t,i,o,s){if(s.$!==-1||s.a){if(o.$!==-1||o.a||o.d.$!==-1||o.d.a)return Z(ge,e,t,i,o,s);var d=o.d;return p=o.e,Z(ge,0,o.b,o.c,Z(ge,1,d.b,d.c,d.d,d.e),Z(ge,1,t,i,p,s))}var p,k=s.b,S=s.c,C=s.d,R=s.e;return o.$!==-1||o.a?Z(ge,e,k,S,Z(ge,0,t,i,o,C),R):Z(ge,0,t,i,Z(ge,1,o.b,o.c,o.d,p=o.e),Z(ge,1,k,S,C,R))}),va=N(function(e,t,i){if(i.$===-2)return Z(ge,0,e,t,on,on);var o=i.a,s=i.b,d=i.c,p=i.d,k=i.e;switch(u(ro,e,s)){case 0:return Z(Zr,o,s,d,D(va,e,t,p),k);case 1:return Z(ge,o,s,t,p,k);default:return Z(Zr,o,s,d,p,D(va,e,t,k))}}),eu=N(function(e,t,i){var o=D(va,e,t,i);return o.$!==-1||o.a?o:Z(ge,1,o.b,o.c,o.d,o.e)}),uo=function(e){if(e.$===-1&&e.d.$===-1&&e.e.$===-1){if(e.e.d.$!==-1||e.e.d.a){var t=e.d,i=e.e;return p=i.b,k=i.c,o=i.d,R=i.e,Z(ge,1,e.b,e.c,Z(ge,0,t.b,t.c,t.d,t.e),Z(ge,0,p,k,o,R))}var o,s=e.d,d=e.e,p=d.b,k=d.c,S=(o=d.d).d,C=o.e,R=d.e;return Z(ge,0,o.b,o.c,Z(ge,1,e.b,e.c,Z(ge,0,s.b,s.c,s.d,s.e),S),Z(ge,1,p,k,C,R))}return e},io=function(e){if(e.$===-1&&e.d.$===-1&&e.e.$===-1){if(e.d.d.$!==-1||e.d.d.a){var t=e.d,i=t.d,o=e.e;return R=o.b,U=o.c,z=o.d,G=o.e,Z(ge,1,s=e.b,d=e.c,Z(ge,0,t.b,t.c,i,S=t.e),Z(ge,0,R,U,z,G))}var s=e.b,d=e.c,p=e.d,k=p.d,S=p.e,C=e.e,R=C.b,U=C.c,z=C.d,G=C.e;return Z(ge,0,p.b,p.c,Z(ge,1,k.b,k.c,k.d,k.e),Z(ge,1,s,d,S,Z(ge,0,R,U,z,G)))}return e},zc=function(e){return ke(7,e,function(t){return function(i){return function(o){return function(s){return function(d){return function(p){return function(k){return e(t,i,o,s,d,p,k)}}}}}}})}(function(e,t,i,o,s,d,p){if(d.$!==-1||d.a){e:for(;;){if(p.$===-1&&p.a===1){if(p.d.$===-1){if(p.d.a===1)return io(t);break e}return io(t)}break e}return t}return Z(ge,i,d.b,d.c,d.d,Z(ge,0,o,s,d.e,p))}),$i=function(e){if(e.$===-1&&e.d.$===-1){var t=e.a,i=e.b,o=e.c,s=e.d,d=s.d,p=e.e;if(s.a===1){if(d.$!==-1||d.a){var k=uo(e);if(k.$===-1){var S=k.e;return Z(Zr,k.a,k.b,k.c,$i(k.d),S)}return on}return Z(ge,t,i,o,$i(s),p)}return Z(ge,t,i,o,$i(s),p)}return on},Fu=v(function(e,t){if(t.$===-2)return on;var i=t.a,o=t.b,s=t.c,d=t.d,p=t.e;if(0>pe(e,o)){if(d.$===-1&&d.a===1){var k=d.d;if(k.$!==-1||k.a){var S=uo(t);if(S.$===-1){var C=S.e;return Z(Zr,S.a,S.b,S.c,u(Fu,e,S.d),C)}return on}return Z(ge,i,o,s,u(Fu,e,d),p)}return Z(ge,i,o,s,u(Fu,e,d),p)}return u(Wc,e,function(R,U,z,G,te,ye,le,he){return R.a===7?R.f(U,z,G,te,ye,le,he):R(U)(z)(G)(te)(ye)(le)(he)}(zc,e,t,i,o,s,d,p))}),Wc=v(function(e,t){if(t.$===-1){var i=t.a,o=t.b,s=t.c,d=t.d,p=t.e;if(se(e,o)){var k=function(S){for(;;){if(S.$!==-1||S.d.$!==-1)return S;S=S.d}}(p);return k.$===-1?Z(Zr,i,k.b,k.c,d,$i(p)):on}return Z(Zr,i,o,s,d,u(Fu,e,p))}return on}),ba=v(function(e,t){var i=u(Fu,e,t);return i.$!==-1||i.a?i:Z(ge,1,i.b,i.c,i.d,i.e)}),ya=N(function(e,t,i){var o=t(u(Kn,e,i));return o.$?u(ba,e,i):D(eu,e,o.a,i)}),Gc=v(function(e,t){return{$:3,a:e,b:t}}),tu=function(e){return{$:0,a:e}},Jc={$:0},ao=function(e){return{$:4,a:e}},ma=Kt,Qc=v(function(e,t){return{$:0,a:e,b:t}}),Xc=function(e){return{$:1,a:e}},Zc=oe(function(e,t,i,o){return{aJ:o,x:t,bS:e,be:i}}),oo=ta,es=function(e){return u(oo,e,En(0))},xi=function(e){return{$:3,b:e}},ts=ua,ns=function(e){return{$:5,c:e}},ga=function(e){return{$:11,g:e}},co=Zu;function wa(){return ga(w([D(Mu,Qc,u(x,"name",g),_a()),u(at,Xc,co)]))}function _a(){return Z(ts,Zc,u(x,"name",g),u(x,"message",g),u(x,"stackLines",xi(g)),u(x,"cause",ga(w([ns(X),u(at,ne,es(function(){return wa()}))]))))}var so=wa();wa=function(){return so};var rs=_a();_a=function(){return rs};var fo,ka,$a=function(e){return et(tu(ao("Runtime error in JavaScript interop: "+e+". JavaScript console may contain more information about the issue.")))},us=v(function(e,t){switch(t.$){case 0:return $a("bad url "+t.a);case 1:return $a("timeout");case 2:return et(tu(Jc));case 3:var i=t.a.b7,o=t.b;if(i===400)return et(tu({$:2,a:o}));if(i===404)return et(tu(function(p){return{$:1,a:p}}(o)));if(i===500){var s=u(ma,so,o);return et(s.$?tu(ao(Qn(s.a))):function(p){return{$:1,a:p}}(s.a))}return $a("unexpected status "+Dt(i));default:var d=u(ma,e,o=t.b);return d.$?et(tu(u(Gc,d.a,o))):ct(d.a)}}),is=u(Ct,"",Ae),lo=N(function(e,t,i){return{aI:(o=i,u(sr,"application/json",u(Du,0,o))),aT:q,bP:"POST",a7:is(us(t)),cc:X,ce:Mc(e)};var o}),as=Ar,os=function(e){return e.$?as(e.a):Ie(e.a)},ho=function(e){return D(si,0,os,{bs:!1,aI:e.aI,ar:e.a7,aT:e.aT,bP:e.bP,cc:e.cc,bj:X,ce:e.ce})},cs=v(function(e,t){return ho(D(lo,e.bG,e.cf,e.bu(t)))}),br=v(function(e,t){return u(cs,{bu:e.bu,bG:eo(e.bG),cf:e.cf},t)}),yt=mn,ss=v(function(e,t){var i=br({bu:yt,bG:"deleteItem",cf:Xr});return u(bt,e,i(t))}),An=mn,nu=function(e){return D(Ft,v(function(t,i){return D(Gt,t.a,t.b,i)}),{},e)},fs=v(function(e,t){var i={bS:e.aO.bS,bm:e.aO.bm},o=br({bu:function(s){return nu(w([A("name",yt(s.bS)),A("version",An(s.bm))]))},bG:"initDb",cf:Xr});return u(bt,t,o(i))}),po=function(e){return u(m,xt,Fe(function(){try{Pn.location=e}catch{Xe.location.reload(!1)}}))},cn=E(q),yr=Ae,ls=(fo=yr,Fe(function(e){e($t(fo(Date.now())))})),vo=ht,ds=v(function(e,t){return{af:e,ai:t}}),bo=function(e){return function(t){return ho(D(lo,t.bG,t.cf,null))}({bG:eo(e.bG),cf:e.cf})},hs=we(function(e,t,i,o,s){return{aM:o,bK:e,ai:i,bS:t,bl:s}}),mr=gu,ps=ia,yo=Et(ps,hs,u(x,"id",mr),u(x,"name",g),u(x,"items",xi(g)),u(x,"created",u(at,yr,mr)),u(x,"updated",u(at,yr,mr))),mo=function(e){return function(t){return function(i){return function(o){return function(s){return function(d){return function(p){return function(k){return function(S){return function(C){return{by:o,aM:k,bE:C,bK:e,bS:t,b$:i,b6:s,ak:p,ca:d,bl:S}}}}}}}}}}},go=ra,vs=wu,wo=function(e){return ga(w([u(at,ne,e),En(X)]))},Oi=v(function(e,t){return{$:0,a:e,b:t}}),bs=ee,ys=D(Mu,Oi,u(x,"count",bs),u(x,"unit",g)),xa=u(oo,function(e){return Ge(go,e,u(x,"created",u(at,yr,mr)),u(x,"updated",u(at,yr,mr)),u(x,"frequency",mr))},function(e,t,i,o,s,d,p,k,S){return e.a===8?e.f(t,i,o,s,d,p,k,S):e(t)(i)(o)(s)(d)(p)(k)(S)}(vs,mo,u(x,"id",g),u(x,"name",g),u(x,"quantity",ys),u(x,"comment",wo(g)),u(x,"slug",g),u(x,"symbol",wo(g)),u(x,"state",u(at,function(e){switch(e){case"stuffed":default:return 0;case"required":return 1;case"in-basket":return 2}},g)))),_o=function(e){return D(Ft,v(function(t,i){return D(eu,t.a,t.b,i)}),Ot,e)},ko=function(e){return u(at,_o,function(t){return{$:8,b:t}}(e))},ms=v(function(e,t){var i=br({bu:yt,bG:"queryBySlug",cf:xa});return u(bt,e,i(t))}),gs=Vn,Oa=v(function(e,t){return D(Ft,function(i){return v(function(o,s){return s.push(i(o)),s})}(e),[],t)}),Pa=function(e){return nu(w([A("id",An(e.bK)),A("name",yt(e.bS)),A("items",u(Oa,yt,e.ai)),A("created",An(e.aM)),A("updated",An(e.bl))]))},ws=v(function(e,t){var i=br({bu:Pa,bG:"storeCategory",cf:Xr});return u(bt,e,i(t))}),_s=mn,ks=function(e){return e.b},Ce=v(function(e,t){return t.$?X:ne(e(t.a))}),Qe=v(function(e,t){return t.$?e:t.a}),$o=function(e){return u($,Ce(e),Qe(null))},Pi=function(e){return nu(w([A("id",yt(e.bK)),A("name",yt(e.bS)),A("quantity",(i=e.b$,nu(w([A("count",_s((o=i,o.a))),A("unit",yt(ks(i)))])))),A("comment",u($o,yt,e.by)),A("slug",yt(e.b6)),A("symbol",u($o,yt,e.ca)),A("state",(t=e.ak,yt(function(s){switch(s){case 0:return"stuffed";case 1:return"required";default:return"in-basket"}}(t)))),A("frequency",An(e.bE)),A("created",An(e.aM)),A("updated",An(e.bl))]));var t,i,o},$s=v(function(e,t){var i=br({bu:Pi,bG:"storeItem",cf:Xr});return u(bt,e,i(t))}),Ea=N(function(e,t,i){for(;;){if(i.$===-2)return t;var o=i.e,s=e,d=D(e,i.b,i.c,D(Ea,e,t,i.d));e=s,t=d,i=o}}),ja=N(function(e,t,i){return D(Ea,N(function(o,s,d){return D(Gt,e(o),t(s),d)}),{},i)}),xs=v(function(e,t){var i=br({bu:u(ja,Ae,Pi),bG:"storeAllItems",cf:Xr});return u(bt,e,i(t))}),Os=function(e){return nu(w([A("version",An(e.bm)),A("items",D(ja,Ae,Pi,e.ai)),A("categories",u(Oa,Pa,e.af))]))},Ps=v(function(e,t){var i=br({bu:Os,bG:"storeDump",cf:Xr});return u(bt,e,i(t))}),Ei=v(function(e,t){switch(t.$){case 0:return cn;case 1:var i=t.a;return E(u(a,Ei(e),i));case 2:return t.a;case 3:return u(vo,e.as,t.a);case 4:return u(gs,e.as,t.a);case 6:return u(Qr,e.as,1);case 5:return po(t.a);case 7:return u(m,e.bF,Ie(t.a));case 8:return u(m,t.a,ls);case 9:return u(fs,e.b5,t.a);case 10:return function(o){var s=D(Mu,ds,u(x,"categories",xi(yo)),u(x,"items",ko(xa))),d=bo({bG:"queryAllCatsAndItems",cf:s});return u(bt,o,d)}(t.a);case 16:return u(ms,t.a,t.b);case 11:return function(o){var s=bo({bG:"getUuid",cf:g});return u(bt,o,s)}(t.a);case 12:return u($s,t.a,t.b);case 13:return u(ss,t.a,t.b);case 14:return u(xs,t.a,t.b);case 17:return u(ws,t.a,t.b);default:return u(Ps,t.a,t.b)}}),xo=v(function(e,t){return u(Ei,{ad:O,bF:j,as:e.as,b5:e.b5,al:u($,Ie,m(Ae)),ce:e.ce},u(_e,j,t))}),Lu=v(function(e,t){return t.$?X:e(t.a)}),Oo={$:4},Po={$:0},Eo=function(e){return{$:1,a:e}},jo={$:2},So={$:3},Cn=v(function(e,t){return D(r,v(function(i,o){return e(i)?u(Je,i,o):o}),q,t)}),Es=function(e){return!e},Ko=function(e){return e.trim()},js=function(e){var t=u(Cn,u($,Ko,u($,Pe,Es)),u(Gn,"/",e));e:for(;;){if(!t.b)return ne(Po);if(t.b.b){if(t.a!=="items"||t.b.b.b)break e;return ne(Eo({g:t.b.a}))}switch(t.a){case"settings":return ne(jo);case"shopping":return ne(So);default:break e}}return X},Sa=function(e){var t,i,o=e.b_?"https://":"http://",s=(t=e.bZ).$?"":":"+Dt(t.a);return vr((i=w([o,e.bJ,s,u(Qe,"",e.bD)]),u(pt,"",i)))},ji=function(e){return u(Qe,Oo,u(Lu,js,u(Ce,function(t){return t.bY},Sa(e))))},Ss=N(function(e,t,i){var o=e(t);return o.$?i:u(Je,o.a,i)}),Si=v(function(e,t){return D(r,Ss(e),q,t)}),Ao=function(e){try{return ne(decodeURIComponent(e))}catch{return X}},Ka=function(e){return u(Qe,e,Ao(e))},Ks=function(e){if(e.b){if(e.b.b){var t=e.b.a;return ne(A(Ka(e.a),Ka(t)))}return ne(A(Ka(e.a),""))}return X},As=function(e){var t=u(Lu,function(o){return o.b0},Sa(e));if(t.$===1)return Ot;var i=t.a;return Pe(i)?Ot:_o(u(Si,u($,Gn("="),Ks),u(Gn,"&",i)))},re=v(function(e,t){return{bH:u(Lu,function(i){return i.bD},Sa(t)),bX:e,bY:ji(t),b0:As(t),ce:t}}),Cs=function(e){return{$:1,a:e}},Ts=v(function(){return A({aO:{bS:"grocery-list",bf:0,bm:1},aq:X,bb:{cb:2},aF:"ÐÐ¾ÐºÑÐ¿ÐºÐ¸: "},Y(Cs))}),Co=function(e){return{$:0,a:e}},gr=function(e){return{$:0,a:e}},To=v(function(e,t){return{$:1,a:e,b:t}}),wr=function(e){return{$:1,a:e}},Do=function(e){return{$:4,a:e}},_r=function(e){return{$:4,a:e}},Te=function(e){return{$:2,a:e}},Io=function(e){return{$:2,a:e}},kr=function(e){return{$:2,a:e}},qo=function(e){return{$:3,a:e}},$r=function(e){return{$:3,a:e}},sn=v(function(e,t){return u(Ei,{ad:O,bF:j,as:e.as,b5:e.b5,al:u($,Ie,m(Ae)),ce:e.ce},u(_e,Te,t))}),Uu=function(e){return e.P},Ki=function(e){return{$:3,a:e}},Ro=v(function(e,t){return u(Ei,{ad:O,bF:j,as:e.as,b5:e.b5,al:u($,Ie,m(Ae)),ce:e.ce},u(_e,Ki,t))}),Ds=function(e){return e.P},je=M,Is=v(function(e){return A({M:e},je)}),No=_n,Tn=No(q),qs=function(){return Tn},Rs=N(function(e,t,i){return A(J(i,{M:t.Y}),je)}),ru=v(function(e,t){return u(De,e,yt(t))}),be=ru("className"),Ns=Ne("footer"),Ms=Ne("header"),Bs=ni,Mo=Bs,Fs=Ne("main"),Ls=function(e){return Ne(Rr(e))},Bo=Eu,Ai=v(function(e,t){return u(Bo,e,{$:0,a:t})}),Us=N(function(e,t,i){return{O:i,bY:e,W:t}}),Ys=Me("fill"),Hs=Me("height"),Fo=v(function(e,t){return u(De,function(i){return i=="innerHTML"||i=="outerHTML"||i=="formAction"?"data-"+i:i}(e),function(i){return typeof i=="string"&&Un.test(i)||Array.isArray(i)&&Un.test(i+"")?"":i}(t))}),Vs=Me("stroke"),zs=Me("stroke-linecap"),Ws=Me("stroke-linejoin"),Aa=Me("stroke-width"),Gs=Me("viewBox"),Js=Me("width"),fn=w([Js("24"),Hs("24"),Ys("none"),Vs("currentColor"),Aa("2"),zs("round"),Ws("round"),Gs("0 0 24 24"),u(Fo,"xmlns",yt("http://www.w3.org/2000/svg")),u(Fo,"style",yt("width:1em;height:1em"))]),He=Me("d"),Ca=ur("http://www.w3.org/2000/svg"),Ve=Ca("path"),ln=Ca("svg"),Lo=Ne("li"),Qs=function(e){return u(ln,qe(fn,e),w([u(Ve,w([He("M3 5h.01")]),q),u(Ve,w([He("M3 12h.01")]),q),u(Ve,w([He("M3 19h.01")]),q),u(Ve,w([He("M8 5h13")]),q),u(Ve,w([He("M8 12h13")]),q),u(Ve,w([He("M8 19h13")]),q)]))},Xs=Ne("nav"),Ci=Ca("circle"),Ti=Me("cx"),Di=Me("cy"),Ii=Me("r"),Zs=function(e){return u(ln,qe(fn,e),w([u(Ve,w([He("M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915")]),q),u(Ci,w([Ti("12"),Di("12"),Ii("3")]),q)]))},ef=function(e){return u(ln,qe(fn,e),w([u(Ci,w([Ti("8"),Di("21"),Ii("1")]),q),u(Ci,w([Ti("19"),Di("21"),Ii("1")]),q),u(Ve,w([He("M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12")]),q)]))},rt=Ne("span"),Ta=Ne("ul"),Uo=Ne("a"),Yo=function(e){return e.b},uu=function(e){return be(u(pt," ",u(a,Wr,u(Cn,Yo,e))))},Ho=function(e){return u(ru,"href",Ln.test(t=e)?"":t);var t},Vo=Xi,zo=function(e){var t=function(){switch(e.$){case 0:return q;case 1:return w(["items",e.a.g]);case 2:return w(["settings"]);case 3:return w(["shopping"]);default:return w(["404"])}}();return u(Vo,"#/",u(pt,"/",t))},tf=function(e){return e.a+"="+e.b},nf=v(function(e,t){return{$:0,a:e,b:t}}),Wo=function(e){return encodeURIComponent(e)},rf=v(function(e,t){return u(nf,Wo(e),Wo(t))}),uf=function(e){return u(rf,e.a,e.b)},af=function(e){return(t=u(a,uf,Bt(e))).b?"?"+u(pt,"&",u(a,tf,t)):"";var t},of=function(e){return Ho(function(t){return u(pt,"",w([zo(t.bY),af(t.b0),u(Qe,"",u(Ce,Vo("#"),t.bH))]))}(e))},cf=At,Be=cf,Go=v(function(e,t){return u(Lo,q,w([u(Uo,w([of({bH:X,bY:t.bY,b0:Ot}),be("link"),uu(w([A("active",se(e.bY,t.bY))]))]),w(t.W===""?[u(rt,w([be("icon-wrapper")]),w([t.O(q)]))]:[u(rt,w([be("icon-wrapper")]),w([t.O(q)])),Be(t.W)]))]))}),Jo=function(e){var t,i=w([{O:Qs,bY:Po,W:"Ð¡Ð¿Ð¸ÑÐ¾Ðº"},{O:ef,bY:So,W:"Ð Ð¼Ð°Ð³Ð°Ð·Ð¸Ð½Ðµ"}]);return u(Xs,w([be("main-nav")]),w([u(Ta,q,w([u(Lo,q,w([u(rt,w([be("link")]),w([u(rt,w([be("icon-wrapper")]),w([(t=q,u(ln,qe(fn,t),w([u(Ve,w([He("m2 2 20 20")]),q),u(Ve,w([He("M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193")]),q),u(Ve,w([He("M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07")]),q)])))]))]))]))])),u(Ta,w([be("group")]),u(a,Go(e),i)),u(Ta,q,w([u(Go,e,D(Us,jo,"",Zs))]))]))},sf=v(function(e,t){var i=t.bQ,o=t.m;return{aI:w([D(Ls,"on-click-outside",w([u(Ai,"clickoutside",En(e.aj))]),w([u(Ms,w([be("nav-header container")]),w([u(Mo,Jo,i.M)])),u(Fs,w([be("app-main container")]),o.aI),u(Ns,w([be("nav-footer container")]),w([u(Mo,Jo,i.M)]))]))]),bi:o.bi}}),ff=v(function(e,t){return J(t,{T:ne(e)})}),Yu=N(function(e,t,i){return u(ff,Ae,{P:(o={P:Is(i),U:qs,ab:Rs(e),ac:sf(e)}).P,S:X,F:Ot,T:X,az:0,U:o.U,ab:o.ab,ac:o.ac});var o}),Hu=v(function(e,t){var i=A(t,e.d);if(i.b.$){var o=u(Ds,D(Yu,i.a,e.b5,u(re,0,e.ce)),0);return A({R:o.a},u(Ro,e,u(_e,Ae,o.b)))}return A(i.b.a,cn)}),dn=v(function(e,t){return u(Ce,function(i){return i(e)},t.Z)}),lf=v(function(e,t){return{aj:e(t.aj)}}),hn=v(function(e,t){return u(lf,e,t)}),Ut=N(function(e,t,i){var o=i.b;return A(e(i.a),t(o))}),xr={$:2},Qo=function(e){return{$:1,a:e}},Da=T,Xo=Ot,Ia=function(e){return F(e)},df=function(){return A({ae:X,af:q,D:Xo,ao:xr,aq:X,ai:Ot,aF:"ÐÐ¾ÐºÑÐ¿ÐºÐ¸: "},Da(w([Ia(function(e){return e.$?Qo(X):{$:2,a:e.a}})])))},Vu=function(e){return{P:e.P,S:X,F:Ot,T:X,U:e.U,Z:X,ab:e.ab,ac:e.ac}},hf=function(){return Tn},pf={$:4},vf=function(){return{aj:pf}},qa=function(e){return{$:1,a:e}},Ra=function(e){return{$:0,a:e}},Na={$:0},Zo=function(e){return{$:3,a:e}},ec=v(function(e,t){return t.b?D(r,Je,t,e):e}),tc=function(e){return e.b?ne(e.a):X},bf=v(function(e,t){return tc(u(Cn,function(i){return se(i.bK,t)},e))}),iu=function(e){return e.$===1?Qo(X):Na},nc=function(e){return L(e)},rc=v(function(e,t){return u(fe,e,t)}),qi=v(function(e,t){return u(ue,e,t)}),uc=tn("focus"),yf=v(function(e,t){return{$:6,a:e,b:t}}),mf=v(function(e,t){return u(I,e,t)}),ic=v(function(e,t){return D(eu,e,0,t)}),Ma=v(function(e,t){for(;;){if(!t.b)return!1;var i=t.b;if(e(t.a))return!0;t=i}}),Ri=v(function(e,t){return u(Ma,function(i){return se(i,e)},t)}),ac=v(function(e,t){return u(ba,e,t)}),gf=v(function(e,t){return u(Ri,e,t.ai)?J(t,{ai:u(Cn,function(i){return!se(i,e)},t.ai)}):t}),zu=W,wf=v(function(e,t){return D(ya,e,Ce(function(i){return J(i,{bE:i.bE+1})}),t)}),oc=N(function(e,t,i){return D(ya,t,Ce(function(o){return J(o,{ak:e})}),i)}),_f=N(function(e,t,i){var o=i?0:1;return A(J(e,{ai:u($,wf(t.bK),u(oc,o,t.bK))(e.ai)}),u(qi,iu,J(t,{ak:o})))}),cc=N(function(e,t,i){switch(t){case 0:return J(e,{bS:i});case 3:return J(e,{by:ne(i)});case 1:var o=u(Qe,0,function(s){if(s.length===0||/[\sxbo]/.test(s))return X;var d=+s;return d==d?ne(d):X}(i));return J(e,{b$:u(Oi,o,e.b$.b)});case 2:return J(e,{b$:u(Oi,e.b$.a,i)});default:return e}}),sc=N(function(e,t,i){switch(e.$){case 0:return Ra(D(cc,e.a,t,i));case 1:return qa(D(cc,e.a,t,i));default:return xr}}),kf=v(function(e,t){switch(t.$){case 0:var i=t.a;return A(J(e,{D:s=u(t.b?ic:ac,i,e.D)}),je);case 2:return D(_f,e,t.a,t.b);case 8:var o=t.c;return A(J(e,{ao:qa(t.a)}),zu(u(bt,function(){return Na},uc(o))));case 9:var s,d=t.b,p=t.c;return e.ao.$===2?A(e,je):A(J(e,{ao:s=D(sc,e.ao,d,p)}),(C=yf(s),B(C)));case 5:return A(J(e,{ae:ne((S=t.a).bK)}),nc(Zo));case 6:return A(J(e,{ao:D(sc,e.ao,d=t.a,p=t.b)}),je);case 10:var k=t.a,S=tc(u(Cn,function(R){return u(Ri,k,R.ai)},e.af));return A(J(e,{af:u(a,gf(k),e.af),ai:u(ba,k,e.ai)}),Da(w([u(mf,iu,k),u(Qe,je,u(Ce,rc(iu),S))])));default:return A(e,je)}var C}),$f=pn,xf=v(function(e,t){return J(t,{ai:u($f,function(i){var o=u(Kn,i,e);return o.$?0:0-o.a.bE},t.ai)})}),Of=v(function(e,t){switch(e.$){case 0:return A(t,je);case 1:return A(J(t,{aq:e.a}),je);case 3:var i=e.a;if(i.$)return A(t,je);var o=i.a,s="item-name-"+o;return A(J(t,{ao:Ra((C=ne(o),mo(u(Qe,"empty",C))("")(u(Oi,1,"ÑÑÑÐº"))(X)("")(X)(1)(yr(0))(yr(0))(0)))}),zu(u(bt,function(){return Na},uc(s))));case 4:return function(R){var U=R.ao;switch(U.$){case 2:return A(R,je);case 1:return A(J(R,{ao:xr,ai:D(eu,(z=U.a).bK,z,R.ai)}),u(qi,iu,z));default:var z;if(Pe((z=U.a).bS))return A(J(R,{ae:X,ao:xr}),je);var G=u(Lu,function(te){return ne(J(te,{ai:u(ec,te.ai,w([z.bK]))}))},u(Lu,bf(R.af),R.ae));return A(J(R,{ae:X,af:function(){if(G.$)return R.af;var te=G.a;return u(a,function(ye){return se(ye.bK,te.bK)?te:ye},R.af)}(),ao:xr,ai:D(eu,z.bK,z,R.ai)}),Da(w([u(qi,iu,z),nc(Zo),u(Qe,je,u(Ce,function(te){return u(rc,iu,te)},G))])))}}(t);case 2:var d=e.a;return A(J(t,{af:u(a,xf(d.ai),d.af),ai:d.ai}),je);case 5:return u(kf,t,e.a);default:var p=e.a,k=e.b,S=function(){switch(p.$){case 2:return xr;case 0:return Ra(J(p.a,{bl:k}));default:return qa(J(p.a,{bl:k}))}}();return A(J(t,{ao:S}),je)}var C}),Pf=function(e){return{$:5,a:e}},au=ti,fc=function(e){return{ae:X,af:e.af,L:e.am,ag:e.ag,an:!1,ao:xr,ap:!1,ai:e.ai,at:!1,au:!1,H:!1}},lc=function(e){return Qt(Rr(e))},Yt=Ne("div"),Ba=v(function(e,t){return!u(Kn,e,t).$}),Ef=v(function(e,t){return u(Ba,e,t)}),jf=v(function(e,t){return u(Yt,w([be("category-body"),uu(w([A("collapsed",e===1)]))]),t)}),Sf=v(function(e,t){return{$:0,a:e,b:t}}),dc=function(e){return u(ln,qe(fn,e),w([u(Ve,w([He("m9 18 6-6-6-6")]),q)]))},hc=Ne("h3"),Ht=function(e){return u(Ai,"click",En(e))},Ni=v(function(e,t){if(t.$===-2)return on;var i=t.b,o=t.d,s=t.e;return Z(ge,t.a,i,u(e,i,t.c),u(Ni,e,o),u(Ni,e,s))}),pc=N(function(e,t,i){var o=rn(u(Cn,function(d){return u(Ba,d,e)},t)),s=rn(u(Cn,function(d){return se(u(Kn,d,e),ne(i))},t));return u(rt,w([be("counter"),uu(w([A("all-done",pe(s,o)>-1)]))]),w([Be(Dt(s)+" / "+Dt(o))]))}),Kf=N(function(e,t,i){return i?w([D(pc,u(Ni,v(function(o,s){return s.ak}),e),t,2)]):q}),Af=function(e){return J(e,{an:!0})},Cf=N(function(e,t,i){return u(au,function(s){return u(Sf,s,t?0:1)},function(s){var d,p=s,k=u(rt,q,w([Be(p.K.bS)])),S=u(rt,w([be("chevron"),Ht(p.K.bK)]),w([p.ak?dc(q):(d=q,u(ln,qe(fn,d),w([u(Ve,w([He("m6 9 6 6 6-6")]),q)])))]));return u(hc,q,u(Je,k,qe(D(Kf,p.ai,p.K.ai,p.an),w([S]))))}((e.an?Af:Ae)({K:(o={K:i,ai:e.ai,ak:t}).K,an:!1,ai:o.ai,ak:o.ak})));var o}),Tf=v(function(e,t){return{$:6,a:e,b:t}}),Mi={$:11},Or=Ne("button"),vc=function(e){return{am:e.am,ao:!1,ap:e.ap,g:e.g,at:!1,au:!1,ay:e.ay,H:!1}},Fa=N(function(e,t,i){return{$:2,a:e,b:t,c:i}}),La=N(function(e,t,i){return{$:3,a:e,b:t,c:i}}),Df=v(function(e,t){return{$:1,a:e,b:t}}),If=v(function(e,t){return{$:0,a:e,b:t}}),ou={$:5},qf=Ne("article"),Rf=Ne("h4"),Nf=v(function(e,t){return u(Ri,e,t)}),Pr=v(function(e,t){return u(Me,function(i){return ri.test(i)?"data-"+i:i}(e),function(i){return Un.test(i)?"":i}(t))}),Mf=function(e){return u(ln,qe(fn,e),w([u(Ve,w([He("M20 6 9 17l-5-5")]),q)]))},bc=function(e){return u(Pr,"role",e)},Bf=oe(function(e,t,i,o){return u(Yt,w([bc("checkbox"),u(Pr,"aria-role","checkbox"),uu(w([A("checked",o),A("check",i===1),A("disabled",t)])),Ht(e(!o))]),w([i?Mf(w([Aa("3")])):(s=w([Aa("3")]),u(ln,qe(fn,s),w([u(Ve,w([He("M5 12h14")]),q),u(Ve,w([He("M12 5v14")]),q)])))]));var s}),Bi=oe(function(e,t,i,o){return t.$===1||i.$===1||o.$===1?X:ne(D(e,t.a,i.a,o.a))}),Er=Be(""),cu=ru("id"),Fi=ru("name"),Li=function(e){return u(Ai,"blur",En(e))},Ui=function(e){return u(Ai,"focus",En(e))},Ff=function(e){return A(e,!0)},Lf=v(function(e,t){return u(Bo,e,{$:1,a:t})}),Uf=u(v(function(e,t){return D(r,x,t,e)}),w(["target","value"]),g),Yi=function(e){return u(Lf,"input",u(at,Ff,u(at,e,Uf)))},Yf=Ne("textarea"),Hi=ru("value"),Hf=N(function(e,t,i){return u(rt,w([be("item-comment"),cu(i),Ht(e)]),w([t.$?u(rt,w([be("add-item-comment with-click-outside")]),w([Be("ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ ÐºÐ¾Ð¼Ð¼ÐµÐ½ÑÐ°ÑÐ¸Ð¹")])):Be(t.a)]))}),Vf=function(e){var t="item-comment-"+e.ah;return!e.aD&&e.ay?u(Qe,Er,Ge(Bi,N(function(i,o,s){return function(d){var p=d.w,k=d.q,S=d.l,C=d.p,R=d.m;return u(rt,w([be("grow-container"),u(Pr,"data-content",u(Qe,"",R))]),w([u(Yf,w([Hi(u(Qe,"",R)),be("with-click-outside"),Yi(k),Li(S),Ui(C),Fi(p),u(Me,"rows",Dt(1)),cu(p)]),q)]))}({l:o,m:e.m,w:t,p:s,q:i})}),e.q,e.l,e.p)):D(Hf,u(e.ax,3,t),e.m,t)},yc=v(function(e,t){return e?t:Er}),zf=v(function(e,t){return u(Qe,Er,u(Ce,e,t))}),Ua=Ne("input"),Ya=ru("type"),Wf=N(function(e,t,i){return u(rt,w([cu(i),Ht(e)]),w([Be(t)]))}),Gf=function(e){var t="item-name-"+e.ah;return!e.aD&&e.ay?u(Qe,Er,Ge(Bi,N(function(i,o,s){return function(d){var p=d.w,k=d.q,S=d.l,C=d.p,R=d.m;return u(rt,w([be("input-resize-containter"),u(Pr,"data-content",R)]),w([u(Ua,w([Ya("text"),be("item-name-field with-click-outside"),Hi(R),Yi(k),Li(S),Ui(C),Fi(p),cu(p)]),q)]))}({l:o,m:e.m,w:t,p:s,q:i})}),e.q,e.l,e.p)):D(Wf,u(e.ax,0,t),e.m,t)},mc=Ne("b"),Ha=tr,Jf=v(function(e,t){var i=t.a,o=t.b,s="item-quantity-unit"+e.ah,d="item-quantity-count"+e.ah;return!e.aD&&e.ay?u(rt,q,w([u(Qe,Er,Ge(Bi,N(function(p,k,S){return function(C){var R=C.w,U=C.m,z=C.q,G=C.p,te=C.l;return u(mc,w([be("input-resize-containter"),u(Pr,"data-content",Ha(U))]),w([u(Ua,w([Ya("text"),u(Pr,"inputmode","decimal"),be("item-quantity-count-field with-click-outside"),Hi(Ha(U)),Yi(z),Li(te),Ui(G),Fi(R),cu(R)]),q)]))}({l:k,m:i,w:d,p:S,q:p(1)})}),e.q,e.l,e.p)),u(Qe,Er,Ge(Bi,N(function(p,k,S){return function(C){var R=C.w,U=C.m,z=C.q,G=C.p,te=C.l;return u(rt,w([be("input-resize-containter"),u(Pr,"data-content",U)]),w([u(Ua,w([Ya("text"),be("item-quantity-unit-field with-click-outside"),Hi(U),Yi(z),Li(te),Ui(G),Fi(R),cu(R)]),q)]))}({l:k,m:o,w:s,p:S,q:p(2)})}),e.q,e.l,e.p))])):u(rt,w([Ht(u(e.ax,0,d))]),w([u(mc,q,w([Be(Ha(i))])),u(rt,q,w([Be(o)]))]))}),gc=function(e){var t,i,o,s=e,d=s.at?u(Uo,w([(t=Eo({g:s.g.b6}),Ho(zo(t)))]),w([dc(q)])):Be(""),p=s.au&&s.g.ak===2;return u(qf,w([be("grocery-item"),uu(w([A("in-basket",p),A("item-draft",s.ao)])),Ht(u(If,s.g,s.g.ak))]),w([u(Yt,w([be("label")]),w([Ge(Bf,function(){return u(Df,s.g,s.g.ak)},!1,s.H?0:1,u(Nf,s.g.ak,s.am)),u(Rf,q,w([Gf({l:ne(ou),m:s.g.bS,p:ne(ou),q:ne(u(La,s.g,0)),ah:s.g.bK,ax:Fa(s.g),ay:s.ay,aD:!s.ap}),u(zf,function(k){return u(rt,q,w([Be(k)]))},s.g.ca)]))])),u(rt,w([be("item-quantity")]),w([u(Jf,{l:ne(ou),p:ne(ou),q:ne(La(s.g)),ah:s.g.bK,ax:Fa(s.g),ay:s.ay,aD:!s.H},s.g.b$)])),u(Yt,w([be("item-comment-box")]),w([Vf({l:ne(ou),m:s.g.by,p:ne(ou),q:ne(u(La,s.g,3)),ah:s.g.bK,ax:Fa(s.g),ay:s.ay,aD:!s.H}),u(yc,s.H,u(Yt,w([be("delete-item-button"),Ht((o=s.g.bK,{$:4,a:o}))]),w([(i=q,u(ln,qe(fn,i),w([u(Ve,w([He("M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6")]),q),u(Ve,w([He("M3 6h18")]),q),u(Ve,w([He("M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2")]),q)])))]))),d]))]))},Qf=function(e){var t,i,o=e.K,s=A(e.ay,e.ao);return s.a&&!s.b.$?u(au,function(d){return d.$===3?u(Tf,d.b,d.c):Mi},gc(function(d){return J(d,{ao:!0})}(vc({am:q,ap:!0,g:s.b.a,ay:!0})))):u(Or,w([be("add-item-button outline"),Ht((i=o,{$:5,a:i}))]),w([(t=q,u(ln,qe(fn,t),w([u(Ci,w([Ti("12"),Di("12"),Ii("10")]),q),u(Ve,w([He("M8 12h8")]),q),u(Ve,w([He("M12 8v8")]),q)])))]))},Xf=N(function(e,t,i){return{$:8,a:e,b:t,c:i}}),Zf=N(function(e,t,i){return{$:9,a:e,b:t,c:i}}),el=v(function(e,t){return{$:2,a:e,b:t}}),tl=v(function(e,t){return{$:1,a:e,b:t}}),nl=function(e){return J(e,{at:!0})},rl=function(e){return J(e,{au:!0})},ul=function(e){return J(e,{H:!0})},il=function(e){var t=e.ap;return u(au,function(i){switch(i.$){case 1:return u(el,i.a,i.b);case 0:return u(tl,i.a,i.b);case 2:var o=i.b;return t?D(Xf,i.a,o,i.c):Mi;case 3:return o=i.b,t?D(Zf,i.a,o,i.c):Mi;case 4:return{$:10,a:i.a};default:return Mi}},gc((e.H?ul:Ae)((e.au?rl:Ae)((e.at?nl:Ae)(vc({am:e.L,ap:t,g:e.g,ay:e.ay}))))))},al=v(function(e,t){return D(lc,"div",q,u(a,function(s){var d,p,k=s.a,S=s.b,C=(p=e.ao).$===2?A(!1,S):se((d=p.a).bK,k)?A(!0,d):A(!1,S);return A(k,il({L:e.L,ap:e.ap,g:C.b,at:e.at,au:e.au,ay:C.a,H:e.H}))},(i=A(e.ai,t),o=i.a,u(a,function(s){return A(s.bK,s)},u(Si,Ae,u(a,function(s){return u(Kn,s,o)},i.b.ai))))));var i,o}),ol=v(function(e,t){var i=u(Ef,t.bK,e.ag)?1:0;return A(Dt(t.bK),u(Yt,w([be("grocery-category")]),w([D(Cf,e,i,t),u(jf,i,w([u(al,e,t),u(yc,e.ap,Qf({K:t,ao:e.ao,ay:se(u(Qe,-1,e.ae),t.bK)}))]))])))}),wc=function(e){var t=e;return D(lc,"div",q,u(a,ol(t),t.af))},cl=N(function(e,t,i){return J(i,{ae:e,ao:t,ap:!0})}),sl=function(e){return J(e,{H:!0})},fl=v(function(e,t){return{aI:w([u(au,Pf,wc(D(cl,t.ae,t.ao,sl((i=fc({af:t.af,am:w([1,2]),ag:t.D,ai:t.ai}),J(i,{at:!0}))))))]),bi:e.aF+"Ð¡Ð¿Ð¸ÑÐ¾Ðº"};var i}),Vi=v(function(e,t){return J(t,{Z:ne(e)})}),su=v(function(e){return u(Vi,vf,Vu({P:df,U:hf,ab:Of,ac:fl(e)}))}),ll=N(function(e,t){var i=u(Qe,"",Ao(t.g));return A({ao:X,g:X,b6:i},je)}),dl=function(){return Tn},hl={$:3},pl=function(){return{aj:hl}},vl=N(function(e,t,i){return A(i,je)}),bl=v(function(e,t){return{aI:w([u(Yt,w([be("empty-page")]),w([Be("ÐÐ¸ÑÐµÐ³Ð¾ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ð¾")]))]),bi:qe(e.aF,t.b6)}}),fu=v(function(e,t){return u(Vi,pl,Vu({P:u(ll,e,t.bX),U:dl,ab:vl(e),ac:bl(e)}))}),yl=function(){return A({},je)},ml=function(){return Tn},gl=v(function(e,t){return A(t,je)}),_c=function(e){return{aI:w([Be(e)]),bi:e}},wl=function(){return _c("Page not found")},lu=v(function(){return Vu({P:yl,U:ml,ab:gl,ac:wl})}),_l=function(){return A({aW:X},je)},kl=function(){return Tn},$l={$:0},xl=function(){return{aj:$l}},Ol=function(e){return{$:5,a:e}},Pl=function(e){return{$:4,a:e}},El=function(e){return{$:3,a:e}},jl=v(function(e,t){return u(m,t,function(i){return Fe(function(o){(nn=document.createElement("input")).type="file",nn.accept=u(pt,",",i),nn.addEventListener("change",function(s){o($t(s.target.files[0]))}),Mt(nn)})}(e))}),Sl=Ge(go,N(function(e,t,i){return{af:i,ai:t,bm:e}}),u(x,"version",mr),u(x,"items",ko(xa)),u(x,"categories",xi(yo))),Kl=N(function(e,t,i){return u(m,xt,D(Ku,e,t,i))}),Al=N(function(e,t,i){switch(t.$){case 0:return A(i,je);case 1:return A(i,Ia(Ol));case 2:return A(i,zu(u(jl,w(["application/json"]),El)));case 3:return A(i,zu(u(m,Pl,function(d){return Fe(function(p){var k=new FileReader;return k.addEventListener("loadend",function(){p($t(k.result))}),k.readAsText(d),function(){k.abort()}})}(t.a))));case 4:return A(i,function(d){var p=u(ma,Sl,d);return ae(p.$?{$:3,a:ne(Qn(p.a))}:{$:2,a:p.a})}(t.a));default:var o=t.a;if(o.$)return A(i,je);var s=o.a;return A(i,zu(D(Kl,"grocery-list-backup.json","application/json",u(Du,2,nu(w([A("version",An(e.aO.bm)),A("categories",u(Oa,Pa,s.af)),A("items",D(ja,Ae,Pi,s.ai))]))))))}}),Cl={$:1},Tl={$:2},Dl=Ne("h1"),kc=Ne("h2"),Il=v(function(e){return{aI:w([u(Dl,q,w([Be("ÐÐ°ÑÑÑÐ¾Ð¹ÐºÐ¸")])),u(Yt,q,w([u(kc,q,w([Be("Ð¢ÐµÐ¼Ð°")])),u(Yt,w([be("button-row"),bc("group")]),w([u(Or,q,w([Be("ÐÐ°Ðº Ð² ÑÐ¸ÑÑÐµÐ¼Ðµ")])),u(Or,w([be("secondary")]),w([Be("Ð¡Ð²ÐµÑÐ»Ð°Ñ")])),u(Or,w([be("secondary")]),w([Be("Ð¢ÑÐ¼Ð½Ð°Ñ")]))]))])),u(Yt,q,w([u(kc,q,w([Be("Ð­ÐºÑÐ¿Ð¾ÑÑ Ð¸ Ð¸Ð¼Ð¿Ð¾ÑÑ")])),u(Or,w([Ht(Cl)]),w([Be("Ð­ÐºÑÐ¿Ð¾ÑÑ Ð´Ð°Ð½Ð½ÑÑ")])),u(Or,w([Ht(Tl)]),w([Be("ÐÐ¼Ð¿Ð¾ÑÑ Ð¸Ð· ÑÐ°Ð¹Ð»Ð°")]))]))]),bi:e.aF+"ÐÐ°ÑÑÑÐ¾Ð¹ÐºÐ¸"}}),du=v(function(e){return u(Vi,xl,Vu({P:_l,U:kl,ab:Al(e),ac:Il(e)}))}),Va=function(e){return{$:2,a:e}},ql=function(){return A({af:q,D:Xo,aq:X,ai:Ot},Ia(function(e){return e.$?Va(X):{$:1,a:e.a}}))},Rl=function(){return Tn},za={$:0},Nl=function(){return{aj:za}},$c=v(function(e,t){return u(Ni,v(function(i,o){return e(o)}),t)}),Ml=v(function(e,t){return u(ce,e,t)}),Bl=v(function(e,t){switch(e.$){case 0:case 2:return A(t,je);case 1:var i=e.a;return A(J(t,{af:i.af,ai:i.ai}),je);case 3:var o=u($c,function(S){return S.ak===2?J(S,{ak:0}):S},t.ai);return A(J(t,{ai:o}),u(Ml,function(S){return!S.$&&S.a?za:Va(X)},o));default:var s=e.a;switch(s.$){case 0:var d=s.a;return A(J(t,{D:o=u(s.b?ic:ac,d,t.D)}),je);case 1:var p=s.a,k=s.b===1?2:1;return A(J(t,{ai:D(oc,k,p.bK,t.ai)}),u(qi,function(S){return S.$===1?Va(X):za},J(p,{ak:k})));default:return A(t,je)}}}),Fl=function(e){return{$:4,a:e}},Ll=v(function(e,t){return D(Ea,N(function(i,o,s){return u(e,i,o)?D(eu,i,o,s):s}),Ot,t)}),Ul=v(function(e,t){return u(Ll,v(function(i,o){return u(Ri,o.ak,t)}),e)}),Yl=v(function(e,t){return u(Cn,function(i){return u(Ma,function(o){return u(Ba,o,e)},i.ai)},t)}),xc=v(function(e,t){for(;;){if(t.$===-2)return e;var i=t.d;e=u(xc,e+1,t.e),t=i}}),Wa=function(e){return u(xc,0,e)},Hl=u(Yt,w([be("empty-page")]),w([u(hc,q,w([Be("ÐÑÑ ÐºÑÐ¿Ð»ÐµÐ½Ð¾!")]))])),Vl={$:3},zl=mn,Wl=v(function(e,t){return u(De,e,zl(t))})("disabled"),Oc=function(e){return rn(u(Cn,function(i){return i.ak===2},(t=e,D(zn,N(function(i,o,s){return u(Je,o,s)}),q,t))));var t},Gl=function(e){var t=Wa(e);return t>0&&1>pe(t,Oc(e))},Jl=function(e){return J(e,{an:!0})},Ql=v(function(e,t){return{aI:(s=u(Ul,t.ai,w([1,2])),d=u(Yl,s,t.af),Wa(s)>0?w([u(au,Fl,wc(Jl((o=fc({af:d,am:w([2]),ag:t.D,ai:s}),J(o,{au:!0}))))),(i=s,Wa(i)>0?u(Or,w([be("end-shopping-button"),uu(w([A("all-done",Gl(i))])),Ht(Vl),Wl(0>=Oc(i))]),w([D(pc,u($c,function(p){return p.ak},i),Cu(i),2),Be("ÐÐ°ÐºÐ¾Ð½ÑÐ¸ÑÑ Ð¿Ð¾ÐºÑÐ¿ÐºÐ¸")])):Er)]):w([Hl])),bi:e.aF+"Ð Ð¼Ð°Ð³Ð°Ð·Ð¸Ð½Ðµ"};var i,o,s,d}),hu=v(function(e){return u(Vi,Nl,Vu({P:ql,U:Rl,ab:Bl,ac:Ql(e)}))}),Pc=function(e){var t=ji(e.ce);switch(t.$){case 0:var i=u(Uu,C=u(su,e.b5,u(re,0,e.ce)),0),o=i.a,s=i.b;return{d:u(Ce,Hu(e),u(Ce,hn(u($,gr,Te)),u(dn,o,C))),f:D(Ut,Co,u($,_e(gr),sn(e)),A(o,s))};case 1:var d=t.a,p=u(Uu,C=u(fu,e.b5,u(re,d,e.ce)),0);return o=p.a,s=p.b,{d:u(Ce,Hu(e),u(Ce,hn(u($,wr,Te)),u(dn,o,C))),f:D(Ut,To(d),u($,_e(wr),sn(e)),A(o,s))};case 2:var k=u(Uu,C=u(du,e.b5,u(re,0,e.ce)),0);return o=k.a,s=k.b,{d:u(Ce,Hu(e),u(Ce,hn(u($,kr,Te)),u(dn,o,C))),f:D(Ut,Io,u($,_e(kr),sn(e)),A(o,s))};case 3:var S=u(Uu,C=u(hu,e.b5,u(re,0,e.ce)),0);return o=S.a,s=S.b,{d:u(Ce,Hu(e),u(Ce,hn(u($,$r,Te)),u(dn,o,C))),f:D(Ut,qo,u($,_e($r),sn(e)),A(o,s))};default:var C,R=u(Uu,C=u(lu,e.b5,u(re,0,e.ce)),0);return o=R.a,s=R.b,{d:u(Ce,Hu(e),u(Ce,hn(u($,_r,Te)),u(dn,o,C))),f:D(Ut,Do,u($,_e(_r),sn(e)),A(o,s))}}},Xl=N(function(e,t,i){var o=u(Ts,u(y,P,e),u(re,0,t)),s=o.a,d=o.b,p=Pc({as:i,d:X,b5:s,ce:t}),k=p.f,S=p.d;return A({as:i,d:u(Ce,Wr,S),f:k.a,b5:s,ce:t},E(w([k.b,u(Qe,cn,u(Ce,Yo,S)),u(xo,{as:i,b5:s,ce:t},d)])))}),Pt=Ue,Zl=function(e){return e.U},Wu=function(e){return e.U},ed=v(function(){return Tn}),pu=function(e){var t=e.f;switch(t.$){case 0:var i=t.a;return u(Ce,hn(u($,gr,Te)),u(dn,i,u(su,e.b5,u(re,0,e.ce))));case 1:var o=t.a;return i=t.b,u(Ce,hn(u($,wr,Te)),u(dn,i,u(fu,e.b5,u(re,o,e.ce))));case 2:return i=t.a,u(Ce,hn(u($,kr,Te)),u(dn,i,u(du,e.b5,u(re,0,e.ce))));case 3:return i=t.a,u(Ce,hn(u($,$r,Te)),u(dn,i,u(hu,e.b5,u(re,0,e.ce))));case 4:return i=t.a,u(Ce,hn(u($,_r,Te)),u(dn,i,u(lu,e.b5,u(re,0,e.ce))));default:return X}},Ec=v(function(){return function(e){return{$:3,a:e}}({bH:X,bY:Oo,b0:Ot})}),jc=N(function(e,t,i){return t.$===1||i.$===1?X:ne(u(e,t.a,i.a))}),Sc=v(function(e,t){return A(e,t)}),Kc=function(e){return D(r,ec,q,e)},td=v(function(e,t){var i,o=t;return Kc(w([(i=o.T,i.$?q:w([(0,i.a)(e)])),function(){var s=o.S;if(s.$)return q;var d=s.a;return se(e.N.bH,e.Y.bH)?q:w([d({N:e.N.bH,Y:e.Y.bH})])}(),u(Si,function(s){var d=s.a,p=s.b,k=u(Kn,d,e.Y.b0),S=u(Kn,d,e.N.b0);return se(S,k)?X:ne(p({N:S,Y:k}))},Bt(o.F))]))}),Ac=N(function(e,t,i){var o,s=function(k){var S=k.N,C=k.Y;return u(Ma,function(R){return!R.$},w([D(jc,Sc,S,C),D(jc,Sc,C,S)]))}({N:pu(e),Y:pu(t)}),d=u(re,0,t.ce),p=A(pu(t),t.d);return p.a.$||p.b.$?cn:(o=u(a,Ki,u(a,Ae,u(td,i,D(Yu,p.a.a,t.b5,d)))),s?E(u(a,u($,Ie,m(Ae)),o)):cn)}),Gu=v(function(e,t){var i,o=t;return Kc(w([(i=o.T,i.$?q:w([(0,i.a)(e)])),function(){var s=o.S;if(s.$)return q;var d=s.a;return se(e.N.bH,e.Y.bH)?q:w([d({N:e.N.bH,Y:e.Y.bH})])}(),u(Si,function(s){var d=s.a,p=s.b,k=u(Kn,d,e.Y.b0),S=u(Kn,d,e.N.b0);return se(S,k)?X:ne(p({N:S,Y:k}))},Bt(o.F))]))}),nd=v(function(e,t){var i=function(s){return E(u(a,u($,Ie,m(Ae)),s))},o=e.f;switch(o.$){case 0:return i(u(a,Te,u(a,gr,u(Gu,t,u(su,e.b5,u(re,0,e.ce))))));case 1:return i(u(a,Te,u(a,wr,u(Gu,t,u(fu,e.b5,u(re,o.a,e.ce))))));case 2:return i(u(a,Te,u(a,kr,u(Gu,t,u(du,e.b5,u(re,0,e.ce))))));case 3:return i(u(a,Te,u(a,$r,u(Gu,t,u(hu,e.b5,u(re,0,e.ce))))));case 4:return i(u(a,Te,u(a,_r,u(Gu,t,u(lu,e.b5,u(re,0,e.ce))))));default:return cn}}),rd=v(function(e,t){return e.$===1?t:t+":"+Dt(e.a)}),Cc=N(function(e,t,i){return t.$===1?i:qe(i,qe(e,t.a))}),ud={$:0},id=v(function(e,t){return u(st,e,t)}),ad=v(function(e,t){return J(e,{bf:t})}),od=N(function(e,t,i){switch(t.$){case 0:return A(i,je);case 1:return A(J(i,{aO:u(ad,i.aO,t.a.$?2:1)}),je);case 3:return A(J(i,{aq:t.a}),je);default:return A(i,u(id,function(){return ud},t.a))}}),cd=function(e){return e.ab},sd=v(function(e,t){var i=u(re,0,t.ce),o={a:pu(t),b:t.d,c:e};if(o.a.$||o.b.$)return A(t.d,cn);var s=o.a.a,d=o.b.a,p=o.c;return D(Ut,function(k){return ne(J(d,{R:k}))},u($,_e(Ae),Ro(t)),D(cd,D(Yu,s,t.b5,i),p,d.R))}),Ju=function(e){return e.ab},fd=v(function(e,t){var i=A(e,t.f);e:for(;;)switch(i.a.$){case 0:if(i.b.$)break e;var o=i.a.a,s=i.b.a;return D(Ut,Co,u($,_e(gr),sn(t)),D(Ju,u(su,t.b5,u(re,0,t.ce)),o,s));case 1:if(i.b.$===1){o=i.a.a;var d=i.b,p=d.a;return s=d.b,D(Ut,To(p),u($,_e(wr),sn(t)),D(Ju,u(fu,t.b5,u(re,p,t.ce)),o,s))}break e;case 2:if(i.b.$===2)return o=i.a.a,s=i.b.a,D(Ut,Io,u($,_e(kr),sn(t)),D(Ju,u(du,t.b5,u(re,0,t.ce)),o,s));break e;case 3:if(i.b.$===3)return o=i.a.a,s=i.b.a,D(Ut,qo,u($,_e($r),sn(t)),D(Ju,u(hu,t.b5,u(re,0,t.ce)),o,s));break e;default:if(i.b.$===4)return o=i.a.a,s=i.b.a,D(Ut,Do,u($,_e(_r),sn(t)),D(Ju,u(lu,t.b5,u(re,0,t.ce)),o,s));break e}return A(t.f,cn)}),ld=v(function(e,t){switch(e.$){case 0:return e.a.$?Pe(Ko(i=e.a.a))?A(t,cn):A(t,po(i)):A(t,u(vo,t.as,function(he){return D(Cc,"#",he.bD,D(Cc,"?",he.b0,qe(u(rd,he.bZ,qe(he.b_?"https://":"http://",he.bJ)),he.bY)))}(i=e.a.a)));case 1:var i;if(se(ji(i=e.a),ji(t.ce)))return A(o=J(t,{ce:i}),E(w([u(nd,o,{N:u(re,0,t.ce),Y:u(re,0,o.ce)}),D(Ac,t,o,{N:u(re,0,t.ce),Y:u(re,0,o.ce)})])));var o,s=Pc({as:t.as,d:t.d,b5:t.b5,ce:i}),d=s.f,p=s.d,k=function(){if(p.$)return A(X,cn);var he=p.a,Ke=he.b;return A(ne(he.a),Ke)}(),S=k.b,C=d.b;return A(o=J(t,{d:k.a,f:d.a,ce:i}),E(w([C,S,D(Ac,t,o,{N:u(re,0,t.ce),Y:u(re,0,o.ce)})])));case 2:var R=u(fd,e.a,t);return C=R.b,A(J(t,{f:R.a}),C);case 3:var U=u(sd,e.a,t);return S=U.b,A(J(t,{d:U.a}),S);case 4:var z=e.a,G=D(od,u(re,0,t.ce),z,t.b5),te=G.a,ye=G.b;return A(u(Ec,t.b5,u(re,0,t.ce)),u(Ec,te,u(re,0,t.ce))),A(J(t,{b5:te}),u(xo,J(t,{b5:te}),ye));default:var le=e.a;return A(t,E(u(a,u($,Ie,m(Ae)),le)))}}),dd=function(e){return e.ac},Vt=v(function(e,t){return{aI:u(a,au(e),t.aI),bi:t.bi}}),hd={aI:q,bi:""},Qu=function(e){return e.ac},pd=v(function(){return _c("Loading...")}),Tc=function(e){var t=e.f;switch(t.$){case 0:var i=t.a;return u(Vt,Te,u(Vt,gr,u(Qu,u(su,e.b5,u(re,0,e.ce)),i)));case 1:return i=t.b,u(Vt,Te,u(Vt,wr,u(Qu,u(fu,e.b5,u(re,t.a,e.ce)),i)));case 2:return i=t.a,u(Vt,Te,u(Vt,kr,u(Qu,u(du,e.b5,u(re,0,e.ce)),i)));case 3:return i=t.a,u(Vt,Te,u(Vt,$r,u(Qu,u(hu,e.b5,u(re,0,e.ce)),i)));case 4:return i=t.a,u(Vt,Te,u(Vt,_r,u(Qu,u(lu,e.b5,u(re,0,e.ce)),i)));case 5:return hd;default:return u(Vt,xt,u(pd,e.b5,u(re,0,e.ce)))}},vd=function(e){var t=e.bV,i=e.bW,o=function(){o.a(t(Su()))};return me({aB:function(s){return o.a=s,Pn.addEventListener("popstate",o),0>Pn.navigator.userAgent.indexOf("Trident")||Pn.addEventListener("hashchange",o),v(function(d,p){if(!(p.ctrlKey||p.metaKey||p.shiftKey||p.button>=1||d.target||d.hasAttribute("download"))){p.preventDefault();var k=d.href,S=Su(),C=vr(k).a;s(i(C&&S.b_===C.b_&&S.bJ===C.bJ&&S.bZ.a===C.bZ.a?function(R){return{$:0,a:R}}(C):function(R){return{$:1,a:R}}(k)))}})},P:function(s){return D(e.P,s,Su(),o)},ac:e.ac,ab:e.ab,U:e.U})}({P:Xl,bV:function(e){return{$:1,a:e}},bW:function(e){return{$:0,a:e}},U:function(e){var t=function(){var d=e.f;switch(d.$){case 0:var p=d.a;return u(Pt,Te,u(Pt,gr,u(Wu,u(su,e.b5,u(re,0,e.ce)),p)));case 1:return p=d.b,u(Pt,Te,u(Pt,wr,u(Wu,u(fu,e.b5,u(re,d.a,e.ce)),p)));case 2:return p=d.a,u(Pt,Te,u(Pt,kr,u(Wu,u(du,e.b5,u(re,0,e.ce)),p)));case 3:return p=d.a,u(Pt,Te,u(Pt,$r,u(Wu,u(hu,e.b5,u(re,0,e.ce)),p)));case 4:return p=d.a,u(Pt,Te,u(Pt,_r,u(Wu,u(lu,e.b5,u(re,0,e.ce)),p)));default:return Tn}}(),i=u(re,0,e.ce),o=pu(e),s=function(){var d=A(o,e.d);if(d.a.$||d.b.$)return Tn;var p=d.b.a;return u(Pt,Ki,u(Pt,Ae,u(Zl,D(Yu,d.a.a,e.b5,i),p.R)))}();return No(w([u(Pt,j,u(ed,i,e.b5)),t,s]))},ab:ld,ac:function(e){var t,i=function(o){var s=u(re,0,o.ce),d=A(pu(o),o.d);if(d.a.$||d.b.$)return Tc(o);var p=d.b.a;return u(dd,D(Yu,d.a.a,o.b5,s),{m:Tc(o),bQ:p.R,cd:u($,Ae,Ki)})}(e);return{aI:(u(re,0,e.ce),e.b5,t=i).aI,bi:t.bi}}});ka={Main:{init:vd(co)(0)}},Se.Elm?function e(t,i){for(var o in i)o in t?o=="init"?kt(6):e(t[o],i[o]):t[o]=i[o]}(Se.Elm,ka):Se.Elm=ka}(this),(Se=>{const ke=["Main"];let v=[...ke],N=Se;for(;v.length>0;){let oe=v.shift();N=N[oe]}return N.__elmModulePath=ke,N})(this.Elm)}}.run();var qc={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};let Qa=async({Interop:de})=>{let Se=Object.keys(qc).reduce((v,N)=>(N.startsWith("ELM_LAND_")&&(v[N.slice(9)]=qc[N]),v),{}),ke;if(de.flags&&(ke=await de.flags({env:Se})),Ja&&Ja.init){let v=Ja.init({flags:ke});de.onReady&&de.onReady({app:v,env:Se})}};const Kd=async()=>{try{await Qa({Interop:Object.assign({"../../src/interop.ts":Sd})["../../src/interop.ts"]})}catch{try{await Qa({Interop:Object.assign({})["../../src/interop.js"]})}catch{await Qa({Interop:{}})}}};Kd();

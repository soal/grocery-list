(function(){const Ee=document.createElement("link").relList;if(Ee&&Ee.supports&&Ee.supports("modulepreload"))return;for(const R of document.querySelectorAll('link[rel="modulepreload"]'))v(R);new MutationObserver(R=>{for(const ae of R)if(ae.type==="childList")for(const ge of ae.addedNodes)ge.tagName==="LINK"&&ge.rel==="modulepreload"&&v(ge)}).observe(document,{childList:!0,subtree:!0});function we(R){const ae={};return R.integrity&&(ae.integrity=R.integrity),R.referrerPolicy&&(ae.referrerPolicy=R.referrerPolicy),R.crossOrigin==="use-credentials"?ae.credentials="include":R.crossOrigin==="anonymous"?ae.credentials="omit":ae.credentials="same-origin",ae}function v(R){if(R.ep)return;R.ep=!0;const ae=we(R);fetch(R.href,ae)}})();var Za=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pd(se){return se&&se.__esModule&&Object.prototype.hasOwnProperty.call(se,"default")?se.default:se}var Dc={exports:{}};(function(se,Ee){(function(we,v){se.exports=v()})(Za,function(){var we=function(n,r){return(we=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(a[f]=c[f])})(n,r)},v=function(){return(v=Object.assign||function(n){for(var r,a=1,c=arguments.length;a<c;a++)for(var f in r=arguments[a])Object.prototype.hasOwnProperty.call(r,f)&&(n[f]=r[f]);return n}).apply(this,arguments)};function R(n,r,a){for(var c,f=0,l=r.length;f<l;f++)!c&&f in r||((c=c||Array.prototype.slice.call(r,0,f))[f]=r[f]);return n.concat(c||Array.prototype.slice.call(r))}var ae=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Za,ge=Object.keys,$e=Array.isArray;function Fe(n,r){return typeof r!="object"||ge(r).forEach(function(a){n[a]=r[a]}),n}typeof Promise>"u"||ae.Promise||(ae.Promise=Promise);var Pt=Object.getPrototypeOf,u={}.hasOwnProperty;function M(n,r){return u.call(n,r)}function qe(n,r){typeof r=="function"&&(r=r(Pt(n))),(typeof Reflect>"u"?ge:Reflect.ownKeys)(r).forEach(function(a){ue(n,a,r[a])})}var J=Object.defineProperty;function ue(n,r,a,c){J(n,r,Fe(a&&M(a,"get")&&typeof a.get=="function"?{get:a.get,set:a.set,configurable:!0}:{value:a,configurable:!0,writable:!0},c))}function Pe(n){return{from:function(r){return n.prototype=Object.create(r.prototype),ue(n.prototype,"constructor",n),{extend:qe.bind(null,n.prototype)}}}}var it=Object.getOwnPropertyDescriptor,_e=[].slice;function yt(n,r,a){return _e.call(n,r,a)}function Xe(n,r){return r(n)}function Yt(n){if(!n)throw new Error("Assertion Failed")}function T(n){ae.setImmediate?setImmediate(n):setTimeout(n,0)}function H(n,r){if(typeof r=="string"&&M(n,r))return n[r];if(!r)return n;if(typeof r!="string"){for(var a=[],c=0,f=r.length;c<f;++c){var l=H(n,r[c]);a.push(l)}return a}var h=r.indexOf(".");if(h!==-1){var b=n[r.substr(0,h)];return b==null?void 0:H(b,r.substr(h+1))}}function be(n,r,a){if(n&&r!==void 0&&!("isFrozen"in Object&&Object.isFrozen(n)))if(typeof r!="string"&&"length"in r){Yt(typeof a!="string"&&"length"in a);for(var c=0,f=r.length;c<f;++c)be(n,r[c],a[c])}else{var l,h,b=r.indexOf(".");b!==-1?(l=r.substr(0,b),(h=r.substr(b+1))===""?a===void 0?$e(n)&&!isNaN(parseInt(l))?n.splice(l,1):delete n[l]:n[l]=a:be(b=!(b=n[l])||!M(n,l)?n[l]={}:b,h,a)):a===void 0?$e(n)&&!isNaN(parseInt(r))?n.splice(r,1):delete n[r]:n[r]=a}}function D(n){var r,a={};for(r in n)M(n,r)&&(a[r]=n[r]);return a}var Ce=[].concat;function pn(n){return Ce.apply([],n)}var zt="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(pn([8,16,32,64].map(function(n){return["Int","Uint","Float"].map(function(r){return r+n+"Array"})}))).filter(function(n){return ae[n]}),$=new Set(zt.map(function(n){return ae[n]})),qn=null;function vn(n){return qn=new WeakMap,n=function r(a){if(!a||typeof a!="object")return a;var c=qn.get(a);if(c)return c;if($e(a)){c=[],qn.set(a,c);for(var f=0,l=a.length;f<l;++f)c.push(r(a[f]))}else if($.has(a.constructor))c=a;else{var h,b=Pt(a);for(h in c=b===Object.prototype?{}:Object.create(b),qn.set(a,c),a)M(a,h)&&(c[h]=r(a[h]))}return c}(n),qn=null,n}var ca={}.toString;function vu(n){return ca.call(n).slice(8,-1)}var bu=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Qn=typeof bu=="symbol"?function(n){var r;return n!=null&&(r=n[bu])&&r.apply(n)}:function(){return null};function bn(n,r){return r=n.indexOf(r),0<=r&&n.splice(r,1),0<=r}var Mn={};function At(n){var r,a,c,f;if(arguments.length===1){if($e(n))return n.slice();if(this===Mn&&typeof n=="string")return[n];if(f=Qn(n)){for(a=[];!(c=f.next()).done;)a.push(c.value);return a}if(n==null)return[n];if(typeof(r=n.length)!="number")return[n];for(a=new Array(r);r--;)a[r]=n[r];return a}for(r=arguments.length,a=new Array(r);r--;)a[r]=arguments[r];return a}var mu=typeof Symbol<"u"?function(n){return n[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Zn=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],kt=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Zn),sa={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function In(n,r){this.name=n,this.message=r}function ui(n,r){return n+". Errors: "+Object.keys(r).map(function(a){return r[a].toString()}).filter(function(a,c,f){return f.indexOf(a)===c}).join(`
`)}function Sr(n,r,a,c){this.failures=r,this.failedKeys=c,this.successCount=a,this.message=ui(n,r)}function Dn(n,r){this.name="BulkError",this.failures=Object.keys(r).map(function(a){return r[a]}),this.failuresByPos=r,this.message=ui(n,this.failures)}Pe(In).from(Error).extend({toString:function(){return this.name+": "+this.message}}),Pe(Sr).from(In),Pe(Dn).from(In);var yu=kt.reduce(function(n,r){return n[r]=r+"Error",n},{}),fa=In,te=kt.reduce(function(n,r){var a=r+"Error";function c(f,l){this.name=a,f?typeof f=="string"?(this.message="".concat(f).concat(l?`
 `+l:""),this.inner=l||null):typeof f=="object"&&(this.message="".concat(f.name," ").concat(f.message),this.inner=f):(this.message=sa[r]||a,this.inner=null)}return Pe(c).from(fa),n[r]=c,n},{});te.Syntax=SyntaxError,te.Type=TypeError,te.Range=RangeError;var Rn=Zn.reduce(function(n,r){return n[r+"Error"]=te[r],n},{}),Kr=kt.reduce(function(n,r){return["Syntax","Type","Range"].indexOf(r)===-1&&(n[r+"Error"]=te[r]),n},{});function xe(){}function Gn(n){return n}function la(n,r){return n==null||n===Gn?r:function(a){return r(n(a))}}function mn(n,r){return function(){n.apply(this,arguments),r.apply(this,arguments)}}function da(n,r){return n===xe?r:function(){var a=n.apply(this,arguments);a!==void 0&&(arguments[0]=a);var c=this.onsuccess,f=this.onerror;this.onsuccess=null,this.onerror=null;var l=r.apply(this,arguments);return c&&(this.onsuccess=this.onsuccess?mn(c,this.onsuccess):c),f&&(this.onerror=this.onerror?mn(f,this.onerror):f),l!==void 0?l:a}}function Nn(n,r){return n===xe?r:function(){n.apply(this,arguments);var a=this.onsuccess,c=this.onerror;this.onsuccess=this.onerror=null,r.apply(this,arguments),a&&(this.onsuccess=this.onsuccess?mn(a,this.onsuccess):a),c&&(this.onerror=this.onerror?mn(c,this.onerror):c)}}function ha(n,r){return n===xe?r:function(a){var c=n.apply(this,arguments);Fe(a,c);var f=this.onsuccess,l=this.onerror;return this.onsuccess=null,this.onerror=null,a=r.apply(this,arguments),f&&(this.onsuccess=this.onsuccess?mn(f,this.onsuccess):f),l&&(this.onerror=this.onerror?mn(l,this.onerror):l),c===void 0?a===void 0?void 0:a:Fe(c,a)}}function pa(n,r){return n===xe?r:function(){return r.apply(this,arguments)!==!1&&n.apply(this,arguments)}}function gu(n,r){return n===xe?r:function(){var a=n.apply(this,arguments);if(a&&typeof a.then=="function"){for(var c=this,f=arguments.length,l=new Array(f);f--;)l[f]=arguments[f];return a.then(function(){return r.apply(c,l)})}return r.apply(this,arguments)}}Kr.ModifyError=Sr,Kr.DexieError=In,Kr.BulkError=Dn;var jt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ii(n){jt=n}var Xn={},ai=100,zt=typeof Promise>"u"?[]:function(){var n=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[n,Pt(n),n];var r=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[r,Pt(r),n]}(),Zn=zt[0],kt=zt[1],zt=zt[2],kt=kt&&kt.then,We=Zn&&Zn.constructor,Tr=!!zt,Ht=function(n,r){wt.push([n,r]),ut&&(queueMicrotask(ci),ut=!1)},wu=!0,ut=!0,gt=[],er=[],_u=Gn,$t={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:xe,pgp:!1,env:{},finalize:xe},Z=$t,wt=[],Jt=0,Ze=[];function z(n){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var r=this._PSD=Z;if(typeof n!="function"){if(n!==Xn)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Bn(this,this._value))}this._state=null,this._value=null,++r.ref,function a(c,f){try{f(function(l){if(c._state===null){if(l===c)throw new TypeError("A promise cannot be resolved with itself.");var h=c._lib&&Wt();l&&typeof l.then=="function"?a(c,function(b,m){l instanceof z?l._then(b,m):l.then(b,m)}):(c._state=!0,c._value=l,$u(c)),h&&Fn()}},Bn.bind(null,c))}catch(l){Bn(c,l)}}(this,n)}var ku={get:function(){var n=Z,r=tr;function a(c,f){var l=this,h=!n.global&&(n!==Z||r!==tr),b=h&&!Xt(),m=new z(function(w,E){xu(l,new oi(Me(c,n,h,b),Me(f,n,h,b),w,E,n))});return this._consoleTask&&(m._consoleTask=this._consoleTask),m}return a.prototype=Xn,a},set:function(n){ue(this,"then",n&&n.prototype===Xn?ku:{get:function(){return n},set:ku.set})}};function oi(n,r,a,c,f){this.onFulfilled=typeof n=="function"?n:null,this.onRejected=typeof r=="function"?r:null,this.resolve=a,this.reject=c,this.psd=f}function Bn(n,r){var a,c;er.push(r),n._state===null&&(a=n._lib&&Wt(),r=_u(r),n._state=!1,n._value=r,c=n,gt.some(function(f){return f._value===c._value})||gt.push(c),$u(n),a&&Fn())}function $u(n){var r=n._listeners;n._listeners=[];for(var a=0,c=r.length;a<c;++a)xu(n,r[a]);var f=n._PSD;--f.ref||f.finalize(),Jt===0&&(++Jt,Ht(function(){--Jt==0&&Eu()},[]))}function xu(n,r){if(n._state!==null){var a=n._state?r.onFulfilled:r.onRejected;if(a===null)return(n._state?r.resolve:r.reject)(n._value);++r.psd.ref,++Jt,Ht(Ou,[a,n,r])}else n._listeners.push(r)}function Ou(n,r,a){try{var c,f=r._value;!r._state&&er.length&&(er=[]),c=jt&&r._consoleTask?r._consoleTask.run(function(){return n(f)}):n(f),r._state||er.indexOf(f)!==-1||function(l){for(var h=gt.length;h;)if(gt[--h]._value===l._value)return gt.splice(h,1)}(r),a.resolve(c)}catch(l){a.reject(l)}finally{--Jt==0&&Eu(),--a.psd.ref||a.psd.finalize()}}function ci(){Zt($t,function(){Wt()&&Fn()})}function Wt(){var n=wu;return ut=wu=!1,n}function Fn(){var n,r,a;do for(;0<wt.length;)for(n=wt,wt=[],a=n.length,r=0;r<a;++r){var c=n[r];c[0].apply(null,c[1])}while(0<wt.length);ut=wu=!0}function Eu(){var n=gt;gt=[],n.forEach(function(c){c._PSD.onunhandled.call(null,c._value,c)});for(var r=Ze.slice(0),a=r.length;a;)r[--a]()}function Qt(n){return new z(Xn,!1,n)}function Ke(n,r){var a=Z;return function(){var c=Wt(),f=Z;try{return Kt(a,!0),n.apply(this,arguments)}catch(l){r&&r(l)}finally{Kt(f,!1),c&&Fn()}}}qe(z.prototype,{then:ku,_then:function(n,r){xu(this,new oi(null,null,n,r,Z))},catch:function(n){if(arguments.length===1)return this.then(null,n);var r=n,a=arguments[1];return typeof r=="function"?this.then(null,function(c){return(c instanceof r?a:Qt)(c)}):this.then(null,function(c){return(c&&c.name===r?a:Qt)(c)})},finally:function(n){return this.then(function(r){return z.resolve(n()).then(function(){return r})},function(r){return z.resolve(n()).then(function(){return Qt(r)})})},timeout:function(n,r){var a=this;return n<1/0?new z(function(c,f){var l=setTimeout(function(){return f(new te.Timeout(r))},n);a.then(c,f).finally(clearTimeout.bind(null,l))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&ue(z.prototype,Symbol.toStringTag,"Dexie.Promise"),$t.env=Cr(),qe(z,{all:function(){var n=At.apply(null,arguments).map(wn);return new z(function(r,a){n.length===0&&r([]);var c=n.length;n.forEach(function(f,l){return z.resolve(f).then(function(h){n[l]=h,--c||r(n)},a)})})},resolve:function(n){return n instanceof z?n:n&&typeof n.then=="function"?new z(function(r,a){n.then(r,a)}):new z(Xn,!0,n)},reject:Qt,race:function(){var n=At.apply(null,arguments).map(wn);return new z(function(r,a){n.map(function(c){return z.resolve(c).then(r,a)})})},PSD:{get:function(){return Z},set:function(n){return Z=n}},totalEchoes:{get:function(){return tr}},newPSD:St,usePSD:Zt,scheduler:{get:function(){return Ht},set:function(n){Ht=n}},rejectionMapper:{get:function(){return _u},set:function(n){_u=n}},follow:function(n,r){return new z(function(a,c){return St(function(f,l){var h=Z;h.unhandleds=[],h.onunhandled=l,h.finalize=mn(function(){var b,m=this;b=function(){m.unhandleds.length===0?f():l(m.unhandleds[0])},Ze.push(function w(){b(),Ze.splice(Ze.indexOf(w),1)}),++Jt,Ht(function(){--Jt==0&&Eu()},[])},h.finalize),n()},r,a,c)})}}),We&&(We.allSettled&&ue(z,"allSettled",function(){var n=At.apply(null,arguments).map(wn);return new z(function(r){n.length===0&&r([]);var a=n.length,c=new Array(a);n.forEach(function(f,l){return z.resolve(f).then(function(h){return c[l]={status:"fulfilled",value:h}},function(h){return c[l]={status:"rejected",reason:h}}).then(function(){return--a||r(c)})})})}),We.any&&typeof AggregateError<"u"&&ue(z,"any",function(){var n=At.apply(null,arguments).map(wn);return new z(function(r,a){n.length===0&&a(new AggregateError([]));var c=n.length,f=new Array(c);n.forEach(function(l,h){return z.resolve(l).then(function(b){return r(b)},function(b){f[h]=b,--c||a(new AggregateError(f))})})})}),We.withResolvers&&(z.withResolvers=We.withResolvers));var Ye={awaits:0,echoes:0,id:0},va=0,yn=[],gn=0,tr=0,si=0;function St(n,r,a,c){var f=Z,l=Object.create(f);return l.parent=f,l.ref=0,l.global=!1,l.id=++si,$t.env,l.env=Tr?{Promise:z,PromiseProp:{value:z,configurable:!0,writable:!0},all:z.all,race:z.race,allSettled:z.allSettled,any:z.any,resolve:z.resolve,reject:z.reject}:{},r&&Fe(l,r),++f.ref,l.finalize=function(){--this.parent.ref||this.parent.finalize()},c=Zt(l,n,a,c),l.ref===0&&l.finalize(),c}function Gt(){return Ye.id||(Ye.id=++va),++Ye.awaits,Ye.echoes+=ai,Ye.id}function Xt(){return!!Ye.awaits&&(--Ye.awaits==0&&(Ye.id=0),Ye.echoes=Ye.awaits*ai,!0)}function wn(n){return Ye.echoes&&n&&n.constructor===We?(Gt(),n.then(function(r){return Xt(),r},function(r){return Xt(),Ie(r)})):n}function Rt(){var n=yn[yn.length-1];yn.pop(),Kt(n,!1)}function Kt(n,r){var a,c=Z;(r?!Ye.echoes||gn++&&n===Z:!gn||--gn&&n===Z)||queueMicrotask(r?(function(f){++tr,Ye.echoes&&--Ye.echoes!=0||(Ye.echoes=Ye.awaits=Ye.id=0),yn.push(Z),Kt(f,!0)}).bind(null,n):Rt),n!==Z&&(Z=n,c===$t&&($t.env=Cr()),Tr&&(a=$t.env.Promise,r=n.env,(c.global||n.global)&&(Object.defineProperty(ae,"Promise",r.PromiseProp),a.all=r.all,a.race=r.race,a.resolve=r.resolve,a.reject=r.reject,r.allSettled&&(a.allSettled=r.allSettled),r.any&&(a.any=r.any))))}function Cr(){var n=ae.Promise;return Tr?{Promise:n,PromiseProp:Object.getOwnPropertyDescriptor(ae,"Promise"),all:n.all,race:n.race,allSettled:n.allSettled,any:n.any,resolve:n.resolve,reject:n.reject}:{}}function Zt(n,r,a,c,f){var l=Z;try{return Kt(n,!0),r(a,c,f)}finally{Kt(l,!1)}}function Me(n,r,a,c){return typeof n!="function"?n:function(){var f=Z;a&&Gt(),Kt(r,!0);try{return n.apply(this,arguments)}finally{Kt(f,!1),c&&queueMicrotask(Xt)}}}function Pu(n){Promise===We&&Ye.echoes===0?gn===0?n():enqueueNativeMicroTask(n):setTimeout(n,0)}(""+kt).indexOf("[native code]")===-1&&(Gt=Xt=xe);var Ie=z.reject,en="ï¿¿",Tt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",fi="String expected.",Ln=[],qr="__dbnames",nr="readonly",Qe="readwrite";function _n(n,r){return n?r?function(){return n.apply(this,arguments)&&r.apply(this,arguments)}:n:r}var li={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Mr(n){return typeof n!="string"||/\./.test(n)?function(r){return r}:function(r){return r[n]===void 0&&n in r&&delete(r=vn(r))[n],r}}function Ir(){throw te.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function le(n,r){try{var a=Au(n),c=Au(r);if(a!==c)return a==="Array"?1:c==="Array"?-1:a==="binary"?1:c==="binary"?-1:a==="string"?1:c==="string"?-1:a==="Date"?1:c!=="Date"?NaN:-1;switch(a){case"number":case"Date":case"string":return r<n?1:n<r?-1:0;case"binary":return function(f,l){for(var h=f.length,b=l.length,m=h<b?h:b,w=0;w<m;++w)if(f[w]!==l[w])return f[w]<l[w]?-1:1;return h===b?0:h<b?-1:1}(ju(n),ju(r));case"Array":return function(f,l){for(var h=f.length,b=l.length,m=h<b?h:b,w=0;w<m;++w){var E=le(f[w],l[w]);if(E!==0)return E}return h===b?0:h<b?-1:1}(n,r)}}catch{}return NaN}function Au(n){var r=typeof n;return r!="object"?r:ArrayBuffer.isView(n)?"binary":(n=vu(n),n==="ArrayBuffer"?"binary":n)}function ju(n){return n instanceof Uint8Array?n:ArrayBuffer.isView(n)?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):new Uint8Array(n)}function Ct(n,r,a){var c=n.schema.yProps;return c?(r&&0<a.numFailures&&(r=r.filter(function(f,l){return!a.failures[l]})),Promise.all(c.map(function(f){return f=f.updatesTable,r?n.db.table(f).where("k").anyOf(r).delete():n.db.table(f).clear()})).then(function(){return a})):a}var kn=(di.prototype.execute=function(n){var r=this["@@propmod"];if(r.add!==void 0){var a=r.add;if($e(a))return R(R([],$e(n)?n:[],!0),a).sort();if(typeof a=="number")return(Number(n)||0)+a;if(typeof a=="bigint")try{return BigInt(n)+a}catch{return BigInt(0)+a}throw new TypeError("Invalid term ".concat(a))}if(r.remove!==void 0){var c=r.remove;if($e(c))return $e(n)?n.filter(function(f){return!c.includes(f)}).sort():[];if(typeof c=="number")return Number(n)-c;if(typeof c=="bigint")try{return BigInt(n)-c}catch{return BigInt(0)-c}throw new TypeError("Invalid subtrahend ".concat(c))}return a=(a=r.replacePrefix)===null||a===void 0?void 0:a[0],a&&typeof n=="string"&&n.startsWith(a)?r.replacePrefix[1]+n.substring(a.length):n},di);function di(n){this["@@propmod"]=n}function hi(n,r){for(var a=ge(r),c=a.length,f=!1,l=0;l<c;++l){var h=a[l],b=r[h],m=H(n,h);b instanceof kn?(be(n,h,b.execute(m)),f=!0):m!==b&&(be(n,h,b),f=!0)}return f}var pi=(Ae.prototype._trans=function(n,r,a){var c=this._tx||Z.trans,f=this.name,l=jt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(n==="readonly"?"read":"write"," ").concat(this.name));function h(w,E,g){if(!g.schema[f])throw new te.NotFound("Table "+f+" not part of transaction");return r(g.idbtrans,g)}var b=Wt();try{var m=c&&c.db._novip===this.db._novip?c===Z.trans?c._promise(n,h,a):St(function(){return c._promise(n,h,a)},{trans:c,transless:Z.transless||Z}):function w(E,g,j,k){if(E.idbdb&&(E._state.openComplete||Z.letThrough||E._vip)){var x=E._createTransaction(g,j,E._dbSchema);try{x.create(),E._state.PR1398_maxLoop=3}catch(_){return _.name===yu.InvalidState&&E.isOpen()&&0<--E._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),E.close({disableAutoOpen:!1}),E.open().then(function(){return w(E,g,j,k)})):Ie(_)}return x._promise(g,function(_,O){return St(function(){return Z.trans=x,k(_,O,x)})}).then(function(_){if(g==="readwrite")try{x.idbtrans.commit()}catch{}return g==="readonly"?_:x._completion.then(function(){return _})})}if(E._state.openComplete)return Ie(new te.DatabaseClosed(E._state.dbOpenError));if(!E._state.isBeingOpened){if(!E._state.autoOpen)return Ie(new te.DatabaseClosed);E.open().catch(xe)}return E._state.dbReadyPromise.then(function(){return w(E,g,j,k)})}(this.db,n,[this.name],h);return l&&(m._consoleTask=l,m=m.catch(function(w){return console.trace(w),Ie(w)})),m}finally{b&&Fn()}},Ae.prototype.get=function(n,r){var a=this;return n&&n.constructor===Object?this.where(n).first(r):n==null?Ie(new te.Type("Invalid argument to Table.get()")):this._trans("readonly",function(c){return a.core.get({trans:c,key:n}).then(function(f){return a.hook.reading.fire(f)})}).then(r)},Ae.prototype.where=function(n){if(typeof n=="string")return new this.db.WhereClause(this,n);if($e(n))return new this.db.WhereClause(this,"[".concat(n.join("+"),"]"));var r=ge(n);if(r.length===1)return this.where(r[0]).equals(n[r[0]]);var a=this.schema.indexes.concat(this.schema.primKey).filter(function(b){if(b.compound&&r.every(function(w){return 0<=b.keyPath.indexOf(w)})){for(var m=0;m<r.length;++m)if(r.indexOf(b.keyPath[m])===-1)return!1;return!0}return!1}).sort(function(b,m){return b.keyPath.length-m.keyPath.length})[0];if(a&&this.db._maxKey!==en){var l=a.keyPath.slice(0,r.length);return this.where(l).equals(l.map(function(m){return n[m]}))}!a&&jt&&console.warn("The query ".concat(JSON.stringify(n)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(r.join("+"),"]"));var c=this.schema.idxByName;function f(b,m){return le(b,m)===0}var h=r.reduce(function(g,m){var w=g[0],E=g[1],g=c[m],j=n[m];return[w||g,w||!g?_n(E,g&&g.multi?function(k){return k=H(k,m),$e(k)&&k.some(function(x){return f(j,x)})}:function(k){return f(j,H(k,m))}):E]},[null,null]),l=h[0],h=h[1];return l?this.where(l.name).equals(n[l.keyPath]).filter(h):a?this.filter(h):this.where(r).equals("")},Ae.prototype.filter=function(n){return this.toCollection().and(n)},Ae.prototype.count=function(n){return this.toCollection().count(n)},Ae.prototype.offset=function(n){return this.toCollection().offset(n)},Ae.prototype.limit=function(n){return this.toCollection().limit(n)},Ae.prototype.each=function(n){return this.toCollection().each(n)},Ae.prototype.toArray=function(n){return this.toCollection().toArray(n)},Ae.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Ae.prototype.orderBy=function(n){return new this.db.Collection(new this.db.WhereClause(this,$e(n)?"[".concat(n.join("+"),"]"):n))},Ae.prototype.reverse=function(){return this.toCollection().reverse()},Ae.prototype.mapToClass=function(n){var r,a=this.db,c=this.name;function f(){return r!==null&&r.apply(this,arguments)||this}(this.schema.mappedClass=n).prototype instanceof Ir&&(function(m,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function E(){this.constructor=m}we(m,w),m.prototype=w===null?Object.create(w):(E.prototype=w.prototype,new E)}(f,r=n),Object.defineProperty(f.prototype,"db",{get:function(){return a},enumerable:!1,configurable:!0}),f.prototype.table=function(){return c},n=f);for(var l=new Set,h=n.prototype;h;h=Pt(h))Object.getOwnPropertyNames(h).forEach(function(m){return l.add(m)});function b(m){if(!m)return m;var w,E=Object.create(n.prototype);for(w in m)if(!l.has(w))try{E[w]=m[w]}catch{}return E}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=b,this.hook("reading",b),n},Ae.prototype.defineClass=function(){return this.mapToClass(function(n){Fe(this,n)})},Ae.prototype.add=function(n,r){var a=this,c=this.schema.primKey,f=c.auto,l=c.keyPath,h=n;return l&&f&&(h=Mr(l)(n)),this._trans("readwrite",function(b){return a.core.mutate({trans:b,type:"add",keys:r!=null?[r]:null,values:[h]})}).then(function(b){return b.numFailures?z.reject(b.failures[0]):b.lastResult}).then(function(b){if(l)try{be(n,l,b)}catch{}return b})},Ae.prototype.upsert=function(n,r){var a=this,c=this.schema.primKey.keyPath;return this._trans("readwrite",function(f){return a.core.get({trans:f,key:n}).then(function(l){var h=l??{};return hi(h,r),c&&be(h,c,n),a.core.mutate({trans:f,type:"put",values:[h],keys:[n],upsert:!0,updates:{keys:[n],changeSpecs:[r]}}).then(function(b){return b.numFailures?z.reject(b.failures[0]):!!l})})})},Ae.prototype.update=function(n,r){return typeof n!="object"||$e(n)?this.where(":id").equals(n).modify(r):(n=H(n,this.schema.primKey.keyPath),n===void 0?Ie(new te.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(n).modify(r))},Ae.prototype.put=function(n,r){var a=this,c=this.schema.primKey,f=c.auto,l=c.keyPath,h=n;return l&&f&&(h=Mr(l)(n)),this._trans("readwrite",function(b){return a.core.mutate({trans:b,type:"put",values:[h],keys:r!=null?[r]:null})}).then(function(b){return b.numFailures?z.reject(b.failures[0]):b.lastResult}).then(function(b){if(l)try{be(n,l,b)}catch{}return b})},Ae.prototype.delete=function(n){var r=this;return this._trans("readwrite",function(a){return r.core.mutate({trans:a,type:"delete",keys:[n]}).then(function(c){return Ct(r,[n],c)}).then(function(c){return c.numFailures?z.reject(c.failures[0]):void 0})})},Ae.prototype.clear=function(){var n=this;return this._trans("readwrite",function(r){return n.core.mutate({trans:r,type:"deleteRange",range:li}).then(function(a){return Ct(n,null,a)})}).then(function(r){return r.numFailures?z.reject(r.failures[0]):void 0})},Ae.prototype.bulkGet=function(n){var r=this;return this._trans("readonly",function(a){return r.core.getMany({keys:n,trans:a}).then(function(c){return c.map(function(f){return r.hook.reading.fire(f)})})})},Ae.prototype.bulkAdd=function(n,r,a){var c=this,f=Array.isArray(r)?r:void 0,l=(a=a||(f?void 0:r))?a.allKeys:void 0;return this._trans("readwrite",function(h){var w=c.schema.primKey,b=w.auto,w=w.keyPath;if(w&&f)throw new te.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(f&&f.length!==n.length)throw new te.InvalidArgument("Arguments objects and keys must have the same length");var m=n.length,w=w&&b?n.map(Mr(w)):n;return c.core.mutate({trans:h,type:"add",keys:f,values:w,wantResults:l}).then(function(x){var g=x.numFailures,j=x.results,k=x.lastResult,x=x.failures;if(g===0)return l?j:k;throw new Dn("".concat(c.name,".bulkAdd(): ").concat(g," of ").concat(m," operations failed"),x)})})},Ae.prototype.bulkPut=function(n,r,a){var c=this,f=Array.isArray(r)?r:void 0,l=(a=a||(f?void 0:r))?a.allKeys:void 0;return this._trans("readwrite",function(h){var w=c.schema.primKey,b=w.auto,w=w.keyPath;if(w&&f)throw new te.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(f&&f.length!==n.length)throw new te.InvalidArgument("Arguments objects and keys must have the same length");var m=n.length,w=w&&b?n.map(Mr(w)):n;return c.core.mutate({trans:h,type:"put",keys:f,values:w,wantResults:l}).then(function(x){var g=x.numFailures,j=x.results,k=x.lastResult,x=x.failures;if(g===0)return l?j:k;throw new Dn("".concat(c.name,".bulkPut(): ").concat(g," of ").concat(m," operations failed"),x)})})},Ae.prototype.bulkUpdate=function(n){var r=this,a=this.core,c=n.map(function(h){return h.key}),f=n.map(function(h){return h.changes}),l=[];return this._trans("readwrite",function(h){return a.getMany({trans:h,keys:c,cache:"clone"}).then(function(b){var m=[],w=[];n.forEach(function(g,j){var k=g.key,x=g.changes,_=b[j];if(_){for(var O=0,S=Object.keys(x);O<S.length;O++){var A=S[O],K=x[A];if(A===r.schema.primKey.keyPath){if(le(K,k)!==0)throw new te.Constraint("Cannot update primary key in bulkUpdate()")}else be(_,A,K)}l.push(j),m.push(k),w.push(_)}});var E=m.length;return a.mutate({trans:h,type:"put",keys:m,values:w,updates:{keys:c,changeSpecs:f}}).then(function(g){var j=g.numFailures,k=g.failures;if(j===0)return E;for(var x=0,_=Object.keys(k);x<_.length;x++){var O,S=_[x],A=l[Number(S)];A!=null&&(O=k[S],delete k[S],k[A]=O)}throw new Dn("".concat(r.name,".bulkUpdate(): ").concat(j," of ").concat(E," operations failed"),k)})})})},Ae.prototype.bulkDelete=function(n){var r=this,a=n.length;return this._trans("readwrite",function(c){return r.core.mutate({trans:c,type:"delete",keys:n}).then(function(f){return Ct(r,n,f)})}).then(function(h){var f=h.numFailures,l=h.lastResult,h=h.failures;if(f===0)return l;throw new Dn("".concat(r.name,".bulkDelete(): ").concat(f," of ").concat(a," operations failed"),h)})},Ae);function Ae(){}function rr(n){function r(h,b){if(b){for(var m=arguments.length,w=new Array(m-1);--m;)w[m-1]=arguments[m];return a[h].subscribe.apply(null,w),n}if(typeof h=="string")return a[h]}var a={};r.addEventType=l;for(var c=1,f=arguments.length;c<f;++c)l(arguments[c]);return r;function l(h,b,m){if(typeof h!="object"){var w;b=b||pa;var E={subscribers:[],fire:m=m||xe,subscribe:function(g){E.subscribers.indexOf(g)===-1&&(E.subscribers.push(g),E.fire=b(E.fire,g))},unsubscribe:function(g){E.subscribers=E.subscribers.filter(function(j){return j!==g}),E.fire=E.subscribers.reduce(b,m)}};return a[h]=r[h]=E}ge(w=h).forEach(function(g){var j=w[g];if($e(j))l(g,w[g][0],w[g][1]);else{if(j!=="asap")throw new te.InvalidArgument("Invalid event config");var k=l(g,Gn,function(){for(var x=arguments.length,_=new Array(x);x--;)_[x]=arguments[x];k.subscribers.forEach(function(O){T(function(){O.apply(null,_)})})})}})}}function ur(n,r){return Pe(r).from({prototype:n}),r}function Ne(n,r){return!(n.filter||n.algorithm||n.or)&&(r?n.justLimit:!n.replayFilter)}function ht(n,r){n.filter=_n(n.filter,r)}function Dr(n,r,a){var c=n.replayFilter;n.replayFilter=c?function(){return _n(c(),r())}:r,n.justLimit=a&&!c}function Un(n,r){if(n.isPrimKey)return r.primaryKey;var a=r.getIndexByKeyPath(n.index);if(!a)throw new te.Schema("KeyPath "+n.index+" on object store "+r.name+" is not indexed");return a}function vi(n,r,a){var c=Un(n,r.schema);return r.openCursor({trans:a,values:!n.keysOnly,reverse:n.dir==="prev",unique:!!n.unique,query:{index:c,range:n.range}})}function Rr(n,r,a,c){var f=n.replayFilter?_n(n.filter,n.replayFilter()):n.filter;if(n.or){var l={},h=function(b,m,w){var E,g;f&&!f(m,w,function(j){return m.stop(j)},function(j){return m.fail(j)})||((g=""+(E=m.primaryKey))=="[object ArrayBuffer]"&&(g=""+new Uint8Array(E)),M(l,g)||(l[g]=!0,r(b,m,w)))};return Promise.all([n.or._iterate(h,a),Su(vi(n,c,a),n.algorithm,h,!n.keysOnly&&n.valueMapper)])}return Su(vi(n,c,a),_n(n.algorithm,f),r,!n.keysOnly&&n.valueMapper)}function Su(n,r,a,c){var f=Ke(c?function(l,h,b){return a(c(l),h,b)}:a);return n.then(function(l){if(l)return l.start(function(){var h=function(){return l.continue()};r&&!r(l,function(b){return h=b},function(b){l.stop(b),h=xe},function(b){l.fail(b),h=xe})||f(l.value,l,function(b){return h=b}),h()})})}var ir=(de.prototype._read=function(n,r){var a=this._ctx;return a.error?a.table._trans(null,Ie.bind(null,a.error)):a.table._trans("readonly",n).then(r)},de.prototype._write=function(n){var r=this._ctx;return r.error?r.table._trans(null,Ie.bind(null,r.error)):r.table._trans("readwrite",n,"locked")},de.prototype._addAlgorithm=function(n){var r=this._ctx;r.algorithm=_n(r.algorithm,n)},de.prototype._iterate=function(n,r){return Rr(this._ctx,n,r,this._ctx.table.core)},de.prototype.clone=function(n){var r=Object.create(this.constructor.prototype),a=Object.create(this._ctx);return n&&Fe(a,n),r._ctx=a,r},de.prototype.raw=function(){return this._ctx.valueMapper=null,this},de.prototype.each=function(n){var r=this._ctx;return this._read(function(a){return Rr(r,n,a,r.table.core)})},de.prototype.count=function(n){var r=this;return this._read(function(a){var c=r._ctx,f=c.table.core;if(Ne(c,!0))return f.count({trans:a,query:{index:Un(c,f.schema),range:c.range}}).then(function(h){return Math.min(h,c.limit)});var l=0;return Rr(c,function(){return++l,!1},a,f).then(function(){return l})}).then(n)},de.prototype.sortBy=function(n,r){var a=n.split(".").reverse(),c=a[0],f=a.length-1;function l(m,w){return w?l(m[a[w]],w-1):m[c]}var h=this._ctx.dir==="next"?1:-1;function b(m,w){return le(l(m,f),l(w,f))*h}return this.toArray(function(m){return m.sort(b)}).then(r)},de.prototype.toArray=function(n){var r=this;return this._read(function(a){var c=r._ctx;if(c.dir==="next"&&Ne(c,!0)&&0<c.limit){var f=c.valueMapper,l=Un(c,c.table.core.schema);return c.table.core.query({trans:a,limit:c.limit,values:!0,query:{index:l,range:c.range}}).then(function(b){return b=b.result,f?b.map(f):b})}var h=[];return Rr(c,function(b){return h.push(b)},a,c.table.core).then(function(){return h})},n)},de.prototype.offset=function(n){var r=this._ctx;return n<=0||(r.offset+=n,Ne(r)?Dr(r,function(){var a=n;return function(c,f){return a===0||(a===1?--a:f(function(){c.advance(a),a=0}),!1)}}):Dr(r,function(){var a=n;return function(){return--a<0}})),this},de.prototype.limit=function(n){return this._ctx.limit=Math.min(this._ctx.limit,n),Dr(this._ctx,function(){var r=n;return function(a,c,f){return--r<=0&&c(f),0<=r}},!0),this},de.prototype.until=function(n,r){return ht(this._ctx,function(a,c,f){return!n(a.value)||(c(f),r)}),this},de.prototype.first=function(n){return this.limit(1).toArray(function(r){return r[0]}).then(n)},de.prototype.last=function(n){return this.reverse().first(n)},de.prototype.filter=function(n){var r;return ht(this._ctx,function(a){return n(a.value)}),(r=this._ctx).isMatch=_n(r.isMatch,n),this},de.prototype.and=function(n){return this.filter(n)},de.prototype.or=function(n){return new this.db.WhereClause(this._ctx.table,n,this)},de.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},de.prototype.desc=function(){return this.reverse()},de.prototype.eachKey=function(n){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(a,c){n(c.key,c)})},de.prototype.eachUniqueKey=function(n){return this._ctx.unique="unique",this.eachKey(n)},de.prototype.eachPrimaryKey=function(n){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(a,c){n(c.primaryKey,c)})},de.prototype.keys=function(n){var r=this._ctx;r.keysOnly=!r.isMatch;var a=[];return this.each(function(c,f){a.push(f.key)}).then(function(){return a}).then(n)},de.prototype.primaryKeys=function(n){var r=this._ctx;if(r.dir==="next"&&Ne(r,!0)&&0<r.limit)return this._read(function(c){var f=Un(r,r.table.core.schema);return r.table.core.query({trans:c,values:!1,limit:r.limit,query:{index:f,range:r.range}})}).then(function(c){return c.result}).then(n);r.keysOnly=!r.isMatch;var a=[];return this.each(function(c,f){a.push(f.primaryKey)}).then(function(){return a}).then(n)},de.prototype.uniqueKeys=function(n){return this._ctx.unique="unique",this.keys(n)},de.prototype.firstKey=function(n){return this.limit(1).keys(function(r){return r[0]}).then(n)},de.prototype.lastKey=function(n){return this.reverse().firstKey(n)},de.prototype.distinct=function(){var n=this._ctx,n=n.index&&n.table.schema.idxByName[n.index];if(!n||!n.multi)return this;var r={};return ht(this._ctx,function(f){var c=f.primaryKey.toString(),f=M(r,c);return r[c]=!0,!f}),this},de.prototype.modify=function(n){var r=this,a=this._ctx;return this._write(function(c){var f=typeof n=="function"?n:function(_){return hi(_,n)},l=a.table.core,w=l.schema.primaryKey,h=w.outbound,b=w.extractKey,m=200,w=r.db._options.modifyChunkSize;w&&(m=typeof w=="object"?w[l.name]||w["*"]||200:w);function E(_,A){var S=A.failures,A=A.numFailures;j+=_-A;for(var K=0,I=ge(S);K<I.length;K++){var B=I[K];g.push(S[B])}}var g=[],j=0,k=[],x=n===Ku;return r.clone().primaryKeys().then(function(_){function O(A){var K=Math.min(m,_.length-A),I=_.slice(A,A+K);return(x?Promise.resolve([]):l.getMany({trans:c,keys:I,cache:"immutable"})).then(function(B){var L=[],C=[],F=h?[]:null,V=x?I:[];if(!x)for(var U=0;U<K;++U){var G=B[U],ie={value:vn(G),primKey:_[A+U]};f.call(ie,ie.value,ie)!==!1&&(ie.value==null?V.push(_[A+U]):h||le(b(G),b(ie.value))===0?(C.push(ie.value),h&&F.push(_[A+U])):(V.push(_[A+U]),L.push(ie.value)))}return Promise.resolve(0<L.length&&l.mutate({trans:c,type:"add",values:L}).then(function(oe){for(var ce in oe.failures)V.splice(parseInt(ce),1);E(L.length,oe)})).then(function(){return(0<C.length||S&&typeof n=="object")&&l.mutate({trans:c,type:"put",keys:F,values:C,criteria:S,changeSpec:typeof n!="function"&&n,isAdditionalChunk:0<A}).then(function(oe){return E(C.length,oe)})}).then(function(){return(0<V.length||S&&x)&&l.mutate({trans:c,type:"delete",keys:V,criteria:S,isAdditionalChunk:0<A}).then(function(oe){return Ct(a.table,V,oe)}).then(function(oe){return E(V.length,oe)})}).then(function(){return _.length>A+K&&O(A+m)})})}var S=Ne(a)&&a.limit===1/0&&(typeof n!="function"||x)&&{index:a.index,range:a.range};return O(0).then(function(){if(0<g.length)throw new Sr("Error modifying one or more objects",g,j,k);return _.length})})})},de.prototype.delete=function(){var n=this._ctx,r=n.range;return!Ne(n)||n.table.schema.yProps||!n.isPrimKey&&r.type!==3?this.modify(Ku):this._write(function(a){var c=n.table.core.schema.primaryKey,f=r;return n.table.core.count({trans:a,query:{index:c,range:f}}).then(function(l){return n.table.core.mutate({trans:a,type:"deleteRange",range:f}).then(function(m){var b=m.failures,m=m.numFailures;if(m)throw new Sr("Could not delete some values",Object.keys(b).map(function(w){return b[w]}),l-m);return l-m})})})},de);function de(){}var Ku=function(n,r){return r.value=null};function ar(n,r){return n<r?-1:n===r?0:1}function Nr(n,r){return r<n?-1:n===r?0:1}function pt(n,r,a){return n=n instanceof bi?new n.Collection(n):n,n._ctx.error=new(a||TypeError)(r),n}function $n(n){return new n.Collection(n,function(){return Fr("")}).limit(0)}function Br(n,r,a,c){var f,l,h,b,m,w,E,g=a.length;if(!a.every(function(x){return typeof x=="string"}))return pt(n,fi);function j(x){f=x==="next"?function(O){return O.toUpperCase()}:function(O){return O.toLowerCase()},l=x==="next"?function(O){return O.toLowerCase()}:function(O){return O.toUpperCase()},h=x==="next"?ar:Nr;var _=a.map(function(O){return{lower:l(O),upper:f(O)}}).sort(function(O,S){return h(O.lower,S.lower)});b=_.map(function(O){return O.upper}),m=_.map(function(O){return O.lower}),E=(w=x)==="next"?"":c}j("next"),n=new n.Collection(n,function(){return qt(b[0],m[g-1]+c)}),n._ondirectionchange=function(x){j(x)};var k=0;return n._addAlgorithm(function(x,_,O){var S=x.key;if(typeof S!="string")return!1;var A=l(S);if(r(A,m,k))return!0;for(var K=null,I=k;I<g;++I){var B=function(L,C,F,V,U,G){for(var ie=Math.min(L.length,V.length),oe=-1,ce=0;ce<ie;++ce){var bt=C[ce];if(bt!==V[ce])return U(L[ce],F[ce])<0?L.substr(0,ce)+F[ce]+F.substr(ce+1):U(L[ce],V[ce])<0?L.substr(0,ce)+V[ce]+F.substr(ce+1):0<=oe?L.substr(0,oe)+C[oe]+F.substr(oe+1):null;U(L[ce],bt)<0&&(oe=ce)}return ie<V.length&&G==="next"?L+F.substr(L.length):ie<L.length&&G==="prev"?L.substr(0,F.length):oe<0?null:L.substr(0,oe)+V[oe]+F.substr(oe+1)}(S,A,b[I],m[I],h,w);B===null&&K===null?k=I+1:(K===null||0<h(K,B))&&(K=B)}return _(K!==null?function(){x.continue(K+E)}:O),!1}),n}function qt(n,r,a,c){return{type:2,lower:n,upper:r,lowerOpen:a,upperOpen:c}}function Fr(n){return{type:1,lower:n,upper:n}}var bi=(Object.defineProperty(ze.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),ze.prototype.between=function(n,r,a,c){a=a!==!1,c=c===!0;try{return 0<this._cmp(n,r)||this._cmp(n,r)===0&&(a||c)&&(!a||!c)?$n(this):new this.Collection(this,function(){return qt(n,r,!a,!c)})}catch{return pt(this,Tt)}},ze.prototype.equals=function(n){return n==null?pt(this,Tt):new this.Collection(this,function(){return Fr(n)})},ze.prototype.above=function(n){return n==null?pt(this,Tt):new this.Collection(this,function(){return qt(n,void 0,!0)})},ze.prototype.aboveOrEqual=function(n){return n==null?pt(this,Tt):new this.Collection(this,function(){return qt(n,void 0,!1)})},ze.prototype.below=function(n){return n==null?pt(this,Tt):new this.Collection(this,function(){return qt(void 0,n,!1,!0)})},ze.prototype.belowOrEqual=function(n){return n==null?pt(this,Tt):new this.Collection(this,function(){return qt(void 0,n)})},ze.prototype.startsWith=function(n){return typeof n!="string"?pt(this,fi):this.between(n,n+en,!0,!0)},ze.prototype.startsWithIgnoreCase=function(n){return n===""?this.startsWith(n):Br(this,function(r,a){return r.indexOf(a[0])===0},[n],en)},ze.prototype.equalsIgnoreCase=function(n){return Br(this,function(r,a){return r===a[0]},[n],"")},ze.prototype.anyOfIgnoreCase=function(){var n=At.apply(Mn,arguments);return n.length===0?$n(this):Br(this,function(r,a){return a.indexOf(r)!==-1},n,"")},ze.prototype.startsWithAnyOfIgnoreCase=function(){var n=At.apply(Mn,arguments);return n.length===0?$n(this):Br(this,function(r,a){return a.some(function(c){return r.indexOf(c)===0})},n,en)},ze.prototype.anyOf=function(){var n=this,r=At.apply(Mn,arguments),a=this._cmp;try{r.sort(a)}catch{return pt(this,Tt)}if(r.length===0)return $n(this);var c=new this.Collection(this,function(){return qt(r[0],r[r.length-1])});c._ondirectionchange=function(l){a=l==="next"?n._ascending:n._descending,r.sort(a)};var f=0;return c._addAlgorithm(function(l,h,b){for(var m=l.key;0<a(m,r[f]);)if(++f===r.length)return h(b),!1;return a(m,r[f])===0||(h(function(){l.continue(r[f])}),!1)}),c},ze.prototype.notEqual=function(n){return this.inAnyRange([[-1/0,n],[n,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},ze.prototype.noneOf=function(){var n=At.apply(Mn,arguments);if(n.length===0)return new this.Collection(this);try{n.sort(this._ascending)}catch{return pt(this,Tt)}var r=n.reduce(function(a,c){return a?a.concat([[a[a.length-1][1],c]]):[[-1/0,c]]},null);return r.push([n[n.length-1],this.db._maxKey]),this.inAnyRange(r,{includeLowers:!1,includeUppers:!1})},ze.prototype.inAnyRange=function(S,r){var a=this,c=this._cmp,f=this._ascending,l=this._descending,h=this._min,b=this._max;if(S.length===0)return $n(this);if(!S.every(function(A){return A[0]!==void 0&&A[1]!==void 0&&f(A[0],A[1])<=0}))return pt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",te.InvalidArgument);var m=!r||r.includeLowers!==!1,w=r&&r.includeUppers===!0,E,g=f;function j(A,K){return g(A[0],K[0])}try{(E=S.reduce(function(A,K){for(var I=0,B=A.length;I<B;++I){var L=A[I];if(c(K[0],L[1])<0&&0<c(K[1],L[0])){L[0]=h(L[0],K[0]),L[1]=b(L[1],K[1]);break}}return I===B&&A.push(K),A},[])).sort(j)}catch{return pt(this,Tt)}var k=0,x=w?function(A){return 0<f(A,E[k][1])}:function(A){return 0<=f(A,E[k][1])},_=m?function(A){return 0<l(A,E[k][0])}:function(A){return 0<=l(A,E[k][0])},O=x,S=new this.Collection(this,function(){return qt(E[0][0],E[E.length-1][1],!m,!w)});return S._ondirectionchange=function(A){g=A==="next"?(O=x,f):(O=_,l),E.sort(j)},S._addAlgorithm(function(A,K,I){for(var B,L=A.key;O(L);)if(++k===E.length)return K(I),!1;return!x(B=L)&&!_(B)||(a._cmp(L,E[k][1])===0||a._cmp(L,E[k][0])===0||K(function(){g===f?A.continue(E[k][0]):A.continue(E[k][1])}),!1)}),S},ze.prototype.startsWithAnyOf=function(){var n=At.apply(Mn,arguments);return n.every(function(r){return typeof r=="string"})?n.length===0?$n(this):this.inAnyRange(n.map(function(r){return[r,r+en]})):pt(this,"startsWithAnyOf() only works with strings")},ze);function ze(){}function Mt(n){return Ke(function(r){return tn(r),n(r.target.error),!1})}function tn(n){n.stopPropagation&&n.stopPropagation(),n.preventDefault&&n.preventDefault()}var or="storagemutated",Tu="x-storagemutated-1",nn=rr(null,or),mi=(It.prototype._lock=function(){return Yt(!Z.global),++this._reculock,this._reculock!==1||Z.global||(Z.lockOwnerFor=this),this},It.prototype._unlock=function(){if(Yt(!Z.global),--this._reculock==0)for(Z.global||(Z.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var n=this._blockedFuncs.shift();try{Zt(n[1],n[0])}catch{}}return this},It.prototype._locked=function(){return this._reculock&&Z.lockOwnerFor!==this},It.prototype.create=function(n){var r=this;if(!this.mode)return this;var a=this.db.idbdb,c=this.db._state.dbOpenError;if(Yt(!this.idbtrans),!n&&!a)switch(c&&c.name){case"DatabaseClosedError":throw new te.DatabaseClosed(c);case"MissingAPIError":throw new te.MissingAPI(c.message,c);default:throw new te.OpenFailed(c)}if(!this.active)throw new te.TransactionInactive;return Yt(this._completion._state===null),(n=this.idbtrans=n||(this.db.core||a).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Ke(function(f){tn(f),r._reject(n.error)}),n.onabort=Ke(function(f){tn(f),r.active&&r._reject(new te.Abort(n.error)),r.active=!1,r.on("abort").fire(f)}),n.oncomplete=Ke(function(){r.active=!1,r._resolve(),"mutatedParts"in n&&nn.storagemutated.fire(n.mutatedParts)}),this},It.prototype._promise=function(n,r,a){var c=this;if(n==="readwrite"&&this.mode!=="readwrite")return Ie(new te.ReadOnly("Transaction is readonly"));if(!this.active)return Ie(new te.TransactionInactive);if(this._locked())return new z(function(l,h){c._blockedFuncs.push([function(){c._promise(n,r,a).then(l,h)},Z])});if(a)return St(function(){var l=new z(function(h,b){c._lock();var m=r(h,b,c);m&&m.then&&m.then(h,b)});return l.finally(function(){return c._unlock()}),l._lib=!0,l});var f=new z(function(l,h){var b=r(l,h,c);b&&b.then&&b.then(l,h)});return f._lib=!0,f},It.prototype._root=function(){return this.parent?this.parent._root():this},It.prototype.waitFor=function(n){var r,a=this._root(),c=z.resolve(n);a._waitingFor?a._waitingFor=a._waitingFor.then(function(){return c}):(a._waitingFor=c,a._waitingQueue=[],r=a.idbtrans.objectStore(a.storeNames[0]),function l(){for(++a._spinCount;a._waitingQueue.length;)a._waitingQueue.shift()();a._waitingFor&&(r.get(-1/0).onsuccess=l)}());var f=a._waitingFor;return new z(function(l,h){c.then(function(b){return a._waitingQueue.push(Ke(l.bind(null,b)))},function(b){return a._waitingQueue.push(Ke(h.bind(null,b)))}).finally(function(){a._waitingFor===f&&(a._waitingFor=null)})})},It.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new te.Abort))},It.prototype.table=function(n){var r=this._memoizedTables||(this._memoizedTables={});if(M(r,n))return r[n];var a=this.schema[n];if(!a)throw new te.NotFound("Table "+n+" not part of transaction");return a=new this.db.Table(n,a,this),a.core=this.db.core.table(n),r[n]=a},It);function It(){}function Cu(n,r,a,c,f,l,h,b){return{name:n,keyPath:r,unique:a,multi:c,auto:f,compound:l,src:(a&&!h?"&":"")+(c?"*":"")+(f?"++":"")+cr(r),type:b}}function cr(n){return typeof n=="string"?n:n?"["+[].join.call(n,"+")+"]":""}function qu(n,r,a){return{name:n,primKey:r,indexes:a,mappedClass:null,idxByName:(c=function(f){return[f.name,f]},a.reduce(function(f,l,h){return h=c(l,h),h&&(f[h[0]]=h[1]),f},{}))};var c}var Vn=function(n){try{return n.only([[]]),Vn=function(){return[[]]},[[]]}catch{return Vn=function(){return en},en}};function Mu(n){return n==null?function(){}:typeof n=="string"?(r=n).split(".").length===1?function(a){return a[r]}:function(a){return H(a,r)}:function(a){return H(a,n)};var r}function yi(n){return[].slice.call(n)}var ba=0;function Be(n){return n==null?":id":typeof n=="string"?n:"[".concat(n.join("+"),"]")}function Lr(n,r,m){function c(O){if(O.type===3)return null;if(O.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var k=O.lower,x=O.upper,_=O.lowerOpen,O=O.upperOpen;return k===void 0?x===void 0?null:r.upperBound(x,!!O):x===void 0?r.lowerBound(k,!!_):r.bound(k,x,!!_,!!O)}function f(j){var k,x=j.name;return{name:x,schema:j,mutate:function(_){var O=_.trans,S=_.type,A=_.keys,K=_.values,I=_.range;return new Promise(function(B,L){B=Ke(B);var C=O.objectStore(x),F=C.keyPath==null,V=S==="put"||S==="add";if(!V&&S!=="delete"&&S!=="deleteRange")throw new Error("Invalid operation type: "+S);var U,G=(A||K||{length:1}).length;if(A&&K&&A.length!==K.length)throw new Error("Given keys array must have same length as given values array.");if(G===0)return B({numFailures:0,failures:{},results:[],lastResult:void 0});function ie(tt){++bt,tn(tt)}var oe=[],ce=[],bt=0;if(S==="deleteRange"){if(I.type===4)return B({numFailures:bt,failures:ce,results:[],lastResult:void 0});I.type===3?oe.push(U=C.clear()):oe.push(U=C.delete(c(I)))}else{var F=V?F?[K,A]:[K,null]:[A,null],re=F[0],Je=F[1];if(V)for(var Ge=0;Ge<G;++Ge)oe.push(U=Je&&Je[Ge]!==void 0?C[S](re[Ge],Je[Ge]):C[S](re[Ge])),U.onerror=ie;else for(Ge=0;Ge<G;++Ge)oe.push(U=C[S](re[Ge])),U.onerror=ie}function yr(tt){tt=tt.target.result,oe.forEach(function(an,Wr){return an.error!=null&&(ce[Wr]=an.error)}),B({numFailures:bt,failures:ce,results:S==="delete"?A:oe.map(function(an){return an.result}),lastResult:tt})}U.onerror=function(tt){ie(tt),yr(tt)},U.onsuccess=yr})},getMany:function(_){var O=_.trans,S=_.keys;return new Promise(function(A,K){A=Ke(A);for(var I,B=O.objectStore(x),L=S.length,C=new Array(L),F=0,V=0,U=function(oe){oe=oe.target,C[oe._pos]=oe.result,++V===F&&A(C)},G=Mt(K),ie=0;ie<L;++ie)S[ie]!=null&&((I=B.get(S[ie]))._pos=ie,I.onsuccess=U,I.onerror=G,++F);F===0&&A(C)})},get:function(_){var O=_.trans,S=_.key;return new Promise(function(A,K){A=Ke(A);var I=O.objectStore(x).get(S);I.onsuccess=function(B){return A(B.target.result)},I.onerror=Mt(K)})},query:(k=w,function(_){return new Promise(function(O,S){O=Ke(O);var A,K,I,F=_.trans,B=_.values,L=_.limit,U=_.query,C=L===1/0?void 0:L,V=U.index,U=U.range,F=F.objectStore(x),V=V.isPrimaryKey?F:F.index(V.name),U=c(U);if(L===0)return O({result:[]});k?((C=B?V.getAll(U,C):V.getAllKeys(U,C)).onsuccess=function(G){return O({result:G.target.result})},C.onerror=Mt(S)):(A=0,K=!B&&"openKeyCursor"in V?V.openKeyCursor(U):V.openCursor(U),I=[],K.onsuccess=function(G){var ie=K.result;return ie?(I.push(B?ie.value:ie.primaryKey),++A===L?O({result:I}):void ie.continue()):O({result:I})},K.onerror=Mt(S))})}),openCursor:function(_){var O=_.trans,S=_.values,A=_.query,K=_.reverse,I=_.unique;return new Promise(function(B,L){B=Ke(B);var V=A.index,C=A.range,F=O.objectStore(x),F=V.isPrimaryKey?F:F.index(V.name),V=K?I?"prevunique":"prev":I?"nextunique":"next",U=!S&&"openKeyCursor"in F?F.openKeyCursor(c(C),V):F.openCursor(c(C),V);U.onerror=Mt(L),U.onsuccess=Ke(function(G){var ie,oe,ce,bt,re=U.result;re?(re.___id=++ba,re.done=!1,ie=re.continue.bind(re),oe=(oe=re.continuePrimaryKey)&&oe.bind(re),ce=re.advance.bind(re),bt=function(){throw new Error("Cursor not stopped")},re.trans=O,re.stop=re.continue=re.continuePrimaryKey=re.advance=function(){throw new Error("Cursor not started")},re.fail=Ke(L),re.next=function(){var Je=this,Ge=1;return this.start(function(){return Ge--?Je.continue():Je.stop()}).then(function(){return Je})},re.start=function(Je){function Ge(){if(U.result)try{Je()}catch(tt){re.fail(tt)}else re.done=!0,re.start=function(){throw new Error("Cursor behind last entry")},re.stop()}var yr=new Promise(function(tt,an){tt=Ke(tt),U.onerror=Mt(an),re.fail=an,re.stop=function(Wr){re.stop=re.continue=re.continuePrimaryKey=re.advance=bt,tt(Wr)}});return U.onsuccess=Ke(function(tt){U.onsuccess=Ge,Ge()}),re.continue=ie,re.continuePrimaryKey=oe,re.advance=ce,Ge(),yr},B(re)):B(null)},L)})},count:function(_){var O=_.query,S=_.trans,A=O.index,K=O.range;return new Promise(function(I,B){var L=S.objectStore(x),C=A.isPrimaryKey?L:L.index(A.name),L=c(K),C=L?C.count(L):C.count();C.onsuccess=Ke(function(F){return I(F.target.result)}),C.onerror=Mt(B)})}}}var l,h,b,E=(h=m,b=yi((l=n).objectStoreNames),{schema:{name:l.name,tables:b.map(function(j){return h.objectStore(j)}).map(function(j){var k=j.keyPath,O=j.autoIncrement,x=$e(k),_={},O={name:j.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:k==null,compound:x,keyPath:k,autoIncrement:O,unique:!0,extractKey:Mu(k)},indexes:yi(j.indexNames).map(function(S){return j.index(S)}).map(function(I){var A=I.name,K=I.unique,B=I.multiEntry,I=I.keyPath,B={name:A,compound:$e(I),keyPath:I,unique:K,multiEntry:B,extractKey:Mu(I)};return _[Be(I)]=B}),getIndexByKeyPath:function(S){return _[Be(S)]}};return _[":id"]=O.primaryKey,k!=null&&(_[Be(k)]=O.primaryKey),O})},hasGetAll:0<b.length&&"getAll"in h.objectStore(b[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),m=E.schema,w=E.hasGetAll,E=m.tables.map(f),g={};return E.forEach(function(j){return g[j.name]=j}),{stack:"dbcore",transaction:n.transaction.bind(n),table:function(j){if(!g[j])throw new Error("Table '".concat(j,"' not found"));return g[j]},MIN_KEY:-1/0,MAX_KEY:Vn(r),schema:m}}function sr(n,r,a,c){var f=a.IDBKeyRange;return a.indexedDB,{dbcore:(c=Lr(r,f,c),n.dbcore.reduce(function(l,h){return h=h.create,v(v({},l),h(l))},c))}}function Ur(n,c){var a=c.db,c=sr(n._middlewares,a,n._deps,c);n.core=c.dbcore,n.tables.forEach(function(f){var l=f.name;n.core.schema.tables.some(function(h){return h.name===l})&&(f.core=n.core.table(l),n[l]instanceof n.Table&&(n[l].core=f.core))})}function He(n,r,a,c){a.forEach(function(f){var l=c[f];r.forEach(function(h){var b=function m(w,E){return it(w,E)||(w=Pt(w))&&m(w,E)}(h,f);(!b||"value"in b&&b.value===void 0)&&(h===n.Transaction.prototype||h instanceof n.Transaction?ue(h,f,{get:function(){return this.table(f)},set:function(m){J(this,f,{value:m,writable:!0,configurable:!0,enumerable:!0})}}):h[f]=new n.Table(f,l))})})}function fr(n,r){r.forEach(function(a){for(var c in a)a[c]instanceof n.Table&&delete a[c]})}function gi(n,r){return n._cfg.version-r._cfg.version}function wi(n,r,a,c){var f=n._dbSchema;a.objectStoreNames.contains("$meta")&&!f.$meta&&(f.$meta=qu("$meta",_t("")[0],[]),n._storeNames.push("$meta"));var l=n._createTransaction("readwrite",n._storeNames,f);l.create(a),l._completion.catch(c);var h=l._reject.bind(l),b=Z.transless||Z;St(function(){return Z.trans=l,Z.transless=b,r!==0?(Ur(n,a),w=r,((m=l).storeNames.includes("$meta")?m.table("$meta").get("version").then(function(E){return E??w}):z.resolve(w)).then(function(E){return j=E,k=l,x=a,_=[],E=(g=n)._versions,O=g._dbSchema=Yn(0,g.idbdb,x),(E=E.filter(function(S){return S._cfg.version>=j})).length!==0?(E.forEach(function(S){_.push(function(){var A=O,K=S._cfg.dbschema;vt(g,A,x),vt(g,K,x),O=g._dbSchema=K;var I=Iu(A,K);I.add.forEach(function(V){ee(x,V[0],V[1].primKey,V[1].indexes)}),I.change.forEach(function(V){if(V.recreate)throw new te.Upgrade("Not yet support for changing primary key");var U=x.objectStore(V.name);V.add.forEach(function(G){return Vr(U,G)}),V.change.forEach(function(G){U.deleteIndex(G.name),Vr(U,G)}),V.del.forEach(function(G){return U.deleteIndex(G)})});var B=S._cfg.contentUpgrade;if(B&&S._cfg.version>j){Ur(g,x),k._memoizedTables={};var L=D(K);I.del.forEach(function(V){L[V]=A[V]}),fr(g,[g.Transaction.prototype]),He(g,[g.Transaction.prototype],ge(L),L),k.schema=L;var C,F=mu(B);return F&&Gt(),I=z.follow(function(){var V;(C=B(k))&&F&&(V=Xt.bind(null,null),C.then(V,V))}),C&&typeof C.then=="function"?z.resolve(C):I.then(function(){return C})}}),_.push(function(A){var K,I,B=S._cfg.dbschema;K=B,I=A,[].slice.call(I.db.objectStoreNames).forEach(function(L){return K[L]==null&&I.db.deleteObjectStore(L)}),fr(g,[g.Transaction.prototype]),He(g,[g.Transaction.prototype],g._storeNames,g._dbSchema),k.schema=g._dbSchema}),_.push(function(A){g.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(g.idbdb.version/10)===S._cfg.version?(g.idbdb.deleteObjectStore("$meta"),delete g._dbSchema.$meta,g._storeNames=g._storeNames.filter(function(K){return K!=="$meta"})):A.objectStore("$meta").put(S._cfg.version,"version"))})}),function S(){return _.length?z.resolve(_.shift()(k.idbtrans)).then(S):z.resolve()}().then(function(){Q(O,x)})):z.resolve();var g,j,k,x,_,O}).catch(h)):(ge(f).forEach(function(E){ee(a,E,f[E].primKey,f[E].indexes)}),Ur(n,a),void z.follow(function(){return n.on.populate.fire(l)}).catch(h));var m,w})}function at(n,r){Q(n._dbSchema,r),r.db.version%10!=0||r.objectStoreNames.contains("$meta")||r.db.createObjectStore("$meta").add(Math.ceil(r.db.version/10-1),"version");var a=Yn(0,n.idbdb,r);vt(n,n._dbSchema,r);for(var c=0,f=Iu(a,n._dbSchema).change;c<f.length;c++){var l=function(h){if(h.change.length||h.recreate)return console.warn("Unable to patch indexes of table ".concat(h.name," because it has changes on the type of index or primary key.")),{value:void 0};var b=r.objectStore(h.name);h.add.forEach(function(m){jt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(h.name,".").concat(m.src)),Vr(b,m)})}(f[c]);if(typeof l=="object")return l.value}}function Iu(n,r){var a,c={del:[],add:[],change:[]};for(a in n)r[a]||c.del.push(a);for(a in r){var f=n[a],l=r[a];if(f){var h={name:a,def:l,recreate:!1,del:[],add:[],change:[]};if(""+(f.primKey.keyPath||"")!=""+(l.primKey.keyPath||"")||f.primKey.auto!==l.primKey.auto)h.recreate=!0,c.change.push(h);else{var b=f.idxByName,m=l.idxByName,w=void 0;for(w in b)m[w]||h.del.push(w);for(w in m){var E=b[w],g=m[w];E?E.src!==g.src&&h.change.push(g):h.add.push(g)}(0<h.del.length||0<h.add.length||0<h.change.length)&&c.change.push(h)}}else c.add.push([a,l])}return c}function ee(n,r,a,c){var f=n.db.createObjectStore(r,a.keyPath?{keyPath:a.keyPath,autoIncrement:a.auto}:{autoIncrement:a.auto});return c.forEach(function(l){return Vr(f,l)}),f}function Q(n,r){ge(n).forEach(function(a){r.db.objectStoreNames.contains(a)||(jt&&console.debug("Dexie: Creating missing table",a),ee(r,a,n[a].primKey,n[a].indexes))})}function Vr(n,r){n.createIndex(r.name,r.keyPath,{unique:r.unique,multiEntry:r.multi})}function Yn(n,r,a){var c={};return yt(r.objectStoreNames,0).forEach(function(f){for(var l=a.objectStore(f),h=Cu(cr(w=l.keyPath),w||"",!0,!1,!!l.autoIncrement,w&&typeof w!="string",!0),b=[],m=0;m<l.indexNames.length;++m){var E=l.index(l.indexNames[m]),w=E.keyPath,E=Cu(E.name,w,!!E.unique,!!E.multiEntry,!1,w&&typeof w!="string",!1);b.push(E)}c[f]=qu(f,h,b)}),c}function vt(n,r,a){for(var c=a.db.objectStoreNames,f=0;f<c.length;++f){var l=c[f],h=a.objectStore(l);n._hasGetAll="getAll"in h;for(var b=0;b<h.indexNames.length;++b){var m=h.indexNames[b],w=h.index(m).keyPath,E=typeof w=="string"?w:"["+yt(w).join("+")+"]";!r[l]||(w=r[l].idxByName[E])&&(w.name=m,delete r[l].idxByName[E],r[l].idxByName[m]=w)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&ae.WorkerGlobalScope&&ae instanceof ae.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(n._hasGetAll=!1)}function _t(n){return n.split(",").map(function(r,a){var l=r.split(":"),c=(f=l[1])===null||f===void 0?void 0:f.trim(),f=(r=l[0].trim()).replace(/([&*]|\+\+)/g,""),l=/^\[/.test(f)?f.match(/^\[(.*)\]$/)[1].split("+"):f;return Cu(f,l||null,/\&/.test(r),/\*/.test(r),/\+\+/.test(r),$e(l),a===0,c)})}var Yr=(xn.prototype._createTableSchema=qu,xn.prototype._parseIndexSyntax=_t,xn.prototype._parseStoresSpec=function(n,r){var a=this;ge(n).forEach(function(c){if(n[c]!==null){var f=a._parseIndexSyntax(n[c]),l=f.shift();if(!l)throw new te.Schema("Invalid schema for table "+c+": "+n[c]);if(l.unique=!0,l.multi)throw new te.Schema("Primary key cannot be multiEntry*");f.forEach(function(h){if(h.auto)throw new te.Schema("Only primary key can be marked as autoIncrement (++)");if(!h.keyPath)throw new te.Schema("Index must have a name and cannot be an empty string")}),f=a._createTableSchema(c,l,f),r[c]=f}})},xn.prototype.stores=function(a){var r=this.db;this._cfg.storesSource=this._cfg.storesSource?Fe(this._cfg.storesSource,a):a;var a=r._versions,c={},f={};return a.forEach(function(l){Fe(c,l._cfg.storesSource),f=l._cfg.dbschema={},l._parseStoresSpec(c,f)}),r._dbSchema=f,fr(r,[r._allTables,r,r.Transaction.prototype]),He(r,[r._allTables,r,r.Transaction.prototype,this._cfg.tables],ge(f),f),r._storeNames=ge(f),this},xn.prototype.upgrade=function(n){return this._cfg.contentUpgrade=gu(this._cfg.contentUpgrade||xe,n),this},xn);function xn(){}function rn(n,r){var a=n._dbNamesDB;return a||(a=n._dbNamesDB=new me(qr,{addons:[],indexedDB:n,IDBKeyRange:r})).version(1).stores({dbnames:"name"}),a.table("dbnames")}function On(n){return n&&typeof n.databases=="function"}function Du(n){return St(function(){return Z.letThrough=!0,n()})}function Ru(n){return!("from"in n)}var et=function(n,r){if(!this){var a=new et;return n&&"d"in n&&Fe(a,n),a}Fe(this,arguments.length?{d:1,from:n,to:1<arguments.length?r:n}:{d:0})};function lr(n,r,a){var c=le(r,a);if(!isNaN(c)){if(0<c)throw RangeError();if(Ru(n))return Fe(n,{from:r,to:a,d:1});var f=n.l,c=n.r;if(le(a,n.from)<0)return f?lr(f,r,a):n.l={from:r,to:a,d:1,l:null,r:null},_i(n);if(0<le(r,n.to))return c?lr(c,r,a):n.r={from:r,to:a,d:1,l:null,r:null},_i(n);le(r,n.from)<0&&(n.from=r,n.l=null,n.d=c?c.d+1:1),0<le(a,n.to)&&(n.to=a,n.r=null,n.d=n.l?n.l.d+1:1),a=!n.r,f&&!n.l&&En(n,f),c&&a&&En(n,c)}}function En(n,r){Ru(r)||function a(c,m){var l=m.from,h=m.to,b=m.l,m=m.r;lr(c,l,h),b&&a(c,b),m&&a(c,m)}(n,r)}function Nu(n,r){var a=dr(r),c=a.next();if(c.done)return!1;for(var f=c.value,l=dr(n),h=l.next(f.from),b=h.value;!c.done&&!h.done;){if(le(b.from,f.to)<=0&&0<=le(b.to,f.from))return!0;le(f.from,b.from)<0?f=(c=a.next(b.from)).value:b=(h=l.next(f.from)).value}return!1}function dr(n){var r=Ru(n)?null:{s:0,n};return{next:function(a){for(var c=0<arguments.length;r;)switch(r.s){case 0:if(r.s=1,c)for(;r.n.l&&le(a,r.n.from)<0;)r={up:r,n:r.n.l,s:1};else for(;r.n.l;)r={up:r,n:r.n.l,s:1};case 1:if(r.s=2,!c||le(a,r.n.to)<=0)return{value:r.n,done:!1};case 2:if(r.n.r){r.s=3,r={up:r,n:r.n.r,s:0};continue}case 3:r=r.up}return{done:!0}}}}function _i(n){var r,a,c=(((r=n.r)===null||r===void 0?void 0:r.d)||0)-(((a=n.l)===null||a===void 0?void 0:a.d)||0),f=1<c?"r":c<-1?"l":"";f&&(r=f=="r"?"l":"r",a=v({},n),c=n[f],n.from=c.from,n.to=c.to,n[f]=c[f],a[f]=c[r],(n[r]=a).d=ki(a)),n.d=ki(n)}function ki(a){var r=a.r,a=a.l;return(r?a?Math.max(r.d,a.d):r.d:a?a.d:0)+1}function xt(n,r){return ge(r).forEach(function(a){n[a]?En(n[a],r[a]):n[a]=function c(f){var l,h,b={};for(l in f)M(f,l)&&(h=f[l],b[l]=!h||typeof h!="object"||$.has(h.constructor)?h:c(h));return b}(r[a])}),n}function Bu(n,r){return n.all||r.all||Object.keys(n).some(function(a){return r[a]&&Nu(r[a],n[a])})}qe(et.prototype,((kt={add:function(n){return En(this,n),this},addKey:function(n){return lr(this,n,n),this},addKeys:function(n){var r=this;return n.forEach(function(a){return lr(r,a,a)}),this},hasKey:function(n){var r=dr(this).next(n).value;return r&&le(r.from,n)<=0&&0<=le(r.to,n)}})[bu]=function(){return dr(this)},kt));var Pn={},hr={},Fu=!1;function ot(n){xt(hr,n),Fu||(Fu=!0,setTimeout(function(){Fu=!1,pr(hr,!(hr={}))},0))}function pr(n,r){r===void 0&&(r=!1);var a=new Set;if(n.all)for(var c=0,f=Object.values(Pn);c<f.length;c++)zr(h=f[c],n,a,r);else for(var l in n){var h,b=/^idb\:\/\/(.*)\/(.*)\//.exec(l);b&&(l=b[1],b=b[2],(h=Pn["idb://".concat(l,"/").concat(b)])&&zr(h,n,a,r))}a.forEach(function(m){return m()})}function zr(n,r,a,c){for(var f=[],l=0,h=Object.entries(n.queries.query);l<h.length;l++){for(var b=h[l],m=b[0],w=[],E=0,g=b[1];E<g.length;E++){var j=g[E];Bu(r,j.obsSet)?j.subscribers.forEach(function(O){return a.add(O)}):c&&w.push(j)}c&&f.push([m,w])}if(c)for(var k=0,x=f;k<x.length;k++){var _=x[k],m=_[0],w=_[1];n.queries.query[m]=w}}function $i(n){var r=n._state,a=n._deps.indexedDB;if(r.isBeingOpened||n.idbdb)return r.dbReadyPromise.then(function(){return r.dbOpenError?Ie(r.dbOpenError):n});r.isBeingOpened=!0,r.dbOpenError=null,r.openComplete=!1;var c=r.openCanceller,f=Math.round(10*n.verno),l=!1;function h(){if(r.openCanceller!==c)throw new te.DatabaseClosed("db.open() was cancelled")}function b(){return new z(function(j,k){if(h(),!a)throw new te.MissingAPI;var x=n.name,_=r.autoSchema||!f?a.open(x):a.open(x,f);if(!_)throw new te.MissingAPI;_.onerror=Mt(k),_.onblocked=Ke(n._fireOnBlocked),_.onupgradeneeded=Ke(function(O){var S;E=_.transaction,r.autoSchema&&!n._options.allowEmptyDB?(_.onerror=tn,E.abort(),_.result.close(),(S=a.deleteDatabase(x)).onsuccess=S.onerror=Ke(function(){k(new te.NoSuchDatabase("Database ".concat(x," doesnt exist")))})):(E.onerror=Mt(k),O=O.oldVersion>Math.pow(2,62)?0:O.oldVersion,g=O<1,n.idbdb=_.result,l&&at(n,E),wi(n,O/10,E,k))},k),_.onsuccess=Ke(function(){E=null;var O,S,A,K,I,B=n.idbdb=_.result,L=yt(B.objectStoreNames);if(0<L.length)try{var C=B.transaction((K=L).length===1?K[0]:K,"readonly");if(r.autoSchema)S=B,A=C,(O=n).verno=S.version/10,A=O._dbSchema=Yn(0,S,A),O._storeNames=yt(S.objectStoreNames,0),He(O,[O._allTables],ge(A),A);else if(vt(n,n._dbSchema,C),((I=Iu(Yn(0,(I=n).idbdb,C),I._dbSchema)).add.length||I.change.some(function(F){return F.add.length||F.change.length}))&&!l)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),B.close(),f=B.version+1,l=!0,j(b());Ur(n,C)}catch{}Ln.push(n),B.onversionchange=Ke(function(F){r.vcFired=!0,n.on("versionchange").fire(F)}),B.onclose=Ke(function(){n.close({disableAutoOpen:!1})}),g&&(I=n._deps,C=x,B=I.indexedDB,I=I.IDBKeyRange,On(B)||C===qr||rn(B,I).put({name:C}).catch(xe)),j()},k)}).catch(function(j){switch(j==null?void 0:j.name){case"UnknownError":if(0<r.PR1398_maxLoop)return r.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),b();break;case"VersionError":if(0<f)return f=0,b()}return z.reject(j)})}var m,w=r.dbReadyResolve,E=null,g=!1;return z.race([c,(typeof navigator>"u"?z.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(j){function k(){return indexedDB.databases().finally(j)}m=setInterval(k,100),k()}).finally(function(){return clearInterval(m)}):Promise.resolve()).then(b)]).then(function(){return h(),r.onReadyBeingFired=[],z.resolve(Du(function(){return n.on.ready.fire(n.vip)})).then(function j(){if(0<r.onReadyBeingFired.length){var k=r.onReadyBeingFired.reduce(gu,xe);return r.onReadyBeingFired=[],z.resolve(Du(function(){return k(n.vip)})).then(j)}})}).finally(function(){r.openCanceller===c&&(r.onReadyBeingFired=null,r.isBeingOpened=!1)}).catch(function(j){r.dbOpenError=j;try{E&&E.abort()}catch{}return c===r.openCanceller&&n._close(),Ie(j)}).finally(function(){r.openComplete=!0,w()}).then(function(){var j;return g&&(j={},n.tables.forEach(function(k){k.schema.indexes.forEach(function(x){x.name&&(j["idb://".concat(n.name,"/").concat(k.name,"/").concat(x.name)]=new et(-1/0,[[[]]]))}),j["idb://".concat(n.name,"/").concat(k.name,"/")]=j["idb://".concat(n.name,"/").concat(k.name,"/:dels")]=new et(-1/0,[[[]]])}),nn(or).fire(j),pr(j,!0)),n})}function Hr(n){function r(l){return n.next(l)}var a=f(r),c=f(function(l){return n.throw(l)});function f(l){return function(m){var b=l(m),m=b.value;return b.done?m:m&&typeof m.then=="function"?m.then(a,c):$e(m)?Promise.all(m).then(a,c):a(m)}}return f(r)()}function zn(n,r,a){for(var c=$e(n)?n.slice():[n],f=0;f<a;++f)c.push(r);return c}var ma={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(n){return v(v({},n),{table:function(r){var a=n.table(r),c=a.schema,f={},l=[];function h(g,j,k){var x=Be(g),_=f[x]=f[x]||[],O=g==null?0:typeof g=="string"?1:g.length,S=0<j,S=v(v({},k),{name:S?"".concat(x,"(virtual-from:").concat(k.name,")"):k.name,lowLevelIndex:k,isVirtual:S,keyTail:j,keyLength:O,extractKey:Mu(g),unique:!S&&k.unique});return _.push(S),S.isPrimaryKey||l.push(S),1<O&&h(O===2?g[0]:g.slice(0,O-1),j+1,k),_.sort(function(A,K){return A.keyTail-K.keyTail}),S}r=h(c.primaryKey.keyPath,0,c.primaryKey),f[":id"]=[r];for(var b=0,m=c.indexes;b<m.length;b++){var w=m[b];h(w.keyPath,0,w)}function E(g){var j,k=g.query.index;return k.isVirtual?v(v({},g),{query:{index:k.lowLevelIndex,range:(j=g.query.range,k=k.keyTail,{type:j.type===1?2:j.type,lower:zn(j.lower,j.lowerOpen?n.MAX_KEY:n.MIN_KEY,k),lowerOpen:!0,upper:zn(j.upper,j.upperOpen?n.MIN_KEY:n.MAX_KEY,k),upperOpen:!0})}}):g}return v(v({},a),{schema:v(v({},c),{primaryKey:r,indexes:l,getIndexByKeyPath:function(g){return(g=f[Be(g)])&&g[0]}}),count:function(g){return a.count(E(g))},query:function(g){return a.query(E(g))},openCursor:function(g){var j=g.query.index,k=j.keyTail,x=j.isVirtual,_=j.keyLength;return x?a.openCursor(E(g)).then(function(S){return S&&O(S)}):a.openCursor(g);function O(S){return Object.create(S,{continue:{value:function(A){A!=null?S.continue(zn(A,g.reverse?n.MAX_KEY:n.MIN_KEY,k)):g.unique?S.continue(S.key.slice(0,_).concat(g.reverse?n.MIN_KEY:n.MAX_KEY,k)):S.continue()}},continuePrimaryKey:{value:function(A,K){S.continuePrimaryKey(zn(A,n.MAX_KEY,k),K)}},primaryKey:{get:function(){return S.primaryKey}},key:{get:function(){var A=S.key;return _===1?A[0]:A.slice(0,_)}},value:{get:function(){return S.value}}})}}})}})}};function Jr(n,r,a,c){return a=a||{},c=c||"",ge(n).forEach(function(f){var l,h,b;M(r,f)?(l=n[f],h=r[f],typeof l=="object"&&typeof h=="object"&&l&&h?(b=vu(l))!==vu(h)?a[c+f]=r[f]:b==="Object"?Jr(l,h,a,c+f+"."):l!==h&&(a[c+f]=r[f]):l!==h&&(a[c+f]=r[f])):a[c+f]=void 0}),ge(r).forEach(function(f){M(n,f)||(a[c+f]=r[f])}),a}function Lu(n,r){return r.type==="delete"?r.keys:r.keys||r.values.map(n.extractKey)}var xi={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(n){return v(v({},n),{table:function(r){var a=n.table(r),c=a.schema.primaryKey;return v(v({},a),{mutate:function(f){var l=Z.trans,h=l.table(r).hook,b=h.deleting,m=h.creating,w=h.updating;switch(f.type){case"add":if(m.fire===xe)break;return l._promise("readwrite",function(){return E(f)},!0);case"put":if(m.fire===xe&&w.fire===xe)break;return l._promise("readwrite",function(){return E(f)},!0);case"delete":if(b.fire===xe)break;return l._promise("readwrite",function(){return E(f)},!0);case"deleteRange":if(b.fire===xe)break;return l._promise("readwrite",function(){return function g(j,k,x){return a.query({trans:j,values:!1,query:{index:c,range:k},limit:x}).then(function(_){var O=_.result;return E({type:"delete",keys:O,trans:j}).then(function(S){return 0<S.numFailures?Promise.reject(S.failures[0]):O.length<x?{failures:[],numFailures:0,lastResult:void 0}:g(j,v(v({},k),{lower:O[O.length-1],lowerOpen:!0}),x)})})}(f.trans,f.range,1e4)},!0)}return a.mutate(f);function E(g){var j,k,x,_=Z.trans,O=g.keys||Lu(c,g);if(!O)throw new Error("Keys missing");return(g=g.type==="add"||g.type==="put"?v(v({},g),{keys:O}):v({},g)).type!=="delete"&&(g.values=R([],g.values)),g.keys&&(g.keys=R([],g.keys)),j=a,x=O,((k=g).type==="add"?Promise.resolve([]):j.getMany({trans:k.trans,keys:x,cache:"immutable"})).then(function(S){var A=O.map(function(K,I){var B,L,C,F=S[I],V={onerror:null,onsuccess:null};return g.type==="delete"?b.fire.call(V,K,F,_):g.type==="add"||F===void 0?(B=m.fire.call(V,K,g.values[I],_),K==null&&B!=null&&(g.keys[I]=K=B,c.outbound||be(g.values[I],c.keyPath,K))):(B=Jr(F,g.values[I]),(L=w.fire.call(V,B,K,F,_))&&(C=g.values[I],Object.keys(L).forEach(function(U){M(C,U)?C[U]=L[U]:be(C,U,L[U])}))),V});return a.mutate(g).then(function(K){for(var I=K.failures,B=K.results,L=K.numFailures,K=K.lastResult,C=0;C<O.length;++C){var F=(B||O)[C],V=A[C];F==null?V.onerror&&V.onerror(I[C]):V.onsuccess&&V.onsuccess(g.type==="put"&&S[C]?g.values[C]:F)}return{failures:I,results:B,numFailures:L,lastResult:K}}).catch(function(K){return A.forEach(function(I){return I.onerror&&I.onerror(K)}),Promise.reject(K)})})}}})}})}};function Oi(n,r,a){try{if(!r||r.keys.length<n.length)return null;for(var c=[],f=0,l=0;f<r.keys.length&&l<n.length;++f)le(r.keys[f],n[l])===0&&(c.push(a?vn(r.values[f]):r.values[f]),++l);return c.length===n.length?c:null}catch{return null}}var Ei={stack:"dbcore",level:-1,create:function(n){return{table:function(r){var a=n.table(r);return v(v({},a),{getMany:function(c){if(!c.cache)return a.getMany(c);var f=Oi(c.keys,c.trans._cache,c.cache==="clone");return f?z.resolve(f):a.getMany(c).then(function(l){return c.trans._cache={keys:c.keys,values:c.cache==="clone"?vn(l):l},l})},mutate:function(c){return c.type!=="add"&&(c.trans._cache=null),a.mutate(c)}})}}}};function Pi(n,r){return n.trans.mode==="readonly"&&!!n.subscr&&!n.trans.explicit&&n.trans.db._options.cache!=="disabled"&&!r.schema.primaryKey.outbound}function Uu(n,r){switch(n){case"query":return r.values&&!r.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var ya={stack:"dbcore",level:0,name:"Observability",create:function(n){var r=n.schema.name,a=new et(n.MIN_KEY,n.MAX_KEY);return v(v({},n),{transaction:function(c,f,l){if(Z.subscr&&f!=="readonly")throw new te.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Z.querier));return n.transaction(c,f,l)},table:function(c){var f=n.table(c),l=f.schema,h=l.primaryKey,g=l.indexes,b=h.extractKey,m=h.outbound,w=h.autoIncrement&&g.filter(function(k){return k.compound&&k.keyPath.includes(h.keyPath)}),E=v(v({},f),{mutate:function(k){function x(U){return U="idb://".concat(r,"/").concat(c,"/").concat(U),K[U]||(K[U]=new et)}var _,O,S,A=k.trans,K=k.mutatedParts||(k.mutatedParts={}),I=x(""),B=x(":dels"),L=k.type,V=k.type==="deleteRange"?[k.range]:k.type==="delete"?[k.keys]:k.values.length<50?[Lu(h,k).filter(function(U){return U}),k.values]:[],C=V[0],F=V[1],V=k.trans._cache;return $e(C)?(I.addKeys(C),(V=L==="delete"||C.length===F.length?Oi(C,V):null)||B.addKeys(C),(V||F)&&(_=x,O=V,S=F,l.indexes.forEach(function(U){var G=_(U.name||"");function ie(ce){return ce!=null?U.extractKey(ce):null}function oe(ce){return U.multiEntry&&$e(ce)?ce.forEach(function(bt){return G.addKey(bt)}):G.addKey(ce)}(O||S).forEach(function(ce,Je){var re=O&&ie(O[Je]),Je=S&&ie(S[Je]);le(re,Je)!==0&&(re!=null&&oe(re),Je!=null&&oe(Je))})}))):C?(F={from:(F=C.lower)!==null&&F!==void 0?F:n.MIN_KEY,to:(F=C.upper)!==null&&F!==void 0?F:n.MAX_KEY},B.add(F),I.add(F)):(I.add(a),B.add(a),l.indexes.forEach(function(U){return x(U.name).add(a)})),f.mutate(k).then(function(U){return!C||k.type!=="add"&&k.type!=="put"||(I.addKeys(U.results),w&&w.forEach(function(G){for(var ie=k.values.map(function(re){return G.extractKey(re)}),oe=G.keyPath.findIndex(function(re){return re===h.keyPath}),ce=0,bt=U.results.length;ce<bt;++ce)ie[ce][oe]=U.results[ce];x(G.name).addKeys(ie)})),A.mutatedParts=xt(A.mutatedParts||{},K),U})}}),g=function(x){var _=x.query,x=_.index,_=_.range;return[x,new et((x=_.lower)!==null&&x!==void 0?x:n.MIN_KEY,(_=_.upper)!==null&&_!==void 0?_:n.MAX_KEY)]},j={get:function(k){return[h,new et(k.key)]},getMany:function(k){return[h,new et().addKeys(k.keys)]},count:g,query:g,openCursor:g};return ge(j).forEach(function(k){E[k]=function(x){var _=Z.subscr,O=!!_,S=Pi(Z,f)&&Uu(k,x)?x.obsSet={}:_;if(O){var A=function(F){return F="idb://".concat(r,"/").concat(c,"/").concat(F),S[F]||(S[F]=new et)},K=A(""),I=A(":dels"),_=j[k](x),O=_[0],_=_[1];if((k==="query"&&O.isPrimaryKey&&!x.values?I:A(O.name||"")).add(_),!O.isPrimaryKey){if(k!=="count"){var B=k==="query"&&m&&x.values&&f.query(v(v({},x),{values:!1}));return f[k].apply(this,arguments).then(function(F){if(k==="query"){if(m&&x.values)return B.then(function(ie){return ie=ie.result,K.addKeys(ie),F});var V=x.values?F.result.map(b):F.result;(x.values?K:I).addKeys(V)}else if(k==="openCursor"){var U=F,G=x.values;return U&&Object.create(U,{key:{get:function(){return I.addKey(U.primaryKey),U.key}},primaryKey:{get:function(){var ie=U.primaryKey;return I.addKey(ie),ie}},value:{get:function(){return G&&K.addKey(U.primaryKey),U.value}}})}return F})}I.add(a)}}return f[k].apply(this,arguments)}}),E}})}};function Ai(n,r,a){if(a.numFailures===0)return r;if(r.type==="deleteRange")return null;var c=r.keys?r.keys.length:"values"in r&&r.values?r.values.length:1;return a.numFailures===c?null:(r=v({},r),$e(r.keys)&&(r.keys=r.keys.filter(function(f,l){return!(l in a.failures)})),"values"in r&&$e(r.values)&&(r.values=r.values.filter(function(f,l){return!(l in a.failures)})),r)}function Vu(n,r){return a=n,((c=r).lower===void 0||(c.lowerOpen?0<le(a,c.lower):0<=le(a,c.lower)))&&(n=n,(r=r).upper===void 0||(r.upperOpen?le(n,r.upper)<0:le(n,r.upper)<=0));var a,c}function ji(n,r,j,c,f,l){if(!j||j.length===0)return n;var h=r.query.index,b=h.multiEntry,m=r.query.range,w=c.schema.primaryKey.extractKey,E=h.extractKey,g=(h.lowLevelIndex||h).extractKey,j=j.reduce(function(k,x){var _=k,O=[];if(x.type==="add"||x.type==="put")for(var S=new et,A=x.values.length-1;0<=A;--A){var K,I=x.values[A],B=w(I);S.hasKey(B)||(K=E(I),(b&&$e(K)?K.some(function(U){return Vu(U,m)}):Vu(K,m))&&(S.addKey(B),O.push(I)))}switch(x.type){case"add":var L=new et().addKeys(r.values?k.map(function(G){return w(G)}):k),_=k.concat(r.values?O.filter(function(G){return G=w(G),!L.hasKey(G)&&(L.addKey(G),!0)}):O.map(function(G){return w(G)}).filter(function(G){return!L.hasKey(G)&&(L.addKey(G),!0)}));break;case"put":var C=new et().addKeys(x.values.map(function(G){return w(G)}));_=k.filter(function(G){return!C.hasKey(r.values?w(G):G)}).concat(r.values?O:O.map(function(G){return w(G)}));break;case"delete":var F=new et().addKeys(x.keys);_=k.filter(function(G){return!F.hasKey(r.values?w(G):G)});break;case"deleteRange":var V=x.range;_=k.filter(function(G){return!Vu(w(G),V)})}return _},n);return j===n?n:(j.sort(function(k,x){return le(g(k),g(x))||le(w(k),w(x))}),r.limit&&r.limit<1/0&&(j.length>r.limit?j.length=r.limit:n.length===r.limit&&j.length<r.limit&&(f.dirty=!0)),l?Object.freeze(j):j)}function Dt(n,r){return le(n.lower,r.lower)===0&&le(n.upper,r.upper)===0&&!!n.lowerOpen==!!r.lowerOpen&&!!n.upperOpen==!!r.upperOpen}function ct(n,r){return function(a,c,f,l){if(a===void 0)return c!==void 0?-1:0;if(c===void 0)return 1;if((c=le(a,c))===0){if(f&&l)return 0;if(f)return 1;if(l)return-1}return c}(n.lower,r.lower,n.lowerOpen,r.lowerOpen)<=0&&0<=function(a,c,f,l){if(a===void 0)return c!==void 0?1:0;if(c===void 0)return-1;if((c=le(a,c))===0){if(f&&l)return 0;if(f)return-1;if(l)return 1}return c}(n.upper,r.upper,n.upperOpen,r.upperOpen)}function Yu(n,r,a,c){n.subscribers.add(a),c.addEventListener("abort",function(){var f,l;n.subscribers.delete(a),n.subscribers.size===0&&(f=n,l=r,setTimeout(function(){f.subscribers.size===0&&bn(l,f)},3e3))})}var Hn={stack:"dbcore",level:0,name:"Cache",create:function(n){var r=n.schema.name;return v(v({},n),{transaction:function(a,c,f){var l,h,b=n.transaction(a,c,f);return c==="readwrite"&&(h=(l=new AbortController).signal,f=function(m){return function(){if(l.abort(),c==="readwrite"){for(var w=new Set,E=0,g=a;E<g.length;E++){var j=g[E],k=Pn["idb://".concat(r,"/").concat(j)];if(k){var x=n.table(j),_=k.optimisticOps.filter(function(G){return G.trans===b});if(b._explicit&&m&&b.mutatedParts)for(var O=0,S=Object.values(k.queries.query);O<S.length;O++)for(var A=0,K=(L=S[O]).slice();A<K.length;A++)Bu((C=K[A]).obsSet,b.mutatedParts)&&(bn(L,C),C.subscribers.forEach(function(G){return w.add(G)}));else if(0<_.length){k.optimisticOps=k.optimisticOps.filter(function(G){return G.trans!==b});for(var I=0,B=Object.values(k.queries.query);I<B.length;I++)for(var L,C,F,V=0,U=(L=B[I]).slice();V<U.length;V++)(C=U[V]).res!=null&&b.mutatedParts&&(m&&!C.dirty?(F=Object.isFrozen(C.res),F=ji(C.res,C.req,_,x,C,F),C.dirty?(bn(L,C),C.subscribers.forEach(function(G){return w.add(G)})):F!==C.res&&(C.res=F,C.promise=z.resolve({result:F}))):(C.dirty&&bn(L,C),C.subscribers.forEach(function(G){return w.add(G)})))}}}w.forEach(function(G){return G()})}}},b.addEventListener("abort",f(!1),{signal:h}),b.addEventListener("error",f(!1),{signal:h}),b.addEventListener("complete",f(!0),{signal:h})),b},table:function(a){var c=n.table(a),f=c.schema.primaryKey;return v(v({},c),{mutate:function(l){var h=Z.trans;if(f.outbound||h.db._options.cache==="disabled"||h.explicit||h.idbtrans.mode!=="readwrite")return c.mutate(l);var b=Pn["idb://".concat(r,"/").concat(a)];return b?(h=c.mutate(l),l.type!=="add"&&l.type!=="put"||!(50<=l.values.length||Lu(f,l).some(function(m){return m==null}))?(b.optimisticOps.push(l),l.mutatedParts&&ot(l.mutatedParts),h.then(function(m){0<m.numFailures&&(bn(b.optimisticOps,l),(m=Ai(0,l,m))&&b.optimisticOps.push(m),l.mutatedParts&&ot(l.mutatedParts))}),h.catch(function(){bn(b.optimisticOps,l),l.mutatedParts&&ot(l.mutatedParts)})):h.then(function(m){var w=Ai(0,v(v({},l),{values:l.values.map(function(E,g){var j;return m.failures[g]?E:(E=(j=f.keyPath)!==null&&j!==void 0&&j.includes(".")?vn(E):v({},E),be(E,f.keyPath,m.results[g]),E)})}),m);b.optimisticOps.push(w),queueMicrotask(function(){return l.mutatedParts&&ot(l.mutatedParts)})}),h):c.mutate(l)},query:function(l){if(!Pi(Z,c)||!Uu("query",l))return c.query(l);var h=((w=Z.trans)===null||w===void 0?void 0:w.db._options.cache)==="immutable",g=Z,b=g.requery,m=g.signal,w=function(x,_,O,S){var A=Pn["idb://".concat(x,"/").concat(_)];if(!A)return[];if(!(_=A.queries[O]))return[null,!1,A,null];var K=_[(S.query?S.query.index.name:null)||""];if(!K)return[null,!1,A,null];switch(O){case"query":var I=K.find(function(B){return B.req.limit===S.limit&&B.req.values===S.values&&Dt(B.req.query.range,S.query.range)});return I?[I,!0,A,K]:[K.find(function(B){return("limit"in B.req?B.req.limit:1/0)>=S.limit&&(!S.values||B.req.values)&&ct(B.req.query.range,S.query.range)}),!1,A,K];case"count":return I=K.find(function(B){return Dt(B.req.query.range,S.query.range)}),[I,!!I,A,K]}}(r,a,"query",l),E=w[0],g=w[1],j=w[2],k=w[3];return E&&g?E.obsSet=l.obsSet:(g=c.query(l).then(function(x){var _=x.result;if(E&&(E.res=_),h){for(var O=0,S=_.length;O<S;++O)Object.freeze(_[O]);Object.freeze(_)}else x.result=vn(_);return x}).catch(function(x){return k&&E&&bn(k,E),Promise.reject(x)}),E={obsSet:l.obsSet,promise:g,subscribers:new Set,type:"query",req:l,dirty:!1},k?k.push(E):(k=[E],(j=j||(Pn["idb://".concat(r,"/").concat(a)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[l.query.index.name||""]=k)),Yu(E,k,b,m),E.promise.then(function(x){return{result:ji(x.result,l,j==null?void 0:j.optimisticOps,c,E,h)}})}})}})}};function vr(n,r){return new Proxy(n,{get:function(a,c,f){return c==="db"?r:Reflect.get(a,c,f)}})}var me=(De.prototype.version=function(n){if(isNaN(n)||n<.1)throw new te.Type("Given version is not a positive number");if(n=Math.round(10*n)/10,this.idbdb||this._state.isBeingOpened)throw new te.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,n);var r=this._versions,a=r.filter(function(c){return c._cfg.version===n})[0];return a||(a=new this.Version(n),r.push(a),r.sort(gi),a.stores({}),this._state.autoSchema=!1,a)},De.prototype._whenReady=function(n){var r=this;return this.idbdb&&(this._state.openComplete||Z.letThrough||this._vip)?n():new z(function(a,c){if(r._state.openComplete)return c(new te.DatabaseClosed(r._state.dbOpenError));if(!r._state.isBeingOpened){if(!r._state.autoOpen)return void c(new te.DatabaseClosed);r.open().catch(xe)}r._state.dbReadyPromise.then(a,c)}).then(n)},De.prototype.use=function(n){var r=n.stack,a=n.create,c=n.level,f=n.name;return f&&this.unuse({stack:r,name:f}),n=this._middlewares[r]||(this._middlewares[r]=[]),n.push({stack:r,create:a,level:c??10,name:f}),n.sort(function(l,h){return l.level-h.level}),this},De.prototype.unuse=function(n){var r=n.stack,a=n.name,c=n.create;return r&&this._middlewares[r]&&(this._middlewares[r]=this._middlewares[r].filter(function(f){return c?f.create!==c:!!a&&f.name!==a})),this},De.prototype.open=function(){var n=this;return Zt($t,function(){return $i(n)})},De.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var n=this._state,r=Ln.indexOf(this);if(0<=r&&Ln.splice(r,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}n.isBeingOpened||(n.dbReadyPromise=new z(function(a){n.dbReadyResolve=a}),n.openCanceller=new z(function(a,c){n.cancelOpen=c}))},De.prototype.close=function(a){var r=(a===void 0?{disableAutoOpen:!0}:a).disableAutoOpen,a=this._state;r?(a.isBeingOpened&&a.cancelOpen(new te.DatabaseClosed),this._close(),a.autoOpen=!1,a.dbOpenError=new te.DatabaseClosed):(this._close(),a.autoOpen=this._options.autoOpen||a.isBeingOpened,a.openComplete=!1,a.dbOpenError=null)},De.prototype.delete=function(n){var r=this;n===void 0&&(n={disableAutoOpen:!0});var a=0<arguments.length&&typeof arguments[0]!="object",c=this._state;return new z(function(f,l){function h(){r.close(n);var b=r._deps.indexedDB.deleteDatabase(r.name);b.onsuccess=Ke(function(){var m,w,E;m=r._deps,w=r.name,E=m.indexedDB,m=m.IDBKeyRange,On(E)||w===qr||rn(E,m).delete(w).catch(xe),f()}),b.onerror=Mt(l),b.onblocked=r._fireOnBlocked}if(a)throw new te.InvalidArgument("Invalid closeOptions argument to db.delete()");c.isBeingOpened?c.dbReadyPromise.then(h):h()})},De.prototype.backendDB=function(){return this.idbdb},De.prototype.isOpen=function(){return this.idbdb!==null},De.prototype.hasBeenClosed=function(){var n=this._state.dbOpenError;return n&&n.name==="DatabaseClosed"},De.prototype.hasFailed=function(){return this._state.dbOpenError!==null},De.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(De.prototype,"tables",{get:function(){var n=this;return ge(this._allTables).map(function(r){return n._allTables[r]})},enumerable:!1,configurable:!0}),De.prototype.transaction=function(){var n=(function(r,a,c){var f=arguments.length;if(f<2)throw new te.InvalidArgument("Too few arguments");for(var l=new Array(f-1);--f;)l[f-1]=arguments[f];return c=l.pop(),[r,pn(l),c]}).apply(this,arguments);return this._transaction.apply(this,n)},De.prototype._transaction=function(n,r,a){var c=this,f=Z.trans;f&&f.db===this&&n.indexOf("!")===-1||(f=null);var l,h,b=n.indexOf("?")!==-1;n=n.replace("!","").replace("?","");try{if(h=r.map(function(w){if(w=w instanceof c.Table?w.name:w,typeof w!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return w}),n=="r"||n===nr)l=nr;else{if(n!="rw"&&n!=Qe)throw new te.InvalidArgument("Invalid transaction mode: "+n);l=Qe}if(f){if(f.mode===nr&&l===Qe){if(!b)throw new te.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");f=null}f&&h.forEach(function(w){if(f&&f.storeNames.indexOf(w)===-1){if(!b)throw new te.SubTransaction("Table "+w+" not included in parent transaction.");f=null}}),b&&f&&!f.active&&(f=null)}}catch(w){return f?f._promise(null,function(E,g){g(w)}):Ie(w)}var m=(function w(E,g,j,k,x){return z.resolve().then(function(){var _=Z.transless||Z,O=E._createTransaction(g,j,E._dbSchema,k);if(O.explicit=!0,_={trans:O,transless:_},k)O.idbtrans=k.idbtrans;else try{O.create(),O.idbtrans._explicit=!0,E._state.PR1398_maxLoop=3}catch(K){return K.name===yu.InvalidState&&E.isOpen()&&0<--E._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),E.close({disableAutoOpen:!1}),E.open().then(function(){return w(E,g,j,null,x)})):Ie(K)}var S,A=mu(x);return A&&Gt(),_=z.follow(function(){var K;(S=x.call(O,O))&&(A?(K=Xt.bind(null,null),S.then(K,K)):typeof S.next=="function"&&typeof S.throw=="function"&&(S=Hr(S)))},_),(S&&typeof S.then=="function"?z.resolve(S).then(function(K){return O.active?K:Ie(new te.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):_.then(function(){return S})).then(function(K){return k&&O._resolve(),O._completion.then(function(){return K})}).catch(function(K){return O._reject(K),Ie(K)})})}).bind(null,this,l,h,f,a);return f?f._promise(l,m,"lock"):Z.trans?Zt(Z.transless,function(){return c._whenReady(m)}):this._whenReady(m)},De.prototype.table=function(n){if(!M(this._allTables,n))throw new te.InvalidTable("Table ".concat(n," does not exist"));return this._allTables[n]},De);function De(n,r){var a=this;this._middlewares={},this.verno=0;var c=De.dependencies;this._options=r=v({addons:De.addons,autoOpen:!0,indexedDB:c.indexedDB,IDBKeyRange:c.IDBKeyRange,cache:"cloned"},r),this._deps={indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange},c=r.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var f,l,h,b,m,w={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:xe,dbReadyPromise:null,cancelOpen:xe,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:r.autoOpen};w.dbReadyPromise=new z(function(g){w.dbReadyResolve=g}),w.openCanceller=new z(function(g,j){w.cancelOpen=j}),this._state=w,this.name=n,this.on=rr(this,"populate","blocked","versionchange","close",{ready:[gu,xe]}),this.once=function(g,j){var k=function(){for(var x=[],_=0;_<arguments.length;_++)x[_]=arguments[_];a.on(g).unsubscribe(k),j.apply(a,x)};return a.on(g,k)},this.on.ready.subscribe=Xe(this.on.ready.subscribe,function(g){return function(j,k){De.vip(function(){var x,_=a._state;_.openComplete?(_.dbOpenError||z.resolve().then(j),k&&g(j)):_.onReadyBeingFired?(_.onReadyBeingFired.push(j),k&&g(j)):(g(j),x=a,k||g(function O(){x.on.ready.unsubscribe(j),x.on.ready.unsubscribe(O)}))})}}),this.Collection=(f=this,ur(ir.prototype,function(S,O){this.db=f;var k=li,x=null;if(O)try{k=O()}catch(A){x=A}var _=S._ctx,O=_.table,S=O.hook.reading.fire;this._ctx={table:O,index:_.index,isPrimKey:!_.index||O.schema.primKey.keyPath&&_.index===O.schema.primKey.name,range:k,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:x,or:_.or,valueMapper:S!==Gn?S:null}})),this.Table=(l=this,ur(pi.prototype,function(g,j,k){this.db=l,this._tx=k,this.name=g,this.schema=j,this.hook=l._allTables[g]?l._allTables[g].hook:rr(null,{creating:[da,xe],reading:[la,Gn],updating:[ha,xe],deleting:[Nn,xe]})})),this.Transaction=(h=this,ur(mi.prototype,function(g,j,k,x,_){var O=this;g!=="readonly"&&j.forEach(function(S){S=(S=k[S])===null||S===void 0?void 0:S.yProps,S&&(j=j.concat(S.map(function(A){return A.updatesTable})))}),this.db=h,this.mode=g,this.storeNames=j,this.schema=k,this.chromeTransactionDurability=x,this.idbtrans=null,this.on=rr(this,"complete","error","abort"),this.parent=_||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new z(function(S,A){O._resolve=S,O._reject=A}),this._completion.then(function(){O.active=!1,O.on.complete.fire()},function(S){var A=O.active;return O.active=!1,O.on.error.fire(S),O.parent?O.parent._reject(S):A&&O.idbtrans&&O.idbtrans.abort(),Ie(S)})})),this.Version=(b=this,ur(Yr.prototype,function(g){this.db=b,this._cfg={version:g,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(m=this,ur(bi.prototype,function(g,j,k){if(this.db=m,this._ctx={table:g,index:j===":id"?null:j,or:k},this._cmp=this._ascending=le,this._descending=function(x,_){return le(_,x)},this._max=function(x,_){return 0<le(x,_)?x:_},this._min=function(x,_){return le(x,_)<0?x:_},this._IDBKeyRange=m._deps.IDBKeyRange,!this._IDBKeyRange)throw new te.MissingAPI})),this.on("versionchange",function(g){0<g.newVersion?console.warn("Another connection wants to upgrade database '".concat(a.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(a.name,"'. Closing db now to resume the delete request.")),a.close({disableAutoOpen:!1})}),this.on("blocked",function(g){!g.newVersion||g.newVersion<g.oldVersion?console.warn("Dexie.delete('".concat(a.name,"') was blocked")):console.warn("Upgrade '".concat(a.name,"' blocked by other connection holding version ").concat(g.oldVersion/10))}),this._maxKey=Vn(r.IDBKeyRange),this._createTransaction=function(g,j,k,x){return new a.Transaction(g,j,k,a._options.chromeTransactionDurability,x)},this._fireOnBlocked=function(g){a.on("blocked").fire(g),Ln.filter(function(j){return j.name===a.name&&j!==a&&!j._state.vcFired}).map(function(j){return j.on("versionchange").fire(g)})},this.use(Ei),this.use(Hn),this.use(ya),this.use(ma),this.use(xi);var E=new Proxy(this,{get:function(g,j,k){if(j==="_vip")return!0;if(j==="table")return function(_){return vr(a.table(_),E)};var x=Reflect.get(g,j,k);return x instanceof pi?vr(x,E):j==="tables"?x.map(function(_){return vr(_,E)}):j==="_createTransaction"?function(){return vr(x.apply(this,arguments),E)}:x}});this.vip=E,c.forEach(function(g){return g(a)})}var br,kt=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Si=(un.prototype.subscribe=function(n,r,a){return this._subscribe(n&&typeof n!="function"?n:{next:n,error:r,complete:a})},un.prototype[kt]=function(){return this},un);function un(n){this._subscribe=n}try{br={indexedDB:ae.indexedDB||ae.mozIndexedDB||ae.webkitIndexedDB||ae.msIndexedDB,IDBKeyRange:ae.IDBKeyRange||ae.webkitIDBKeyRange}}catch{br={indexedDB:null,IDBKeyRange:null}}function mr(n){var r,a=!1,c=new Si(function(f){var l=mu(n),h,b=!1,m={},w={},E={get closed(){return b},unsubscribe:function(){b||(b=!0,h&&h.abort(),g&&nn.storagemutated.unsubscribe(k))}};f.start&&f.start(E);var g=!1,j=function(){return Pu(x)},k=function(_){xt(m,_),Bu(w,m)&&j()},x=function(){var _,O,S;!b&&br.indexedDB&&(m={},_={},h&&h.abort(),h=new AbortController,S=function(A){var K=Wt();try{l&&Gt();var I=St(n,A);return I=l?I.finally(Xt):I}finally{K&&Fn()}}(O={subscr:_,signal:h.signal,requery:j,querier:n,trans:null}),Promise.resolve(S).then(function(A){a=!0,r=A,b||O.signal.aborted||(m={},function(K){for(var I in K)if(M(K,I))return;return 1}(w=_)||g||(nn(or,k),g=!0),Pu(function(){return!b&&f.next&&f.next(A)}))},function(A){a=!1,["DatabaseClosedError","AbortError"].includes(A==null?void 0:A.name)||b||Pu(function(){b||f.error&&f.error(A)})}))};return setTimeout(j,0),E});return c.hasValue=function(){return a},c.getValue=function(){return r},c}var st=me;function Jn(n){var r=Nt;try{Nt=!0,nn.storagemutated.fire(n),pr(n,!0)}finally{Nt=r}}qe(st,v(v({},Kr),{delete:function(n){return new st(n,{addons:[]}).delete()},exists:function(n){return new st(n,{addons:[]}).open().then(function(r){return r.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(n){try{return r=st.dependencies,a=r.indexedDB,r=r.IDBKeyRange,(On(a)?Promise.resolve(a.databases()).then(function(c){return c.map(function(f){return f.name}).filter(function(f){return f!==qr})}):rn(a,r).toCollection().primaryKeys()).then(n)}catch{return Ie(new te.MissingAPI)}var r,a},defineClass:function(){return function(n){Fe(this,n)}},ignoreTransaction:function(n){return Z.trans?Zt(Z.transless,n):n()},vip:Du,async:function(n){return function(){try{var r=Hr(n.apply(this,arguments));return r&&typeof r.then=="function"?r:z.resolve(r)}catch(a){return Ie(a)}}},spawn:function(n,r,a){try{var c=Hr(n.apply(a,r||[]));return c&&typeof c.then=="function"?c:z.resolve(c)}catch(f){return Ie(f)}},currentTransaction:{get:function(){return Z.trans||null}},waitFor:function(n,r){return r=z.resolve(typeof n=="function"?st.ignoreTransaction(n):n).timeout(r||6e4),Z.trans?Z.trans.waitFor(r):r},Promise:z,debug:{get:function(){return jt},set:function(n){ii(n)}},derive:Pe,extend:Fe,props:qe,override:Xe,Events:rr,on:nn,liveQuery:mr,extendObservabilitySet:xt,getByKeyPath:H,setByKeyPath:be,delByKeyPath:function(n,r){typeof r=="string"?be(n,r,void 0):"length"in r&&[].map.call(r,function(a){be(n,a,void 0)})},shallowClone:D,deepClone:vn,getObjectDiff:Jr,cmp:le,asap:T,minKey:-1/0,addons:[],connections:Ln,errnames:yu,dependencies:br,cache:Pn,semVer:"4.2.1",version:"4.2.1".split(".").map(function(n){return parseInt(n)}).reduce(function(n,r,a){return n+r/Math.pow(10,2*a)})})),st.maxKey=Vn(st.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(nn(or,function(n){Nt||(n=new CustomEvent(Tu,{detail:n}),Nt=!0,dispatchEvent(n),Nt=!1)}),addEventListener(Tu,function(n){n=n.detail,Nt||Jn(n)}));var An,Nt=!1,zu=function(){};return typeof BroadcastChannel<"u"&&((zu=function(){(An=new BroadcastChannel(Tu)).onmessage=function(n){return n.data&&Jn(n.data)}})(),typeof An.unref=="function"&&An.unref(),nn(or,function(n){Nt||An.postMessage(n)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(n){if(!me.disableBfCache&&n.persisted){jt&&console.debug("Dexie: handling persisted pagehide"),An!=null&&An.close();for(var r=0,a=Ln;r<a.length;r++)a[r].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(n){!me.disableBfCache&&n.persisted&&(jt&&console.debug("Dexie: handling persisted pageshow"),zu(),Jn({all:new et(-1/0,[[]])}))})),z.rejectionMapper=function(n,r){return!n||n instanceof In||n instanceof TypeError||n instanceof SyntaxError||!n.name||!Rn[n.name]?n:(r=new Rn[n.name](r||n.message,n),"stack"in n&&ue(r,"stack",{get:function(){return this.inner.stack}}),r)},ii(jt),v(me,Object.freeze({__proto__:null,Dexie:me,liveQuery:mr,Entity:Ir,cmp:le,PropModification:kn,replacePrefix:function(n,r){return new kn({replacePrefix:[n,r]})},add:function(n){return new kn({add:n})},remove:function(n){return new kn({remove:n})},default:me,RangeSet:et,mergeRanges:En,rangesOverlap:Nu}),{default:me}),me})})(Dc);var Ad=Dc.exports;const eo=Pd(Ad),Mc=Symbol.for("Dexie"),oa=globalThis[Mc]||(globalThis[Mc]=eo);if(eo.semVer!==oa.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${eo.semVer} and ${oa.semVer}`);const{liveQuery:Ld,mergeRanges:Ud,rangesOverlap:Vd,RangeSet:Yd,cmp:zd,Entity:Hd,PropModification:Jd,replacePrefix:Wd,add:Qd,remove:Gd,DexieYProvider:Xd}=oa;var Rc={exports:{}};(function(se,Ee){(function(we,v){se.exports=v()})(Za,()=>(()=>{var we={d:(J,ue)=>{for(var Pe in ue)we.o(ue,Pe)&&!we.o(J,Pe)&&Object.defineProperty(J,Pe,{enumerable:!0,get:ue[Pe]})},o:(J,ue)=>Object.prototype.hasOwnProperty.call(J,ue),r:J=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(J,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(J,"__esModule",{value:!0})}},v={};function R(J){if(typeof J!="string"||!J.match(/^[\w-.]+$/))throw new Error("Invalid namespace version: "+J);this.version=J,this.functions={},this.register=function(ue,Pe){if(!ue.match(/^\w+$/))throw new Error("Invalid function name: "+ue);if(ue in this.functions)throw new Error(ue+" is already used");this.functions[ue]=Pe},this.names=function(){return Object.keys(this.functions)},this.find=function(ue){if(ue in this.functions)return this.functions[ue]}}we.r(v),we.d(v,{createNamespace:()=>qe,install:()=>u,register:()=>M});const ae={logCallErrors:!1,logInteropErrors:!0};var ge=ae;const $e=new R("unversioned"),Fe={};function Pt(J){if(J instanceof Error){const{name:ue,message:Pe,cause:it,stack:_e}=J,yt=_e===void 0?[]:_e.split(/\n/).slice(1);return{name:ue,message:Pe,cause:Pt(it),stackLines:yt}}return J===void 0?null:J}function u(J,ue){typeof J=="object"&&(ge={...ae,...J}),ue===void 0&&(ue=XMLHttpRequest.prototype),ue.__elm_taskport_open=ue.open,ue.open=function(Pe,it,_e,yt,Xe){if(it.indexOf("elmtaskport://")===0){this.__elm_taskport_url=it,this.__elm_taskport_function_call=!0,Object.defineProperty(this,"responseType",{writable:!0}),Object.defineProperty(this,"response",{writable:!0}),Object.defineProperty(this,"status",{writable:!0});const Yt=function(T){const H=T.match(/^elmtaskport:\/\/([\w-]+\/[\w-]+)?\/([\w]+)\?v=(\d\.\d\.\d)(?:&nsv=([\w.-]+))?$/);if(!H)return;const[be,D,Ce,pn,$]=H;return D===void 0||$!==void 0?{namespaceName:D,namespaceVersion:$,apiVersion:pn,functionName:Ce}:void 0}(it);if(Yt===void 0)this.__elm_taskport_error=[400,`Cannot decode TaskPort url ${it}. Did you update TaskPort package to a new version, but forgot to update the JavaScript code it requires?`];else{const{namespaceName:T,functionName:H,apiVersion:be,namespaceVersion:D}=Yt;if(be!=="2.0.1")this.__elm_taskport_error=[400,`TaskPort version conflict. Elm-side is ${be}, but JavaScript-side is 2.0.1. Did you update TaskPort package to a new version, but forgot to update the JavaScript code it requires?`];else if(T===void 0){this.__elm_taskport_function_name=H;const Ce=$e.find(H);Ce!==void 0?this.__elm_taskport_function=Ce:this.__elm_taskport_error=[404,`Cannot find function '${H}' in the default namespace. The default namespace has the following functons registered:
`+$e.names().join(`
`)]}else if(this.__elm_taskport_function_name=T+"/"+H,T in Fe){const Ce=Fe[T];if(Ce.version===D){const pn=Ce.find(H);pn!==void 0?this.__elm_taskport_function=pn:this.__elm_taskport_error=[404,`Cannot find function '${H}' in namespace ${T}. This namespace has only the following functons registered with it:
`+Ce.names().join(`
`)]}else this.__elm_taskport_error=[400,`The interop call expected namespace '${T}' to have version '${D}', but it is registered with version '${Ce.version}'. Did you update the Elm package to a new version, but forgot to update the JavaScript code it requires?`]}else{const Ce=Object.keys(Fe);this.__elm_taskport_error=[404,`Namespace '${T}' is not registered with TaskPort. Did you follow the instructions to install required JavaScript code for the package? `+(Ce.length==0)?"There are no namespaces registered with TaskPort.":`Only the following namespaces are known to TaskPort:
`+Ce.join(`
`)]}}}return this.__elm_taskport_open(Pe,it,_e,yt,Xe)},typeof ProgressEvent=="function"?ue.__elm_taskport_dispatch_event=function(Pe){this.dispatchEvent(new ProgressEvent(Pe))}:ue.__elm_taskport_dispatch_event=ue.dispatchEvent,ue.__elm_taskport_send=ue.send,ue.send=function(Pe){if(!this.__elm_taskport_function_call)return this.__elm_taskport_send(Pe);if(this.__elm_taskport_function!==void 0){const it=JSON.parse(Pe);(function(_e,yt){try{return Promise.resolve(_e(yt))}catch(Xe){return Promise.reject(Xe)}})(this.__elm_taskport_function,it).then(_e=>{this.responseType="json",this.response=_e===void 0?"null":JSON.stringify(_e),this.status=200,this.__elm_taskport_dispatch_event("load")}).catch(_e=>{ge.logCallErrors&&console.error("JavaScript function "+this.__elm_taskport_function_name+" thrown an error or returned a rejected Promise:",_e),this.status=500,this.responseType="json",this.response=JSON.stringify(Pt(_e)),this.__elm_taskport_dispatch_event("load")})}else{this.__elm_taskport_error===void 0&&this.__elm_taskport_error;const[it,_e]=this.__elm_taskport_error;ge.logInteropErrors&&console.error("Unable to execute the interop call. "+_e),this.status=it,this.responseType="text",this.response=this.__elm_taskport_function_name,this.__elm_taskport_dispatch_event("load")}}}function M(J,ue){$e.register(J,ue)}function qe(J,ue){const Pe=new R(ue);return Fe[J]=Pe,Pe}return v})())})(Rc);var Cn=Rc.exports;class jd extends HTMLElement{connectedCallback(){this.onMouseDown=this.onMouseDown.bind(this),window.addEventListener("mousedown",this.onMouseDown)}onMouseDown(Ee){const we=document.querySelectorAll(".with-click-outside"),v=Array.from(we).filter(R=>R.contains(Ee.target)).map(R=>R==null?void 0:R.id);if(v.length){const R=new CustomEvent("clickInPopups",{detail:v});this.dispatchEvent(R)}else{const R=new CustomEvent("clickoutside");this.dispatchEvent(R)}}disconnectedCallback(){window.removeEventListener("mousedown",this.onMouseDown)}}window.customElements.define("on-click-outside",jd);Cn.install({logCallErrors:!0,logInteropErrors:!0});let rt=null;async function Sd({name:se,version:Ee}){try{console.log("INIT DB IN jS",se,Ee),rt=new oa(se),rt.version(Ee).stores({settings:"id, theme",items:"id, name, quantity, comment, slug, symbol, state, created, updated",categories:"++id, name, items, state, created, updated"})}catch(we){return we}return!0}async function Kd(){if(rt){const se=await rt.items.toArray().then(Ee=>Ee.reduce((we,v)=>(we[v.id]=v,we),{}));return console.log("!!!",se),{categories:await rt.categories.toArray(),items:se}}return{categories:[],items:{}}}async function Td(se){if(rt)return console.log("STORE ITEM",se),await rt.items.put(se),!0}async function Cd(se){return rt?(await rt.items.delete(se),!0):!1}async function qd(se){if(rt)return await rt.items.bulkPut(Object.values(se)),!0}async function Md(se){return rt?(await rt.categories.put(se),!0):!1}async function Id(se){return rt?(console.log("DUMP",se),await rt.categories.clear(),await rt.categories.bulkAdd(se.categories),await rt.items.clear(),await rt.items.bulkAdd(Object.values(se.items)),!0):!1}function Dd(){return window.crypto.randomUUID()}Cn.register("initDb",Sd);Cn.register("queryAllCatsAndItems",Kd);Cn.register("storeItem",Td);Cn.register("storeAllItems",qd);Cn.register("storeDump",Id);Cn.register("getUuid",Dd);Cn.register("storeCategory",Md);Cn.register("deleteItem",Cd);const Rd=({env:se})=>({settings:{theme:"auto"}}),Nd=({app:se,env:Ee})=>{},Bd=Object.freeze(Object.defineProperty({__proto__:null,flags:Rd,onReady:Nd},Symbol.toStringTag,{value:"Module"})),Ga={run(){return function(Ee){function we(e,t,i){return i.a=e,i.f=t,i}function v(e){return we(2,e,function(t){return function(i){return e(t,i)}})}function R(e){return we(3,e,function(t){return function(i){return function(o){return e(t,i,o)}}})}function ae(e){return we(4,e,function(t){return function(i){return function(o){return function(s){return e(t,i,o,s)}}}})}function ge(e){return we(5,e,function(t){return function(i){return function(o){return function(s){return function(d){return e(t,i,o,s,d)}}}}})}function $e(e){return we(6,e,function(t){return function(i){return function(o){return function(s){return function(d){return function(p){return e(t,i,o,s,d,p)}}}}}})}function Fe(e){return we(7,e,function(t){return function(i){return function(o){return function(s){return function(d){return function(p){return function(y){return e(t,i,o,s,d,p,y)}}}}}}})}function Pt(e){return we(8,e,function(t){return function(i){return function(o){return function(s){return function(d){return function(p){return function(y){return function(P){return e(t,i,o,s,d,p,y,P)}}}}}}}})}function u(e,t,i){return e.a===2?e.f(t,i):e(t)(i)}function M(e,t,i,o){return e.a===3?e.f(t,i,o):e(t)(i)(o)}function qe(e,t,i,o,s){return e.a===4?e.f(t,i,o,s):e(t)(i)(o)(s)}function J(e,t,i,o,s,d){return e.a===5?e.f(t,i,o,s,d):e(t)(i)(o)(s)(d)}function ue(e,t,i,o,s,d,p){return e.a===6?e.f(t,i,o,s,d,p):e(t)(i)(o)(s)(d)(p)}function Pe(e,t,i,o,s,d,p,y){return e.a===7?e.f(t,i,o,s,d,p,y):e(t)(i)(o)(s)(d)(p)(y)}function it(e,t,i,o,s,d,p,y,P){return e.a===8?e.f(t,i,o,s,d,p,y,P):e(t)(i)(o)(s)(d)(p)(y)(P)}function _e(e,t){for(var i,o=[],s=yt(e,t,0,o);s&&(i=o.pop());s=yt(i.a,i.b,0,o));return s}function yt(e,t,i,o){if(e===t)return!0;if(typeof e!="object"||e===null||t===null)return typeof e=="function"&&Qn(5),!1;if(i>100)return o.push(T(e,t)),!0;for(var s in 0>e.$&&(e=sr(e),t=sr(t)),e)if(!yt(e[s],t[s],i+1,o))return!1;return!0}function Xe(e,t,i){if(typeof e!="object")return e===t?0:t>e?-1:1;if(e.$===void 0)return(i=Xe(e.a,t.a))||(i=Xe(e.b,t.b))?i:Xe(e.c,t.c);for(;e.b&&t.b&&!(i=Xe(e.a,t.a));e=e.b,t=t.b);return i||(e.b?1:t.b?-1:0)}var Yt=v(function(e,t){var i=Xe(e,t);return 0>i?ba:i?yi:Mu});function T(e,t){return{a:e,b:t}}function H(e,t){var i={};for(var o in e)i[o]=e[o];for(var o in t)i[o]=t[o];return i}function be(e,t){if(typeof e=="string")return e+t;if(!e.b)return t;var i=Ce(e.a,t);e=e.b;for(var o=i;e.b;e=e.b)o=o.b=Ce(e.a,t);return i}var D={$:0};function Ce(e,t){return{$:1,a:e,b:t}}var pn=v(Ce);function $(e){for(var t=D,i=e.length;i--;)t=Ce(e[i],t);return t}function qn(e){for(var t=[];e.b;e=e.b)t.push(e.a);return t}var vn=R(function(e,t,i){for(var o=[];t.b&&i.b;t=t.b,i=i.b)o.push(u(e,t.a,i.a));return $(o)}),ca=v(function(e,t){return $(qn(t).sort(function(i,o){return Xe(e(i),e(o))}))}),vu=R(function(e,t,i){for(var o=Array(e),s=0;e>s;s++)o[s]=i(t+s);return o}),bu=v(function(e,t){for(var i=Array(e),o=0;e>o&&t.b;o++)i[o]=t.a,t=t.b;return i.length=o,T(i,t)});function Qn(e){throw Error("https://github.com/elm/core/blob/1.0.0/hints/"+e+".md")}var bn=Math.ceil,Mn=Math.floor,At=Math.log,mu=v(function(e,t){return e+t}),sa=v(function(e,t){return t.split(e)}),In=v(function(e,t){return t.join(e)}),ui=R(function(e,t,i){return i.slice(e,t)}),Sr=v(function(e,t){for(var i=t.length;i--;){var o=t[i],s=t.charCodeAt(i);if(56320>s||s>57343||(o=t[--i]+o),!e(o))return!1}return!0}),Dn=v(function(e,t){return t.indexOf(e)>-1}),yu=v(function(e,t){return t.indexOf(e)===0}),fa=v(function(e,t){var i=e.length;if(1>i)return D;for(var o=0,s=[];(o=t.indexOf(e,o))>-1;)s.push(o),o+=i;return $(s)});function te(e){return e+""}function Rn(e){return{$:2,b:e}}var Kr=Rn(function(e){return typeof e!="number"?ut("an INT",e):e>-2147483647&&2147483647>e&&(0|e)===e?at(e):!isFinite(e)||e%1?ut("an INT",e):at(e)}),xe=Rn(function(e){return typeof e=="boolean"?at(e):ut("a BOOL",e)}),Gn=Rn(function(e){return typeof e=="number"?at(e):ut("a FLOAT",e)}),la=Rn(function(e){return at(e)}),mn=Rn(function(e){return typeof e=="string"?at(e):e instanceof String?at(e+""):ut("a STRING",e)}),da=v(function(e,t){return{$:6,d:e,b:t}});function Nn(e,t){return{$:9,f:e,g:t}}var ha=v(function(e,t){return{$:10,b:t,h:e}}),pa=v(function(e,t){return Nn(e,[t])}),gu=R(function(e,t,i){return Nn(e,[t,i])}),jt=ae(function(e,t,i,o){return Nn(e,[t,i,o])}),ii=ge(function(e,t,i,o,s){return Nn(e,[t,i,o,s])}),Xn=$e(function(e,t,i,o,s,d){return Nn(e,[t,i,o,s,d])}),ai=Pt(function(e,t,i,o,s,d,p,y){return Nn(e,[t,i,o,s,d,p,y])}),Zn=v(function(e,t){try{return We(e,JSON.parse(t))}catch(i){return He(u(fr,"This is not valid JSON! "+i.message,t))}}),zt=v(function(e,t){return We(e,t)});function We(e,t){switch(e.$){case 2:return e.b(t);case 5:return t===null?at(e.c):ut("null",t);case 3:return Ht(t)?Tr(e.b,t,$):ut("a LIST",t);case 4:return Ht(t)?Tr(e.b,t,wu):ut("an ARRAY",t);case 6:var i=e.d;if(typeof t!="object"||t===null||!(i in t))return ut("an OBJECT with a field named `"+i+"`",t);var o=We(e.b,t[i]);return Dt(o)?o:He(u(gi,i,o.a));case 7:var s=e.e;return Ht(t)?s>=t.length?ut("a LONGER array. Need index "+s+" but only see "+t.length+" entries",t):(o=We(e.b,t[s]),Dt(o)?o:He(u(wi,s,o.a))):ut("an ARRAY",t);case 8:if(typeof t!="object"||t===null||Ht(t))return ut("an OBJECT",t);var d=D;for(var p in t)if(Object.prototype.hasOwnProperty.call(t,p)){if(o=We(e.b,t[p]),!Dt(o))return He(u(gi,p,o.a));d=Ce(T(p,o.a),d)}return at(xt(d));case 9:for(var y=e.f,P=e.g,q=0;P.length>q;q++){if(o=We(P[q],t),!Dt(o))return o;y=y(o.a)}return at(y);case 10:return o=We(e.b,t),Dt(o)?We(e.h(o.a),t):o;case 11:for(var N=D,Y=e.g;Y.b;Y=Y.b){if(o=We(Y.a,t),Dt(o))return o;N=Ce(o.a,N)}return He(Iu(xt(N)));case 1:return He(u(fr,e.a,t));case 0:return at(e.a)}}function Tr(e,t,i){for(var o=t.length,s=Array(o),d=0;o>d;d++){var p=We(e,t[d]);if(!Dt(p))return He(u(wi,d,p.a));s[d]=p.a}return at(i(s))}function Ht(e){return Array.isArray(e)||typeof FileList<"u"&&e instanceof FileList}function wu(e){return u(ji,e.length,function(t){return e[t]})}function ut(e,t){return He(u(fr,"Expecting "+e,t))}function gt(e,t){if(e===t)return!0;if(e.$!==t.$)return!1;switch(e.$){case 0:case 1:return e.a===t.a;case 2:return e.b===t.b;case 5:return e.c===t.c;case 3:case 4:case 8:return gt(e.b,t.b);case 6:return e.d===t.d&&gt(e.b,t.b);case 7:return e.e===t.e&&gt(e.b,t.b);case 9:return e.f===t.f&&er(e.g,t.g);case 10:return e.h===t.h&&gt(e.b,t.b);case 11:return er(e.g,t.g)}}function er(e,t){var i=e.length;if(i!==t.length)return!1;for(var o=0;i>o;o++)if(!gt(e[o],t[o]))return!1;return!0}var _u=v(function(e,t){return JSON.stringify(t,null,e)+""});function $t(e){return e}var Z=R(function(e,t,i){return e==="toJSON"&&typeof t=="function"||(i[e]=t),i});function wt(e){return{$:0,a:e}}function Jt(e){return{$:1,a:e}}function Ze(e){return{$:2,b:e,c:null}}var z=v(function(e,t){return{$:3,b:e,d:t}}),ku=v(function(e,t){return{$:4,b:e,d:t}}),oi=0;function Bn(e){var t={$:0,e:oi++,f:e,g:null,h:[]};return Wt(t),t}function $u(e,t){e.h.push(t),Wt(e)}var xu=v(function(e,t){return Ze(function(i){$u(e,t),i(wt(0))})}),Ou=!1,ci=[];function Wt(e){if(ci.push(e),!Ou){for(Ou=!0;e=ci.shift();)Fn(e);Ou=!1}}function Fn(e){for(;e.f;){var t=e.f.$;if(t===0||t===1){for(;e.g&&e.g.$!==t;)e.g=e.g.i;if(!e.g)return;e.f=e.g.b(e.f.a),e.g=e.g.i}else{if(t===2)return void(e.f.c=e.f.b(function(i){e.f=i,Wt(e)}));if(t===5){if(e.h.length===0)return;e.f=e.f.b(e.h.shift())}else e.g={$:t===3?0:1,b:e.f.b,i:e.g},e.f=e.f.d}}}function Eu(e,t,i,o,s,d){var p=u(zt,e,t?t.flags:void 0);Dt(p)||Qn(2);var y={},P=i(p.a),q=P.a,N=d(W,q),Y=function(Oe,he){var ve;for(var je in Qt){var lt=Qt[je];lt.a&&((ve=ve||{})[je]=lt.a(je,he)),Oe[je]=Ke(lt,he)}return ve}(y,W);function W(Oe,he){var ve=u(o,Oe,q);N(q=ve.a,he),Gt(y,ve.b,s(q))}function X(){y!==void 0&&(Gt(y,yn(D),yn(D)),y=null,q=null,N=null,Y=null),Ee.domNode.removeChildren&&Ee.domNode.replaceChildren(),t&&t.node?Ee.domNode.replaceWith(t.node):Ee.domNode.remove()}Gt(y,P.b,s(q));var fe=Y?{ports:Y,unmount:X}:{unmount:X};return fe}var Qt={};function Ke(e,t){var i={g:t,h:void 0},o=e.c,s=e.d,d=e.e,p=e.f;return i.h=Bn(u(z,function y(P){return u(z,y,{$:5,b:function(q){var N=q.a;return q.$===0?M(s,i,N,P):d&&p?qe(o,i,N.i,N.j,P):M(o,i,d?N.i:N.j,P)}})},e.b))}var Ye=v(function(e,t){return Ze(function(i){e.g(t),i(wt(0))})}),va=v(function(e,t){return u(xu,e.h,{$:0,a:t})});function yn(e){return{$:2,m:e}}var gn,tr=v(function(e,t){return{$:3,n:e,o:t}}),si=[],St=!1;function Gt(e,t,i){if(si.push({p:e,q:t,r:i}),!St){St=!0;for(var o;o=si.shift();)Xt(o.p,o.q,o.r);St=!1}}function Xt(e,t,i){var o={};for(var s in wn(!0,t,o,null),wn(!1,i,o,null),e)$u(e[s],{$:"fx",a:o[s]||{i:D,j:D}})}function wn(e,t,i,o){switch(t.$){case 1:var s=t.k,d=function(y,P,q,N){return u(y?Qt[P].e:Qt[P].f,function(Y){for(var W=q;W;W=W.t)Y=W.s(Y);return Y},N)}(e,s,o,t.l);return void(i[s]=function(y,P,q){return q=q||{i:D,j:D},y?q.i=Ce(P,q.i):q.j=Ce(P,q.j),q}(e,d,i[s]));case 2:for(var p=t.m;p.b;p=p.b)wn(e,p.a,i,o);return;case 3:return void wn(e,t.o,i,{s:t.n,t:o})}}var Rt=typeof document<"u"?document:{};function Kt(e,t){e.appendChild(t)}function Cr(e){return{$:0,a:e}}var Zt=v(function(e,t){return v(function(i,o){for(var s=[],d=0;o.b;o=o.b){var p=o.a;d+=p.b||0,s.push(p)}return d+=s.length,{$:1,c:t,d:Au(i),e:s,f:e,b:d}})}),Me=Zt(void 0),Pu=v(function(e,t){return v(function(i,o){for(var s=[],d=0;o.b;o=o.b){var p=o.a;d+=p.b.b||0,s.push(p)}return d+=s.length,{$:2,c:t,d:Au(i),e:s,f:e,b:d}})})(void 0),Ie=v(function(e,t){return{$:4,j:e,k:t,b:1+(t.b||0)}});function en(e,t){return{$:5,l:e,m:t,k:void 0}}var Tt,fi=v(function(e,t){return en([e,t],function(){return e(t)})}),Ln=Pt(function(e,t,i,o,s,d,p,y){return en([e,t,i,o,s,d,p,y],function(){return Pe(e,t,i,o,s,d,p,y)})}),qr=v(function(e,t){return{$:"a0",n:e,o:t}}),nr=v(function(e,t){return{$:"a2",n:e,o:t}}),Qe=v(function(e,t){return{$:"a3",n:e,o:t}}),_n=/^script$/i,li=/^(on|formAction$)/i,Mr=/^\s*j\s*a\s*v\s*a\s*s\s*c\s*r\s*i\s*p\s*t\s*:/i,Ir=/^\s*(j\s*a\s*v\s*a\s*s\s*c\s*r\s*i\s*p\s*t\s*:|d\s*a\s*t\s*a\s*:\s*t\s*e\s*x\s*t\s*\/\s*h\s*t\s*m\s*l\s*(,|;))/i;function le(e){return _n.test(e)?"p":e}function Au(e){for(var t={};e.b;e=e.b){var i=e.a,o=i.$,s=i.n,d=i.o;if(o!=="a2"){var p=t[o]||(t[o]={});o==="a3"&&s==="class"?ju(p,s,d):p[s]=d}else s==="className"?ju(t,s,d):t[s]=d}return t}function ju(e,t,i){var o=e[t];e[t]=o?o+" "+i:i}function Ct(e,t){var i=e.$;if(i===5)return Ct(e.k||(e.k=e.m()),t);if(i===0)return Rt.createTextNode(e.a);if(i===4){for(var o=e.k,s=e.j;o.$===4;)typeof s!="object"?s=[s,o.j]:s.push(o.j),o=o.k;var d={j:s,p:t};return(p=Ct(o,d)).elm_event_node_ref=d,p}if(i===3)return kn(p=e.h(e.g),t,e.d),p;var p=e.f?Rt.createElementNS(e.f,e.c):Rt.createElement(e.c);gn&&e.c=="a"&&p.addEventListener("click",gn(p)),kn(p,t,e.d);for(var y=e.e,P=0;y.length>P;P++)Kt(p,Ct(i===1?y[P]:y[P].b,t));return p}function kn(e,t,i){for(var o in i){var s=i[o];o==="a1"?di(e,s):o==="a0"?Ae(e,t,s):o==="a3"?hi(e,s):o==="a4"?pi(e,s):(o!=="value"&&o!=="checked"||e[o]!==s)&&(e[o]=s)}}function di(e,t){var i=e.style;for(var o in t)i[o]=t[o]}function hi(e,t){for(var i in t){var o=t[i];o!==void 0?e.setAttribute(i,o):e.removeAttribute(i)}}function pi(e,t){for(var i in t){var o=t[i],s=o.f,d=o.o;d!==void 0?e.setAttributeNS(s,i,d):e.removeAttributeNS(s,i)}}function Ae(e,t,i){var o=e.elmFs||(e.elmFs={});for(var s in i){var d=i[s],p=o[s];if(d){if(p){if(p.q.$===d.$){p.q=d;continue}e.removeEventListener(s,p)}p=rr(t,d),e.addEventListener(s,p,Tt&&{passive:2>vr(d)}),o[s]=p}else e.removeEventListener(s,p),o[s]=void 0}}try{window.addEventListener("t",null,Object.defineProperty({},"passive",{get:function(){Tt=!0}}))}catch{}function rr(e,t){function i(o){var s=i.q,d=We(s.a,o);if(Dt(d)){for(var p,y=vr(s),P=d.a,q=y?3>y?P.a:P.x:P,N=y==1?P.b:y==3&&P.aG,Y=(N&&o.stopPropagation(),(y==2?P.b:y==3&&P.aC)&&o.preventDefault(),e);p=Y.j;){if(typeof p=="function")q=p(q);else for(var W=p.length;W--;)q=p[W](q);Y=Y.p}Y(q,N)}}return i.q=t,i}function ur(e,t){return e.$==t.$&&gt(e.a,t.a)}function Ne(e,t,i,o){var s={$:t,r:i,s:o,t:void 0,u:void 0};return e.push(s),s}function ht(e,t,i,o){if(e!==t){var s=e.$,d=t.$;if(s!==d){if(s!==1||d!==2)return void Ne(i,0,o,t);t=function(je){for(var lt=je.e,dt=lt.length,hu=Array(dt),jr=0;dt>jr;jr++)hu[jr]=lt[jr].b;return{$:1,c:je.c,d:je.d,e:hu,f:je.f,b:je.b}}(t),d=1}switch(d){case 5:for(var p=e.l,y=t.l,P=p.length,q=P===y.length;q&&P--;)q=p[P]===y[P];if(q)return void(t.k=e.k);t.k=t.m();var N=[];return ht(e.k,t.k,N,0),void(N.length>0&&Ne(i,1,o,N));case 4:for(var Y=e.j,W=t.j,X=!1,fe=e.k;fe.$===4;)X=!0,typeof Y!="object"?Y=[Y,fe.j]:Y.push(fe.j),fe=fe.k;for(var Oe=t.k;Oe.$===4;)X=!0,typeof W!="object"?W=[W,Oe.j]:W.push(Oe.j),Oe=Oe.k;return X&&Y.length!==W.length?void Ne(i,0,o,t):((X?function(je,lt){for(var dt=0;je.length>dt;dt++)if(je[dt]!==lt[dt])return!1;return!0}(Y,W):Y===W)||Ne(i,2,o,W),void ht(fe,Oe,i,o+1));case 0:return void(e.a!==t.a&&Ne(i,3,o,t.a));case 1:return void Dr(e,t,i,o,vi);case 2:return void Dr(e,t,i,o,Rr);case 3:if(e.h!==t.h)return void Ne(i,0,o,t);var he=Un(e.d,t.d);he&&Ne(i,4,o,he);var ve=t.i(e.g,t.g);return void(ve&&Ne(i,5,o,ve))}}}function Dr(e,t,i,o,s){if(e.c===t.c&&e.f===t.f){var d=Un(e.d,t.d);d&&Ne(i,4,o,d),s(e,t,i,o)}else Ne(i,0,o,t)}function Un(e,t,i){var o;for(var s in e)if(s!=="a1"&&s!=="a0"&&s!=="a3"&&s!=="a4")if(s in t){var d=e[s],p=t[s];d===p&&s!=="value"&&s!=="checked"||i==="a0"&&ur(d,p)||((o=o||{})[s]=p)}else(o=o||{})[s]=i?i==="a1"?"":i==="a0"||i==="a3"?void 0:{f:e[s].f,o:void 0}:typeof e[s]=="string"?"":null;else{var y=Un(e[s],t[s]||{},s);y&&((o=o||{})[s]=y)}for(var P in t)P in e||((o=o||{})[P]=t[P]);return o}function vi(e,t,i,o){var s=e.e,d=t.e,p=s.length,y=d.length;p>y?Ne(i,6,o,{v:y,i:p-y}):y>p&&Ne(i,7,o,{v:p,e:d});for(var P=y>p?p:y,q=0;P>q;q++){var N=s[q];ht(N,d[q],i,++o),o+=N.b||0}}function Rr(e,t,i,o){for(var s=[],d={},p=[],y=e.e,P=t.e,q=y.length,N=P.length,Y=0,W=0,X=o;q>Y&&N>W;){var fe=(ua=y[Y]).a,Oe=(ia=P[W]).a,he=ua.b,ve=ia.b,je=void 0,lt=void 0;if(fe!==Oe){var dt=y[Y+1],hu=P[W+1];if(dt){var jr=dt.a,pu=dt.b;lt=Oe===jr}if(hu){var qc=hu.a,Qa=hu.b;je=fe===qc}if(je&&lt)ht(he,Qa,s,++X),ir(d,s,fe,ve,W,p),X+=he.b||0,de(d,s,fe,pu,++X),X+=pu.b||0,Y+=2,W+=2;else if(je)X++,ir(d,s,Oe,ve,W,p),ht(he,Qa,s,X),X+=he.b||0,Y+=1,W+=2;else if(lt)de(d,s,fe,he,++X),X+=he.b||0,ht(pu,ve,s,++X),X+=pu.b||0,Y+=2,W+=1;else{if(!dt||jr!==qc)break;de(d,s,fe,he,++X),ir(d,s,Oe,ve,W,p),X+=he.b||0,ht(pu,Qa,s,++X),X+=pu.b||0,Y+=2,W+=2}}else ht(he,ve,s,++X),X+=he.b||0,Y++,W++}for(;q>Y;){var ua;X++,de(d,s,(ua=y[Y]).a,he=ua.b,X),X+=he.b||0,Y++}for(;N>W;){var ia,aa=aa||[];ir(d,s,(ia=P[W]).a,ia.b,void 0,aa),W++}(s.length>0||p.length>0||aa)&&Ne(i,8,o,{w:s,x:p,y:aa})}var Su="_elmW6BL";function ir(e,t,i,o,s,d){var p=e[i];if(!p)return d.push({r:s,A:p={c:0,z:o,r:s,s:void 0}}),void(e[i]=p);if(p.c===1){d.push({r:s,A:p}),p.c=2;var y=[];return ht(p.z,o,y,p.r),p.r=s,void(p.s.s={w:y,A:p})}ir(e,t,i+Su,o,s,d)}function de(e,t,i,o,s){var d=e[i];if(d){if(d.c===0){d.c=2;var p=[];return ht(o,d.z,p,s),void Ne(t,9,s,{w:p,A:d})}de(e,t,i+Su,o,s)}else{var y=Ne(t,9,s,void 0);e[i]={c:1,z:o,r:s,s:y}}}function Ku(e,t,i,o){ar(e,t,i,0,0,t.b,o)}function ar(e,t,i,o,s,d,p){for(var y=i[o],P=y.r;P===s;){var q=y.$;if(q===1)Ku(e,t.k,y.s,p);else if(q===8)y.t=e,y.u=p,(N=y.s.w).length>0&&ar(e,t,N,0,s,d,p);else if(q===9){y.t=e,y.u=p;var N,Y=y.s;Y&&(Y.A.s=e,(N=Y.w).length>0&&ar(e,t,N,0,s,d,p))}else y.t=e,y.u=p;if(!(y=i[++o])||(P=y.r)>d)return o}var W=t.$;if(W===4){for(var X=t.k;X.$===4;)X=X.k;return ar(e,X,i,o,s+1,d,e.elm_event_node_ref)}for(var fe=t.e,Oe=e.childNodes,he=0;fe.length>he;he++){s++;var ve=W===1?fe[he]:fe[he].b,je=s+(ve.b||0);if(!(s>P||P>je||(y=i[o=ar(Oe[he],ve,i,o,s,je,p)])&&(P=y.r)<=d))return o;s=je}return o}function Nr(e,t){for(var i=0;t.length>i;i++){var o=t[i],s=o.t,d=pt(s,o);s===e&&(e=d)}return e}function pt(e,t){switch(t.$){case 0:return function(y,P,q){var N=y.parentNode,Y=Ct(P,q);return Y.elm_event_node_ref||(Y.elm_event_node_ref=y.elm_event_node_ref),N&&Y!==y&&N.replaceChild(Y,y),Y}(e,t.s,t.u);case 4:return kn(e,t.u,t.s),e;case 3:return e.replaceData(0,e.length,t.s),e;case 1:return Nr(e,t.s);case 2:return e.elm_event_node_ref?e.elm_event_node_ref.j=t.s:e.elm_event_node_ref={j:t.s,p:t.u},e;case 6:for(var i=t.s,o=0;i.i>o;o++)e.removeChild(e.childNodes[i.v]);return e;case 7:for(var s=(i=t.s).e,d=e.childNodes[o=i.v];s.length>o;o++)e.insertBefore(Ct(s[o],t.u),d);return e;case 9:if(!(i=t.s))return e.parentNode.removeChild(e),e;var p=i.A;return p.r!==void 0&&e.parentNode.removeChild(e),p.s=Nr(e,i.w),e;case 8:return function(y,P){var q=P.s,N=function(he,ve){if(he){for(var je=Rt.createDocumentFragment(),lt=0;he.length>lt;lt++){var dt=he[lt].A;Kt(je,dt.c===2?dt.s:Ct(dt.z,ve.u))}return je}}(q.y,P);y=Nr(y,q.w);for(var Y=q.x,W=0;Y.length>W;W++){var X=Y[W],fe=X.A,Oe=fe.c===2?fe.s:Ct(fe.z,P.u);y.insertBefore(Oe,y.childNodes[X.r])}return N&&Kt(y,N),y}(e,t);case 5:return t.s(e);default:Qn(10)}}function $n(e){if(e.nodeType===3)return Cr(e.textContent);if(e.nodeType!==1)return Cr("");for(var t=D,i=e.attributes,o=i.length;o--;){var s=i[o];t=Ce(u(Qe,s.name,s.value),t)}var d=e.tagName.toLowerCase(),p=D,y=e.childNodes;for(o=y.length;o--;)p=Ce($n(y[o]),p);return M(Me,d,t,p)}var Br=ae(function(e,t,i,o){return Eu(t,o,e.O,e.ab,e.T,function(s,d){var p=e.aD&&e.aD(s),y=e.ac,P=Rt.title,q=Rt.body,N=$n(q);return function(Y,W){W(Y);var X=0;function fe(){X=X===1?0:(qt(fe),W(Y),1)}return function(Oe,he){Y=Oe,he?(W(Y),X===2&&(X=1)):(X===0&&qt(fe),X=2)}}(d,function(Y){gn=p;var W=y(Y),X=Me("body")(D)(W.aK),fe=function(Oe,he){var ve=[];return ht(Oe,he,ve,0),ve}(N,X);q=function(Oe,he,ve,je){return ve.length===0?Oe:(Ku(Oe,he,ve,je),Nr(Oe,ve))}(q,N,fe,s),N=X,gn=0,P!==W.bk&&(Rt.title=P=W.bk)})})}),qt=typeof requestAnimationFrame<"u"?requestAnimationFrame:function(e){return setTimeout(e,1e3/60)};function Fr(){return a(Rt.location.href).a||Qn(1)}var bi=v(function(e,t){return u(_,c,Ze(function(){t&&history.go(t),e()}))}),ze=v(function(e,t){return u(_,c,Ze(function(){history.pushState({},"",t),e()}))}),Mt=v(function(e,t){return u(_,c,Ze(function(){history.replaceState({},"",t),e()}))}),tn=typeof window<"u"?window:{addEventListener:function(){},removeEventListener:function(){}},or=v(function(e,t){return function(i,o){return Ze(function(s){qt(function(){var d=document.getElementById(i);s(d?wt(o(d)):Jt(De(i)))})})}(t,function(i){return i[e](),0})}),Tu=R(function(e,t,i){return Ze(function(o){function s(p){o(t(i.at.a(p)))}var d=new XMLHttpRequest;d.addEventListener("error",function(){s(zc)}),d.addEventListener("timeout",function(){s(Wc)}),d.addEventListener("load",function(){s(function(p,y){return u(y.status>=200&&300>y.status?Yc:Uc,function(P){return{cg:P.responseURL,b9:P.status,ca:P.statusText,aV:nn(P.getAllResponseHeaders())}}(y),p(y.response))}(i.at.b,d))}),no(i.bl)&&function(p,y,P){y.upload.addEventListener("progress",function(q){y.c||Bn(u(ro,p,T(P,Jc({b6:q.loaded,be:q.total}))))}),y.addEventListener("progress",function(q){y.c||Bn(u(ro,p,T(P,Hc({b3:q.loaded,be:q.lengthComputable?ee(q.total):Q}))))})}(e,d,i.bl.a);try{d.open(i.bR,i.cg,!0)}catch{return s(Vc(i.cg))}return function(p,y){for(var P=y.aV;P.b;P=P.b)p.setRequestHeader(P.a.a,P.a.b);p.timeout=y.ce.a||0,p.responseType=y.at.d,p.withCredentials=y.bu}(d,i),i.aK.a&&d.setRequestHeader("Content-Type",i.aK.a),d.send(i.aK.b),function(){d.c=!0,d.abort()}})});function nn(e){if(!e)return Ot;for(var t=Ot,i=e.split(`\r
`),o=i.length;o--;){var s=i[o],d=s.indexOf(": ");if(d>0){var p=s.substring(0,d),y=s.substring(d+2);t=M(_a,p,function(P){return ee(no(P)?y+", "+P.a:y)},t)}}return t}var mi,It=R(function(e,t,i){return{$:0,d:e,b:t,a:i}}),Cu=v(function(e,t){return{$:0,a:e,b:t}}),cr,qu=R(function(e,t,i){return Ze(function(){var o=new Blob([i],{type:t});if(navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(o,e);else{var s=mi||(mi=document.createElement("a")),d=URL.createObjectURL(o);s.href=d,s.download=e,Vn(s),URL.revokeObjectURL(d)}})});function Vn(e){if(typeof MouseEvent=="function")e.dispatchEvent(new MouseEvent("click"));else{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),document.body.appendChild(e),e.dispatchEvent(t),document.body.removeChild(e)}}var Mu=1,yi=2,ba=0,Be=pn,Lr=R(function(e,t,i){for(;;){if(i.$===-2)return t;var o=i.d,s=e,d=M(e,i.b,i.c,M(Lr,e,t,i.e));e=s,t=d,i=o}}),sr=function(e){return M(Lr,R(function(t,i,o){return u(Be,T(t,i),o)}),D,e)},Ur=function(e){return M(Lr,R(function(t,i,o){return u(Be,t,o)}),D,e)},He=function(e){return{$:1,a:e}},fr=v(function(e,t){return{$:3,a:e,b:t}}),gi=v(function(e,t){return{$:0,a:e,b:t}}),wi=v(function(e,t){return{$:1,a:e,b:t}}),at=function(e){return{$:0,a:e}},Iu=function(e){return{$:2,a:e}},ee=function(e){return{$:0,a:e}},Q={$:1},Vr=Sr,Yn=_u,vt=te,_t=v(function(e,t){return u(In,e,qn(t))}),Yr=v(function(e,t){return $(u(sa,e,t))}),xn=function(e){return u(_t,`
    `,u(Yr,`
`,e))},rn=R(function(e,t,i){for(;;){if(!i.b)return t;var o=i.b,s=e,d=u(e,i.a,t);e=s,t=d,i=o}}),On=function(e){return M(rn,v(function(t,i){return i+1}),0,e)},Du=vn,Ru=R(function(e,t,i){for(;;){if(Xe(e,t)>=1)return i;var o=e,s=t-1,d=u(Be,t,i);e=o,t=s,i=d}}),et=v(function(e,t){return M(Ru,e,t,D)}),lr=v(function(e,t){return M(Du,e,u(et,0,On(t)-1),t)}),En=function(e){var t=e.charCodeAt(0);return 55296>t||t>56319?t:1024*(t-55296)+e.charCodeAt(1)-56320+65536},Nu=function(e){var t=En(e);return t>=97&&122>=t},dr=function(e){var t=En(e);return 90>=t&&t>=65},_i=function(e){return Nu(e)||dr(e)},ki=function(e){return Nu(e)||dr(e)||function(t){var i=En(t);return 57>=i&&i>=48}(e)},xt=function(e){return M(rn,Be,D,e)},Bu=function(e){var t=e.charCodeAt(0);return isNaN(t)?Q:ee(55296>t||t>56319?T(e[0],e.slice(1)):T(e[0]+e[1],e.slice(2)))},Pn=v(function(e,t){return`

(`+vt(e+1)+") "+xn(hr(t))}),hr=function(e){return u(Fu,e,D)},Fu=v(function(e,t){e:for(;;)switch(e.$){case 0:var i=e.a,o=e.b,s=function(){var N=Bu(i);if(N.$===1)return!1;var Y=N.a,W=Y.b;return _i(Y.a)&&u(Vr,ki,W)}();e=o,t=u(Be,s?"."+i:"['"+i+"']",t);continue e;case 1:o=e.b;var d="["+vt(e.a)+"]";e=o,t=u(Be,d,t);continue e;case 2:var p=e.a;if(p.b){if(p.b.b){var y=(t.b?"The Json.Decode.oneOf at json"+u(_t,"",xt(t)):"Json.Decode.oneOf")+" failed in the following "+vt(On(p))+" ways:";return u(_t,`

`,u(Be,y,u(lr,Pn,p)))}e=o=p.a;continue e}return"Ran into a Json.Decode.oneOf with no possibilities"+(t.b?" at json"+u(_t,"",xt(t)):"!");default:var P=e.a,q=e.b;return(y=t.b?"Problem with the value at json"+u(_t,"",xt(t))+`:

    `:`Problem with the given value:

`)+xn(u(Yn,4,q))+`

`+P}}),ot=32,pr=ae(function(e,t,i,o){return{$:0,a:e,b:t,c:i,d:o}}),zr=[],$i=bn,Hr=v(function(e,t){return At(t)/At(e)}),zn=$i(u(Hr,2,ot)),ma=qe(pr,0,zn,zr,zr),Jr=vu,Lu=Mn,xi=function(e){return e.length},Oi=v(function(e,t){return Xe(e,t)>0?e:t}),Ei=bu,Pi=v(function(e,t){for(;;){var i=u(Ei,ot,e),o=i.b,s=u(Be,{$:0,a:i.a},t);if(!o.b)return xt(s);e=o,t=s}}),Uu=function(e){return e.a},ya=v(function(e,t){for(;;){var i=$i(t/ot);if(i===1)return u(Ei,ot,e).a;e=u(Pi,e,D),t=i}}),Ai=v(function(e,t){if(t.h){var i=t.h*ot,o=Lu(u(Hr,ot,i-1)),s=e?xt(t.j):t.j,d=u(ya,s,t.h);return qe(pr,xi(t.i)+i,u(Oi,5,o*zn),d,t.i)}return qe(pr,xi(t.i),zn,zr,t.i)}),Vu=ge(function(e,t,i,o,s){for(;;){if(0>t)return u(Ai,!1,{j:o,h:i/ot|0,i:s});var d={$:1,a:M(Jr,ot,t,e)};t-=ot,o=u(Be,d,o)}}),ji=v(function(e,t){if(e>0){var i=e%ot;return J(Vu,t,e-i-ot,e,D,M(Jr,i,e-i,t))}return ma}),Dt=function(e){return!e.$},ct=pa,Yu=gu,Hn=function(e){return{$:0,a:e}},vr=function(e){switch(e.$){case 0:return 0;case 1:return 1;case 2:return 2;default:return 3}},me=function(e){return e},De=me,br=$e(function(e,t,i,o,s,d){return{bF:d,bL:t,b_:o,b$:i,b0:e,b2:s}}),kt=Dn,Si=ui,un=v(function(e,t){return 1>e?t:M(Si,e,function(i){return i.length}(t),t)}),mr=fa,st=function(e){return e===""},Jn=v(function(e,t){return 1>e?"":M(Si,0,e,t)}),An=ge(function(e,t,i,o,s){if(st(s)||u(kt,"@",s))return Q;var d=u(mr,":",s);if(d.b){if(d.b.b)return Q;var p=d.a,y=function(q){for(var N=0,Y=q.charCodeAt(0),W=Y==43||Y==45?1:0,X=W;q.length>X;++X){var fe=q.charCodeAt(X);if(48>fe||fe>57)return Q;N=10*N+fe-48}return X==W?Q:ee(Y==45?-N:N)}(u(un,p+1,s));if(y.$===1)return Q;var P=y;return ee(ue(br,e,u(Jn,p,s),P,t,i,o))}return ee(ue(br,e,s,Q,t,i,o))}),Nt=ae(function(e,t,i,o){if(st(o))return Q;var s=u(mr,"/",o);if(s.b){var d=s.a;return J(An,e,u(un,d,o),t,i,u(Jn,d,o))}return J(An,e,"/",t,i,o)}),zu=R(function(e,t,i){if(st(i))return Q;var o=u(mr,"?",i);if(o.b){var s=o.a;return qe(Nt,e,ee(u(un,s+1,i)),t,u(Jn,s,i))}return qe(Nt,e,Q,t,i)}),n=v(function(e,t){if(st(t))return Q;var i=u(mr,"#",t);if(i.b){var o=i.a;return M(zu,e,ee(u(un,o+1,t)),u(Jn,o,t))}return M(zu,e,Q,t)}),r=yu,a=function(e){return u(r,"http://",e)?u(n,0,u(un,7,e)):u(r,"https://",e)?u(n,1,u(un,8,e)):Q},c=function(e){},f=wt,l=f(0),h=ae(function(e,t,i,o){if(o.b){var s=o.a,d=o.b;if(d.b){var p=d.a,y=d.b;if(y.b){var P=y.a,q=y.b;if(q.b){var N=q.b;return u(e,s,u(e,p,u(e,P,u(e,q.a,i>500?M(rn,e,t,xt(N)):qe(h,e,t,i+1,N)))))}return u(e,s,u(e,p,u(e,P,t)))}return u(e,s,u(e,p,t))}return u(e,s,t)}return t}),b=R(function(e,t,i){return qe(h,e,t,0,i)}),m=v(function(e,t){return M(b,v(function(i,o){return u(Be,e(i),o)}),D,t)}),w=z,E=v(function(e,t){return u(w,function(i){return f(e(i))},t)}),g=R(function(e,t,i){return u(w,function(o){return u(w,function(s){return f(u(e,o,s))},i)},t)}),j=Ye,k=v(function(e,t){var i=t;return function(o){return Ze(function(s){s(wt(Bn(o)))})}(u(w,j(e),i))});Qt.Task={b:l,c:R(function(e,t){return u(E,function(){return 0},(i=u(m,k(e),t),M(b,g(Be),f(D),i)));var i}),d:R(function(){return f(0)}),e:v(function(e,t){return u(E,e,t)}),f:void 0};var x=function(e){return function(t){return{$:1,k:e,l:t}}}("Task"),_=v(function(e,t){return x(u(E,e,t))}),O=yn,S=zt,A=da,K=mn,I=u(ct,function(e){return{bd:e}},u(A,"settings",u(ct,function(e){return{cd:e}},u(A,"theme",u(ct,function(e){switch(e){case"auto":default:return 0;case"light":return 1;case"dark":return 2}},K))))),B=function(e){return{$:5,a:e}},L=function(e){return{$:4,a:e}},C=R(function(e,t,i){return t(e(i))}),F={$:6},V=function(e){return{$:1,a:e}},U=v(function(e,t){return{$:13,a:e,b:t}}),G=function(e){return{$:8,a:e}},ie=function(e){return{$:9,a:e}},oe={$:0},ce=function(e){return{$:10,a:e}},bt=v(function(e,t){return{$:16,a:e,b:t}}),re=function(e){return{$:11,a:e}},Je=function(e){return{$:2,a:e}},Ge=function(e){return{$:7,a:e}},yr=v(function(e,t){return{$:14,a:e,b:t}}),tt=v(function(e,t){return{$:17,a:e,b:t}}),an=v(function(e,t){return{$:15,a:e,b:t}}),Wr=v(function(e,t){return{$:12,a:e,b:t}}),Nc=tr,ft=v(function(e,t){switch(t.$){case 0:return oe;case 1:var i=t.a;return V(u(m,ft(e),i));case 2:return Je(u(Nc,e,t.a));case 3:return{$:3,a:t.a};case 4:return function(P){return{$:4,a:P}}(t.a);case 6:return F;case 5:return function(P){return{$:5,a:P}}(t.a);case 7:return Ge(t.a);case 8:return G(u(C,t.a,e));case 9:return ie(u(C,t.a,e));case 10:return ce(u(C,t.a,e));case 16:var o=t.b;return u(bt,u(C,t.a,e),o);case 11:return re(u(C,t.a,e));case 12:var s=t.b;return u(Wr,u(C,t.a,e),s);case 13:return s=t.b,u(U,u(C,t.a,e),s);case 14:var d=t.b;return u(yr,u(C,t.a,e),d);case 17:var p=t.b;return u(tt,u(C,t.a,e),p);default:var y=t.b;return u(an,u(C,t.a,e),y)}}),Bc=v(function(e,t){return u(bi,e,-t)}),Ki=R(function(e,t,i){return e(t(i))}),Fc=ku,Bt=v(function(e,t){return x(u(Fc,u(Ki,u(Ki,f,e),He),u(w,u(Ki,u(Ki,f,e),at),t)))}),Qr=xe,to=function(e){return{$:0,a:e}},Lc=function(e){return e.$?"elmtaskport://"+e.a+"/"+e.c+"?v=2.0.1&nsv="+e.b:"elmtaskport:///"+e.a+"?v=2.0.1"},Uc=v(function(e,t){return{$:3,a:e,b:t}}),Vc=function(e){return{$:0,a:e}},Yc=v(function(e,t){return{$:4,a:e,b:t}}),zc={$:2},Hc=function(e){return{$:1,a:e}},Jc=function(e){return{$:0,a:e}},Wc={$:1},on={$:-2},Ot=on,no=function(e){return!e.$},ro=va,uo=Yt,jn=v(function(e,t){e:for(;;){if(t.$===-2)return Q;var i=t.c,o=t.d,s=t.e;switch(u(uo,e,t.b)){case 0:t=o;continue e;case 1:return ee(i);default:t=s;continue e}}}),ye=ge(function(e,t,i,o,s){return{$:-1,a:e,b:t,c:i,d:o,e:s}}),Gr=ge(function(e,t,i,o,s){if(s.$!==-1||s.a){if(o.$!==-1||o.a||o.d.$!==-1||o.d.a)return J(ye,e,t,i,o,s);var d=o.d;return p=o.e,J(ye,0,o.b,o.c,J(ye,1,d.b,d.c,d.d,d.e),J(ye,1,t,i,p,s))}var p,y=s.b,P=s.c,q=s.d,N=s.e;return o.$!==-1||o.a?J(ye,e,y,P,J(ye,0,t,i,o,q),N):J(ye,0,t,i,J(ye,1,o.b,o.c,o.d,p=o.e),J(ye,1,y,P,q,N))}),ga=R(function(e,t,i){if(i.$===-2)return J(ye,0,e,t,on,on);var o=i.a,s=i.b,d=i.c,p=i.d,y=i.e;switch(u(uo,e,s)){case 0:return J(Gr,o,s,d,M(ga,e,t,p),y);case 1:return J(ye,o,s,t,p,y);default:return J(Gr,o,s,d,p,M(ga,e,t,y))}}),Xr=R(function(e,t,i){var o=M(ga,e,t,i);return o.$!==-1||o.a?o:J(ye,1,o.b,o.c,o.d,o.e)}),io=function(e){if(e.$===-1&&e.d.$===-1&&e.e.$===-1){if(e.e.d.$!==-1||e.e.d.a){var t=e.d,i=e.e;return p=i.b,y=i.c,o=i.d,N=i.e,J(ye,1,e.b,e.c,J(ye,0,t.b,t.c,t.d,t.e),J(ye,0,p,y,o,N))}var o,s=e.d,d=e.e,p=d.b,y=d.c,P=(o=d.d).d,q=o.e,N=d.e;return J(ye,0,o.b,o.c,J(ye,1,e.b,e.c,J(ye,0,s.b,s.c,s.d,s.e),P),J(ye,1,p,y,q,N))}return e},ao=function(e){if(e.$===-1&&e.d.$===-1&&e.e.$===-1){if(e.d.d.$!==-1||e.d.d.a){var t=e.d,i=t.d,o=e.e;return N=o.b,Y=o.c,W=o.d,X=o.e,J(ye,1,s=e.b,d=e.c,J(ye,0,t.b,t.c,i,P=t.e),J(ye,0,N,Y,W,X))}var s=e.b,d=e.c,p=e.d,y=p.d,P=p.e,q=e.e,N=q.b,Y=q.c,W=q.d,X=q.e;return J(ye,0,p.b,p.c,J(ye,1,y.b,y.c,y.d,y.e),J(ye,1,s,d,P,J(ye,0,N,Y,W,X)))}return e},Qc=Fe(function(e,t,i,o,s,d,p){if(d.$!==-1||d.a){e:for(;;){if(p.$===-1&&p.a===1){if(p.d.$===-1){if(p.d.a===1)return ao(t);break e}return ao(t)}break e}return t}return J(ye,i,d.b,d.c,d.d,J(ye,0,o,s,d.e,p))}),Ti=function(e){if(e.$===-1&&e.d.$===-1){var t=e.a,i=e.b,o=e.c,s=e.d,d=s.d,p=e.e;if(s.a===1){if(d.$!==-1||d.a){var y=io(e);if(y.$===-1){var P=y.e;return J(Gr,y.a,y.b,y.c,Ti(y.d),P)}return on}return J(ye,t,i,o,Ti(s),p)}return J(ye,t,i,o,Ti(s),p)}return on},Hu=v(function(e,t){if(t.$===-2)return on;var i=t.a,o=t.b,s=t.c,d=t.d,p=t.e;if(0>Xe(e,o)){if(d.$===-1&&d.a===1){var y=d.d;if(y.$!==-1||y.a){var P=io(t);if(P.$===-1){var q=P.e;return J(Gr,P.a,P.b,P.c,u(Hu,e,P.d),q)}return on}return J(ye,i,o,s,u(Hu,e,d),p)}return J(ye,i,o,s,u(Hu,e,d),p)}return u(Gc,e,Pe(Qc,e,t,i,o,s,d,p))}),Gc=v(function(e,t){if(t.$===-1){var i=t.a,o=t.b,s=t.c,d=t.d,p=t.e;if(_e(e,o)){var y=function(P){for(;;){if(P.$!==-1||P.d.$!==-1)return P;P=P.d}}(p);return y.$===-1?J(Gr,i,y.b,y.c,d,Ti(p)):on}return J(Gr,i,o,s,d,u(Hu,e,p))}return on}),wa=v(function(e,t){var i=u(Hu,e,t);return i.$!==-1||i.a?i:J(ye,1,i.b,i.c,i.d,i.e)}),_a=R(function(e,t,i){var o=t(u(jn,e,i));return o.$?u(wa,e,i):M(Xr,e,o.a,i)}),Xc=v(function(e,t){return{$:3,a:e,b:t}}),Zr=function(e){return{$:0,a:e}},Zc={$:0},oo=function(e){return{$:4,a:e}},ka=Zn,es=v(function(e,t){return{$:0,a:e,b:t}}),ts=function(e){return{$:1,a:e}},ns=ae(function(e,t,i,o){return{aL:o,x:t,bU:e,bg:i}}),co=ha,rs=function(e){return u(co,e,Hn(0))},Ci=function(e){return{$:3,b:e}},us=ii,is=function(e){return{$:5,c:e}},$a=function(e){return{$:11,g:e}},so=la;function xa(){return $a($([M(Yu,es,u(A,"name",K),Oa()),u(ct,ts,so)]))}function Oa(){return J(us,ns,u(A,"name",K),u(A,"message",K),u(A,"stackLines",Ci(K)),u(A,"cause",$a($([is(Q),u(ct,ee,rs(function(){return xa()}))]))))}var fo=xa();xa=function(){return fo};var as=Oa();Oa=function(){return as};var lo,Ea,Pa=function(e){return He(Zr(oo("Runtime error in JavaScript interop: "+e+". JavaScript console may contain more information about the issue.")))},os=v(function(e,t){switch(t.$){case 0:return Pa("bad url "+t.a);case 1:return Pa("timeout");case 2:return He(Zr(Zc));case 3:var i=t.a.b9,o=t.b;if(i===400)return He(Zr({$:2,a:o}));if(i===404)return He(Zr(function(p){return{$:1,a:p}}(o)));if(i===500){var s=u(ka,fo,o);return He(s.$?Zr(oo(hr(s.a))):function(p){return{$:1,a:p}}(s.a))}return Pa("unexpected status "+vt(i));default:var d=u(ka,e,o=t.b);return d.$?He(Zr(u(Xc,d.a,o))):at(d.a)}}),cs=u(It,"",me),ho=R(function(e,t,i){return{aK:(o=i,u(Cu,"application/json",u(Yn,0,o))),aV:D,bR:"POST",a9:cs(os(t)),ce:Q,cg:Lc(e)};var o}),ss=Jt,fs=function(e){return e.$?ss(e.a):f(e.a)},po=function(e){return M(Tu,0,fs,{bu:!1,aK:e.aK,at:e.a9,aV:e.aV,bR:e.bR,ce:e.ce,bl:Q,cg:e.cg})},ls=v(function(e,t){return po(M(ho,e.bI,e.ch,e.bw(t)))}),gr=v(function(e,t){return u(ls,{bw:e.bw,bI:to(e.bI),ch:e.ch},t)}),mt=$t,ds=v(function(e,t){var i=gr({bw:mt,bI:"deleteItem",ch:Qr});return u(Bt,e,i(t))}),Sn=$t,eu=function(e){return M(rn,v(function(t,i){return M(Z,t.a,t.b,i)}),{},e)},hs=v(function(e,t){var i={bU:e.aQ.bU,bo:e.aQ.bo},o=gr({bw:function(s){return eu($([T("name",mt(s.bU)),T("version",Sn(s.bo))]))},bI:"initDb",ch:Qr});return u(Bt,t,o(i))}),vo=function(e){return u(_,c,Ze(function(){try{tn.location=e}catch{Rt.location.reload(!1)}}))},cn=O(D),wr=me,ps=(lo=wr,Ze(function(e){e(wt(lo(Date.now())))})),bo=ze,vs=v(function(e,t){return{af:e,ai:t}}),mo=function(e){return function(t){return po(M(ho,t.bI,t.ch,null))}({bI:to(e.bI),ch:e.ch})},bs=ge(function(e,t,i,o,s){return{aO:o,bM:e,ai:i,bU:t,bn:s}}),_r=Kr,ms=Xn,yo=ue(ms,bs,u(A,"id",_r),u(A,"name",K),u(A,"items",Ci(K)),u(A,"created",u(ct,wr,_r)),u(A,"updated",u(ct,wr,_r))),go=function(e){return function(t){return function(i){return function(o){return function(s){return function(d){return function(p){return function(y){return function(P){return function(q){return{bA:o,aO:y,bG:q,bM:e,bU:t,b1:i,b8:s,al:p,cc:d,bn:P}}}}}}}}}}},wo=jt,ys=ai,_o=function(e){return $a($([u(ct,ee,e),Hn(Q)]))},qi=v(function(e,t){return{$:0,a:e,b:t}}),gs=Gn,ws=M(Yu,qi,u(A,"count",gs),u(A,"unit",K)),Aa=u(co,function(e){return qe(wo,e,u(A,"created",u(ct,wr,_r)),u(A,"updated",u(ct,wr,_r)),u(A,"frequency",_r))},it(ys,go,u(A,"id",K),u(A,"name",K),u(A,"quantity",ws),u(A,"comment",_o(K)),u(A,"slug",K),u(A,"symbol",_o(K)),u(A,"state",u(ct,function(e){switch(e){case"stuffed":default:return 0;case"required":return 1;case"in-basket":return 2}},K)))),ko=function(e){return M(rn,v(function(t,i){return M(Xr,t.a,t.b,i)}),Ot,e)},$o=function(e){return u(ct,ko,function(t){return{$:8,b:t}}(e))},_s=v(function(e,t){var i=gr({bw:mt,bI:"queryBySlug",ch:Aa});return u(Bt,e,i(t))}),ks=Mt,ja=v(function(e,t){return M(rn,function(i){return v(function(o,s){return s.push(i(o)),s})}(e),[],t)}),Sa=function(e){return eu($([T("id",Sn(e.bM)),T("name",mt(e.bU)),T("items",u(ja,mt,e.ai)),T("created",Sn(e.aO)),T("updated",Sn(e.bn))]))},$s=v(function(e,t){var i=gr({bw:Sa,bI:"storeCategory",ch:Qr});return u(Bt,e,i(t))}),xs=$t,Os=function(e){return e.b},Se=v(function(e,t){return t.$?Q:ee(e(t.a))}),Le=v(function(e,t){return t.$?e:t.a}),xo=function(e){return u(C,Se(e),Le(null))},Mi=function(e){return eu($([T("id",mt(e.bM)),T("name",mt(e.bU)),T("quantity",(i=e.b1,eu($([T("count",xs((o=i,o.a))),T("unit",mt(Os(i)))])))),T("comment",u(xo,mt,e.bA)),T("slug",mt(e.b8)),T("symbol",u(xo,mt,e.cc)),T("state",(t=e.al,mt(function(s){switch(s){case 0:return"stuffed";case 1:return"required";default:return"in-basket"}}(t)))),T("frequency",Sn(e.bG)),T("created",Sn(e.aO)),T("updated",Sn(e.bn))]));var t,i,o},Es=v(function(e,t){var i=gr({bw:Mi,bI:"storeItem",ch:Qr});return u(Bt,e,i(t))}),Ka=R(function(e,t,i){for(;;){if(i.$===-2)return t;var o=i.e,s=e,d=M(e,i.b,i.c,M(Ka,e,t,i.d));e=s,t=d,i=o}}),Ta=R(function(e,t,i){return M(Ka,R(function(o,s,d){return M(Z,e(o),t(s),d)}),{},i)}),Ps=v(function(e,t){var i=gr({bw:u(Ta,me,Mi),bI:"storeAllItems",ch:Qr});return u(Bt,e,i(t))}),As=function(e){return eu($([T("version",Sn(e.bo)),T("items",M(Ta,me,Mi,e.ai)),T("categories",u(ja,Sa,e.af))]))},js=v(function(e,t){var i=gr({bw:As,bI:"storeDump",ch:Qr});return u(Bt,e,i(t))}),Ii=v(function(e,t){switch(t.$){case 0:return cn;case 1:var i=t.a;return O(u(m,Ii(e),i));case 2:return t.a;case 3:return u(bo,e.au,t.a);case 4:return u(ks,e.au,t.a);case 6:return u(Bc,e.au,1);case 5:return vo(t.a);case 7:return u(_,e.bH,f(t.a));case 8:return u(_,t.a,ps);case 9:return u(hs,e.b7,t.a);case 10:return function(o){var s=M(Yu,vs,u(A,"categories",Ci(yo)),u(A,"items",$o(Aa))),d=mo({bI:"queryAllCatsAndItems",ch:s});return u(Bt,o,d)}(t.a);case 16:return u(_s,t.a,t.b);case 11:return function(o){var s=mo({bI:"getUuid",ch:K});return u(Bt,o,s)}(t.a);case 12:return u(Es,t.a,t.b);case 13:return u(ds,t.a,t.b);case 14:return u(Ps,t.a,t.b);case 17:return u($s,t.a,t.b);default:return u(js,t.a,t.b)}}),Oo=v(function(e,t){return u(Ii,{ad:B,bH:L,au:e.au,b7:e.b7,am:u(C,f,_(me)),cg:e.cg},u(ft,L,t))}),Ju=v(function(e,t){return t.$?Q:e(t.a)}),Eo={$:4},Po={$:0},Ao=function(e){return{$:1,a:e}},jo={$:2},So={$:3},Kn=v(function(e,t){return M(b,v(function(i,o){return e(i)?u(Be,i,o):o}),D,t)}),Ss=function(e){return!e},Ko=function(e){return e.trim()},Ks=function(e){var t=u(Kn,u(C,Ko,u(C,st,Ss)),u(Yr,"/",e));e:for(;;){if(!t.b)return ee(Po);if(t.b.b){if(t.a!=="items"||t.b.b.b)break e;return ee(Ao({g:t.b.a}))}switch(t.a){case"settings":return ee(jo);case"shopping":return ee(So);default:break e}}return Q},Ca=function(e){var t,i,o=e.b0?"https://":"http://",s=(t=e.b$).$?"":":"+vt(t.a);return a((i=$([o,e.bL,s,u(Le,"",e.bF)]),u(_t,"",i)))},Di=function(e){return u(Le,Eo,u(Ju,Ks,u(Se,function(t){return t.b_},Ca(e))))},Ts=R(function(e,t,i){var o=e(t);return o.$?i:u(Be,o.a,i)}),Ri=v(function(e,t){return M(b,Ts(e),D,t)}),To=function(e){try{return ee(decodeURIComponent(e))}catch{return Q}},qa=function(e){return u(Le,e,To(e))},Cs=function(e){if(e.b){if(e.b.b){var t=e.b.a;return ee(T(qa(e.a),qa(t)))}return ee(T(qa(e.a),""))}return Q},qs=function(e){var t=u(Ju,function(o){return o.b2},Ca(e));if(t.$===1)return Ot;var i=t.a;return st(i)?Ot:ko(u(Ri,u(C,Yr("="),Cs),u(Yr,"&",i)))},ne=v(function(e,t){return{bJ:u(Ju,function(i){return i.bF},Ca(t)),bZ:e,b_:Di(t),b2:qs(t),cg:t}}),Ms=function(e){return{$:1,a:e}},Is=v(function(){return T({aQ:{bU:"grocery-list",bh:0,bo:1},as:Q,bd:{cd:2},aH:"ÐÐ¾ÐºÑÐ¿ÐºÐ¸: "},ie(Ms))}),Co=function(e){return{$:0,a:e}},kr=function(e){return{$:0,a:e}},qo=v(function(e,t){return{$:1,a:e,b:t}}),$r=function(e){return{$:1,a:e}},Mo=function(e){return{$:4,a:e}},xr=function(e){return{$:4,a:e}},Te=function(e){return{$:2,a:e}},Io=function(e){return{$:2,a:e}},Or=function(e){return{$:2,a:e}},Do=function(e){return{$:3,a:e}},Er=function(e){return{$:3,a:e}},sn=v(function(e,t){return u(Ii,{ad:B,bH:L,au:e.au,b7:e.b7,am:u(C,f,_(me)),cg:e.cg},u(ft,Te,t))}),Wu=function(e){return e.O},Ni=function(e){return{$:3,a:e}},Ro=v(function(e,t){return u(Ii,{ad:B,bH:L,au:e.au,b7:e.b7,am:u(C,f,_(me)),cg:e.cg},u(ft,Ni,t))}),Ds=function(e){return e.O},ke=oe,Rs=v(function(e){return T({L:e},ke)}),No=yn,Tn=No(D),Ns=function(){return Tn},Bs=R(function(e,t,i){return T(H(i,{L:t.Y}),ke)}),tu=v(function(e,t){return u(nr,e,mt(t))}),pe=tu("className"),Fs=Me("footer"),Ls=Me("header"),Us=fi,Bo=Us,Vs=Me("main"),Ys=function(e){return Me(le(e))},Fo=qr,Bi=v(function(e,t){return u(Fo,e,{$:0,a:t})}),zs=R(function(e,t,i){return{N:i,b_:e,W:t}}),Hs=Qe("fill"),Js=Qe("height"),Lo=v(function(e,t){return u(nr,function(i){return i=="innerHTML"||i=="outerHTML"||i=="formAction"?"data-"+i:i}(e),function(i){return typeof i=="string"&&Ir.test(i)||Array.isArray(i)&&Ir.test(i+"")?"":i}(t))}),Ws=Qe("stroke"),Qs=Qe("stroke-linecap"),Gs=Qe("stroke-linejoin"),Ma=Qe("stroke-width"),Xs=Qe("viewBox"),Zs=Qe("width"),fn=$([Zs("24"),Js("24"),Hs("none"),Ws("currentColor"),Ma("2"),Qs("round"),Gs("round"),Xs("0 0 24 24"),u(Lo,"xmlns",mt("http://www.w3.org/2000/svg")),u(Lo,"style",mt("width:1em;height:1em"))]),Ue=Qe("d"),Ia=Zt("http://www.w3.org/2000/svg"),Ve=Ia("path"),ln=Ia("svg"),Uo=Me("li"),ef=function(e){return u(ln,be(fn,e),$([u(Ve,$([Ue("M3 5h.01")]),D),u(Ve,$([Ue("M3 12h.01")]),D),u(Ve,$([Ue("M3 19h.01")]),D),u(Ve,$([Ue("M8 5h13")]),D),u(Ve,$([Ue("M8 12h13")]),D),u(Ve,$([Ue("M8 19h13")]),D)]))},tf=Me("nav"),Fi=Ia("circle"),Li=Qe("cx"),Ui=Qe("cy"),Vi=Qe("r"),nf=function(e){return u(ln,be(fn,e),$([u(Ve,$([Ue("M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915")]),D),u(Fi,$([Li("12"),Ui("12"),Vi("3")]),D)]))},rf=function(e){return u(ln,be(fn,e),$([u(Fi,$([Li("8"),Ui("21"),Vi("1")]),D),u(Fi,$([Li("19"),Ui("21"),Vi("1")]),D),u(Ve,$([Ue("M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12")]),D)]))},nt=Me("span"),Da=Me("ul"),Vo=Me("a"),Yo=function(e){return e.b},nu=function(e){return pe(u(_t," ",u(m,Uu,u(Kn,Yo,e))))},zo=function(e){return u(tu,"href",Mr.test(t=e)?"":t);var t},Ho=mu,Jo=function(e){var t=function(){switch(e.$){case 0:return D;case 1:return $(["items",e.a.g]);case 2:return $(["settings"]);case 3:return $(["shopping"]);default:return $(["404"])}}();return u(Ho,"#/",u(_t,"/",t))},uf=function(e){return e.a+"="+e.b},af=v(function(e,t){return{$:0,a:e,b:t}}),Wo=function(e){return encodeURIComponent(e)},of=v(function(e,t){return u(af,Wo(e),Wo(t))}),cf=function(e){return u(of,e.a,e.b)},sf=function(e){return(t=u(m,cf,sr(e))).b?"?"+u(_t,"&",u(m,uf,t)):"";var t},ff=function(e){return zo(function(t){return u(_t,"",$([Jo(t.b_),sf(t.b2),u(Le,"",u(Se,Ho("#"),t.bJ))]))}(e))},lf=Cr,Re=lf,Qo=v(function(e,t){return u(Uo,D,$([u(Vo,$([ff({bJ:Q,b_:t.b_,b2:Ot}),pe("link"),nu($([T("active",_e(e.b_,t.b_))]))]),$(t.W===""?[u(nt,$([pe("icon-wrapper")]),$([t.N(D)]))]:[u(nt,$([pe("icon-wrapper")]),$([t.N(D)])),Re(t.W)]))]))}),Go=function(e){var t,i=$([{N:ef,b_:Po,W:"Ð¡Ð¿Ð¸ÑÐ¾Ðº"},{N:rf,b_:So,W:"Ð Ð¼Ð°Ð³Ð°Ð·Ð¸Ð½Ðµ"}]);return u(tf,$([pe("main-nav")]),$([u(Da,D,$([u(Uo,D,$([u(nt,$([pe("link")]),$([u(nt,$([pe("icon-wrapper")]),$([(t=D,u(ln,be(fn,t),$([u(Ve,$([Ue("m2 2 20 20")]),D),u(Ve,$([Ue("M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193")]),D),u(Ve,$([Ue("M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07")]),D)])))]))]))]))])),u(Da,$([pe("group")]),u(m,Qo(e),i)),u(Da,D,$([u(Qo,e,M(zs,jo,"",nf))]))]))},df=v(function(e,t){var i=t.bS,o=t.m;return{aK:$([M(Ys,"on-click-outside",$([u(Bi,"clickoutside",Hn(e.aj))]),$([u(Ls,$([pe("nav-header container")]),$([u(Bo,Go,i.L)])),u(Vs,$([pe("app-main container")]),o.aK),u(Fs,$([pe("nav-footer container")]),$([u(Bo,Go,i.L)]))]))]),bk:o.bk}}),hf=v(function(e,t){return H(t,{S:ee(e)})}),Qu=R(function(e,t,i){return u(hf,me,{O:(o={O:Rs(i),T:Ns,ab:Bs(e),ac:df(e)}).O,R:Q,F:Ot,S:Q,aB:0,T:o.T,ab:o.ab,ac:o.ac});var o}),Gu=v(function(e,t){var i=T(t,e.d);if(i.b.$){var o=u(Ds,M(Qu,i.a,e.b7,u(ne,0,e.cg)),0);return T({Q:o.a},u(Ro,e,u(ft,me,o.b)))}return T(i.b.a,cn)}),dn=v(function(e,t){return u(Se,function(i){return i(e)},t.Z)}),pf=v(function(e,t){return{aj:e(t.aj)}}),hn=v(function(e,t){return u(pf,e,t)}),Ft=R(function(e,t,i){var o=i.b;return T(e(i.a),t(o))}),Xo=function(e){return{$:1,a:e}},Zo=function(e){return{$:3,a:e}},Yi=V,ec=Ot,zi=function(e){return go(u(Le,"empty",e))("")(u(qi,1,"ÑÑÑÐº"))(Q)("")(Q)(1)(wr(0))(wr(0))(0)},Ra=function(e){return ce(e)},tc=function(e){return re(e)},vf=function(){return T({ae:Q,af:D,D:ec,aq:ee(zi(Q)),as:Q,ai:Ot,ak:Q,V:Q,aH:"ÐÐ¾ÐºÑÐ¿ÐºÐ¸: "},Yi($([tc(Zo),Ra(function(e){return e.$?Xo(Q):{$:2,a:e.a}})])))},Xu=function(e){return{O:e.O,R:Q,F:Ot,S:Q,T:e.T,Z:Q,ab:e.ab,ac:e.ac}},bf=function(){return Tn},mf={$:4},yf=function(){return{aj:mf}},gf={$:6},wf={$:5},nc=v(function(e,t){return t.b?M(b,Be,t,e):e}),rc=function(e){return e.b?ee(e.a):Q},_f=v(function(e,t){return rc(u(Kn,function(i){return _e(i.bM,t)},e))}),Na={$:0},ru=function(e){return e.$===1?Xo(Q):Na},uc=v(function(e,t){return u(tt,e,t)}),Hi=v(function(e,t){return u(Wr,e,t)}),kf=v(function(e,t){return{$:8,a:e,b:t}}),$f=v(function(e,t){return u(U,e,t)}),ic=or("focus"),ac=v(function(e,t){return M(Xr,e,0,t)}),Ba=v(function(e,t){for(;;){if(!t.b)return!1;var i=t.b;if(e(t.a))return!0;t=i}}),Ji=v(function(e,t){return u(Ba,function(i){return _e(i,e)},t)}),oc=v(function(e,t){return u(wa,e,t)}),xf=v(function(e,t){return u(Ji,e,t.ai)?H(t,{ai:u(Kn,function(i){return!_e(i,e)},t.ai)}):t}),Zu=Je,Of=v(function(e,t){return M(_a,e,Se(function(i){return H(i,{bG:i.bG+1})}),t)}),cc=R(function(e,t,i){return M(_a,t,Se(function(o){return H(o,{al:e})}),i)}),Ef=R(function(e,t,i){var o=i?0:1;return T(H(e,{ai:u(C,Of(t.bM),u(cc,o,t.bM))(e.ai)}),u(Hi,ru,H(t,{al:o})))}),Pf=function(e){if(e.length===0||/[\sxbo]/.test(e))return Q;var t=+e;return t==t?ee(t):Q},sc=R(function(e,t,i){var o=T(e,t);e:for(;!o.a.$;)switch(o.b){case 0:return ee(H(s=o.a.a,{bU:i}));case 3:return ee(H(s=o.a.a,{bA:ee(i)}));case 1:var s=o.a.a,d=u(Le,0,Pf(i));return ee(H(s,{b1:u(qi,d,s.b1.b)}));case 2:return ee(H(s=o.a.a,{b1:u(qi,s.b1.a,i)}));default:break e}return e}),Af=v(function(e,t){switch(t.$){case 0:var i=t.a;return T(H(e,{D:s=u(t.b?ac:oc,i,e.D)}),ke);case 2:return M(Ef,e,t.a,t.b);case 8:var o=t.c;return T(H(e,{V:ee(t.a)}),Zu(u(Bt,function(){return Na},ic(o))));case 9:var s;return T(H(e,{V:s=M(sc,e.V,t.b,t.c)}),(y=kf(s),G(y)));case 3:return o=t.b,T(H(e,{ae:ee((p=t.a).bM)}),Zu(u(Bt,function(){return Na},ic(o))));case 6:return T(H(e,{aq:M(sc,e.aq,t.a,t.b)}),ke);case 10:var d=t.a,p=rc(u(Kn,function(P){return u(Ji,d,P.ai)},e.af));return T(H(e,{af:u(m,xf(d),e.af),ai:u(wa,d,e.ai)}),Yi($([u($f,ru,d),u(Le,ke,u(Se,uc(ru),p))])));default:return T(e,ke)}var y}),fc=function(e){return Je(u(_,me,f(e)))},jf=v(function(e,t){return H(t,{bM:e})}),Sf=ca,Kf=v(function(e,t){return H(t,{ai:u(Sf,function(i){var o=u(jn,i,e);return o.$?0:0-o.a.bG},t.ai)})}),Tf=v(function(e,t){switch(e.$){case 0:return T(t,ke);case 1:return T(H(t,{as:e.a}),ke);case 3:var i=T((y=e.a).$?Q:ee(y.a),t.aq);return T(i.a.$||i.b.$?t:H(t,{aq:ee(u(jf,i.a.a,i.b.a))}),ke);case 4:return T(t,Yi($([fc(wf),fc(gf)])));case 5:return function(P){var q=P.V;if(q.$)return T(P,ke);var N=q.a;return N.bM!=="empty"?T(H(P,{ai:M(Xr,N.bM,N,P.ai),ak:Q,V:ee(zi(Q))}),u(Hi,ru,N)):T(P,ke)}(t);case 6:return function(P){var q=P.aq;if(q.$)return T(P,ke);var N=q.a;if(st(N.bU))return T(H(P,{ae:Q,aq:ee(zi(ee(N.bM))),ak:Q}),ke);var Y=u(Ju,function(W){return ee(H(W,{ai:u(nc,W.ai,$([N.bM]))}))},u(Ju,_f(P.af),P.ae));return T(H(P,{ae:Q,af:function(){if(Y.$)return P.af;var W=Y.a;return u(m,function(X){return _e(X.bM,W.bM)?W:X},P.af)}(),aq:ee(zi(Q)),ai:M(Xr,N.bM,N,P.ai)}),Yi($([u(Hi,ru,N),tc(Zo),u(Le,ke,u(Se,function(W){return u(uc,ru,W)},Y))])))}(t);case 2:var o=e.a;return T(H(t,{af:u(m,Kf(o.ai),o.af),ai:o.ai}),ke);case 7:return u(Af,t,e.a);default:var s=e.a,d=e.b;if(s.$)return T(t,ke);var p=H(s.a,{bn:d});return T(H(t,{V:ee(p)}),ke)}var y}),Cf=function(e){return{$:7,a:e}},uu=Ie,lc=function(e){return{ae:Q,af:e.af,ao:e.an,ag:e.ag,ap:!1,aq:Q,ar:!1,ai:e.ai,av:!1,aw:!1,H:!1,V:Q}},dc=function(e){return Pu(le(e))},Lt=Me("div"),Fa=v(function(e,t){return!u(jn,e,t).$}),qf=v(function(e,t){return u(Fa,e,t)}),Wn=Re(""),Mf=v(function(e,t){return u(Lt,$([pe("category-body"),nu($([T("collapsed",e===1)]))]),t)}),If=v(function(e,t){return{$:0,a:e,b:t}}),hc=function(e){return u(ln,be(fn,e),$([u(Ve,$([Ue("m9 18 6-6-6-6")]),D)]))},pc=Me("h3"),Ut=function(e){return u(Bi,"click",Hn(e))},Wi=v(function(e,t){if(t.$===-2)return on;var i=t.b,o=t.d,s=t.e;return J(ye,t.a,i,u(e,i,t.c),u(Wi,e,o),u(Wi,e,s))}),vc=R(function(e,t,i){var o=On(u(Kn,function(d){return u(Fa,d,e)},t)),s=On(u(Kn,function(d){return _e(u(jn,d,e),ee(i))},t));return u(nt,$([pe("counter"),nu($([T("all-done",Xe(s,o)>-1)]))]),$([Re(vt(s)+" / "+vt(o))]))}),Df=R(function(e,t,i){return i?$([M(vc,u(Wi,v(function(o,s){return s.al}),e),t,2)]):D}),Rf=function(e){return H(e,{ap:!0})},Nf=R(function(e,t,i){return u(uu,function(s){return u(If,s,t?0:1)},function(s){var d,p=s,y=u(nt,D,$([Re(p.K.bU)])),P=u(nt,$([pe("chevron"),Ut(p.K.bM)]),$([p.al?hc(D):(d=D,u(ln,be(fn,d),$([u(Ve,$([Ue("m6 9 6 6 6-6")]),D)])))]));return u(pc,D,u(Be,y,be(M(Df,p.ai,p.K.ai,p.ap),$([P]))))}((e.ap?Rf:me)({K:(o={K:i,ai:e.ai,al:t}).K,ap:!1,ai:o.ai,al:o.al})));var o}),Bf=v(function(e,t){return{$:6,a:e,b:t}}),Ff=v(function(e,t){return{$:3,a:e,b:t}}),Qi={$:11},Pr=Me("button"),bc=function(e){return{an:e.an,aq:!1,ar:e.ar,g:e.g,av:!1,aw:!1,aA:e.aA,H:!1}},La=R(function(e,t,i){return{$:2,a:e,b:t,c:i}}),Ua=R(function(e,t,i){return{$:3,a:e,b:t,c:i}}),Lf=v(function(e,t){return{$:1,a:e,b:t}}),Uf=v(function(e,t){return{$:0,a:e,b:t}}),iu={$:5},Vf=Me("article"),Yf=Me("h4"),zf=v(function(e,t){return u(Ji,e,t)}),Ar=v(function(e,t){return u(Qe,function(i){return li.test(i)?"data-"+i:i}(e),function(i){return Ir.test(i)?"":i}(t))}),Hf=function(e){return u(ln,be(fn,e),$([u(Ve,$([Ue("M20 6 9 17l-5-5")]),D)]))},mc=function(e){return u(Ar,"role",e)},Jf=ae(function(e,t,i,o){return u(Lt,$([mc("checkbox"),u(Ar,"aria-role","checkbox"),nu($([T("checked",o),T("check",i===1),T("disabled",t)])),Ut(e(!o))]),$([i?Hf($([Ma("3")])):(s=$([Ma("3")]),u(ln,be(fn,s),$([u(Ve,$([Ue("M5 12h14")]),D),u(Ve,$([Ue("M12 5v14")]),D)])))]));var s}),Gi=ae(function(e,t,i,o){return t.$===1||i.$===1||o.$===1?Q:ee(M(e,t.a,i.a,o.a))}),au=tu("id"),Xi=tu("name"),Zi=function(e){return u(Bi,"blur",Hn(e))},ea=function(e){return u(Bi,"focus",Hn(e))},Wf=function(e){return T(e,!0)},Qf=v(function(e,t){return u(Fo,e,{$:1,a:t})}),Gf=u(v(function(e,t){return M(b,A,t,e)}),$(["target","value"]),K),ta=function(e){return u(Qf,"input",u(ct,Wf,u(ct,e,Gf)))},Xf=Me("textarea"),na=tu("value"),Zf=R(function(e,t,i){return u(nt,$([pe("item-comment"),au(i),Ut(e)]),$([t.$?u(nt,$([pe("add-item-comment with-click-outside")]),$([Re("ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ ÐºÐ¾Ð¼Ð¼ÐµÐ½ÑÐ°ÑÐ¸Ð¹")])):Re(t.a)]))}),el=function(e){var t="item-comment-"+e.ah;return!e.aF&&e.aA?u(Le,Wn,qe(Gi,R(function(i,o,s){return function(d){var p=d.w,y=d.q,P=d.l,q=d.p,N=d.m;return u(nt,$([pe("grow-container"),u(Ar,"data-content",u(Le,"",N))]),$([u(Xf,$([na(u(Le,"",N)),pe("with-click-outside"),ta(y),Zi(P),ea(q),Xi(p),u(Qe,"rows",vt(1)),au(p)]),D)]))}({l:o,m:e.m,w:t,p:s,q:i})}),e.q,e.l,e.p)):M(Zf,u(e.az,3,t),e.m,t)},tl=v(function(e,t){return e?t:Wn}),nl=v(function(e,t){return u(Le,Wn,u(Se,e,t))}),Va=Me("input"),Ya=tu("type"),rl=R(function(e,t,i){return u(nt,$([au(i),Ut(e)]),$([Re(t)]))}),ul=function(e){var t="item-name-"+e.ah;return!e.aF&&e.aA?u(Le,Wn,qe(Gi,R(function(i,o,s){return function(d){var p=d.w,y=d.q,P=d.l,q=d.p,N=d.m;return u(nt,$([pe("input-resize-containter"),u(Ar,"data-content",N)]),$([u(Va,$([Ya("text"),pe("item-name-field with-click-outside"),na(N),ta(y),Zi(P),ea(q),Xi(p),au(p)]),D)]))}({l:o,m:e.m,w:t,p:s,q:i})}),e.q,e.l,e.p)):M(rl,u(e.az,0,t),e.m,t)},yc=Me("b"),za=te,il=v(function(e,t){var i=t.a,o=t.b,s="item-quantity-unit"+e.ah,d="item-quantity-count"+e.ah;return!e.aF&&e.aA?u(nt,D,$([u(Le,Wn,qe(Gi,R(function(p,y,P){return function(q){var N=q.w,Y=q.m,W=q.q,X=q.p,fe=q.l;return u(yc,$([pe("input-resize-containter"),u(Ar,"data-content",za(Y))]),$([u(Va,$([Ya("text"),u(Ar,"inputmode","decimal"),pe("item-quantity-count-field with-click-outside"),na(za(Y)),ta(W),Zi(fe),ea(X),Xi(N),au(N)]),D)]))}({l:y,m:i,w:d,p:P,q:p(1)})}),e.q,e.l,e.p)),u(Le,Wn,qe(Gi,R(function(p,y,P){return function(q){var N=q.w,Y=q.m,W=q.q,X=q.p,fe=q.l;return u(nt,$([pe("input-resize-containter"),u(Ar,"data-content",Y)]),$([u(Va,$([Ya("text"),pe("item-quantity-unit-field with-click-outside"),na(Y),ta(W),Zi(fe),ea(X),Xi(N),au(N)]),D)]))}({l:y,m:o,w:s,p:P,q:p(2)})}),e.q,e.l,e.p))])):u(nt,$([Ut(u(e.az,0,d))]),$([u(yc,D,$([Re(za(i))])),u(nt,D,$([Re(o)]))]))}),gc=function(e){var t,i,o,s=e,d=s.av?u(Vo,$([(t=Ao({g:s.g.b8}),zo(Jo(t)))]),$([hc(D)])):Re(""),p=s.aw&&s.g.al===2;return u(Vf,$([pe("grocery-item"),nu($([T("in-basket",p),T("item-draft",s.aq)])),Ut(u(Uf,s.g,s.g.al))]),$([u(Lt,$([pe("label")]),$([qe(Jf,function(){return u(Lf,s.g,s.g.al)},!1,s.H?0:1,u(zf,s.g.al,s.an)),u(Yf,D,$([ul({l:ee(iu),m:s.g.bU,p:ee(iu),q:ee(u(Ua,s.g,0)),ah:s.g.bM,az:La(s.g),aA:s.aA,aF:!s.ar}),u(nl,function(y){return u(nt,D,$([Re(y)]))},s.g.cc)]))])),u(nt,$([pe("item-quantity")]),$([u(il,{l:ee(iu),p:ee(iu),q:ee(Ua(s.g)),ah:s.g.bM,az:La(s.g),aA:s.aA,aF:!s.H},s.g.b1)])),u(Lt,$([pe("item-comment-box")]),$([el({l:ee(iu),m:s.g.bA,p:ee(iu),q:ee(u(Ua,s.g,3)),ah:s.g.bM,az:La(s.g),aA:s.aA,aF:!s.H}),u(tl,s.H,u(Lt,$([pe("delete-item-button"),Ut((o=s.g.bM,{$:4,a:o}))]),$([(i=D,u(ln,be(fn,i),$([u(Ve,$([Ue("M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6")]),D),u(Ve,$([Ue("M3 6h18")]),D),u(Ve,$([Ue("M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2")]),D)])))]))),d]))]))},al=function(e){var t,i=e.g,o=e.K;return e.aA?u(uu,function(s){return s.$===3?u(Bf,s.b,s.c):Qi},gc(function(s){return H(s,{aq:!0})}(bc({an:D,ar:!0,g:i,aA:!0})))):u(Pr,$([pe("add-item-button outline"),Ut(u(Ff,o,"item-name-"+i.bM))]),$([(t=D,u(ln,be(fn,t),$([u(Fi,$([Li("12"),Ui("12"),Vi("10")]),D),u(Ve,$([Ue("M8 12h8")]),D),u(Ve,$([Ue("M12 8v8")]),D)])))]))},ol=Ln,cl=R(function(e,t,i){return{$:8,a:e,b:t,c:i}}),sl=R(function(e,t,i){return{$:9,a:e,b:t,c:i}}),fl=v(function(e,t){return{$:2,a:e,b:t}}),ll=v(function(e,t){return{$:1,a:e,b:t}}),dl=function(e){return H(e,{av:!0})},hl=function(e){return H(e,{aw:!0})},pl=function(e){return H(e,{H:!0})},vl=Fe(function(e,t,i,o,s,d,p){return u(uu,function(y){switch(y.$){case 1:return u(fl,y.a,y.b);case 0:return u(ll,y.a,y.b);case 2:var P=y.b;return p?M(cl,y.a,P,y.c):Qi;case 3:return P=y.b,p?M(sl,y.a,P,y.c):Qi;case 4:return{$:10,a:y.a};default:return Qi}},gc((o?pl:me)((t?hl:me)((i?dl:me)(bc({an:s,ar:p,g:e,aA:d}))))))}),bl=v(function(e,t){return M(dc,"div",D,u(m,function(s){var d=s.a,p=s.b,y=u(Le,!1,u(Se,function(P){return _e(P.bM,d)},e.V));return T(d,it(ol,vl,y?u(Le,p,e.V):p,e.aw,e.av,e.H,e.ao,y,e.ar))},(i=T(e.ai,t),o=i.a,u(m,function(s){return T(s.bM,s)},u(Ri,me,u(m,function(s){return u(jn,s,o)},i.b.ai))))));var i,o}),ml=v(function(e,t){var i,o=u(qf,t.bM,e.ag)?1:0;return T(vt(t.bM),u(Lt,$([pe("grocery-category")]),$([M(Nf,e,o,t),u(Mf,o,$([u(bl,e,t),(i=e.aq,i.$?Wn:al({K:t,g:i.a,aA:_e(u(Le,-1,e.ae),t.bM)}))]))])))}),wc=function(e){var t=e;return M(dc,"div",D,u(m,ml(t),t.af))},yl=R(function(e,t,i){return H(i,{ae:e,aq:t})}),gl=v(function(e,t){return H(t,{ar:!0,V:e})}),wl=function(e){return H(e,{ar:!0,H:!0})},_l=v(function(e,t){return{aK:$([u(uu,Cf,wc(M(yl,t.ae,t.aq,u(gl,t.V,wl((i=lc({af:t.af,an:$([1,2]),ag:t.D,ai:t.ai}),H(i,{av:!0})))))))]),bk:e.aH+"Ð¡Ð¿Ð¸ÑÐ¾Ðº"};var i}),ra=v(function(e,t){return H(t,{Z:ee(e)})}),ou=v(function(e){return u(ra,yf,Xu({O:vf,T:bf,ab:Tf,ac:_l(e)}))}),kl=R(function(e,t){var i=u(Le,"",To(t.g));return T({aq:Q,g:Q,b8:i},ke)}),$l=function(){return Tn},xl={$:3},Ol=function(){return{aj:xl}},El=R(function(e,t,i){return T(i,ke)}),Pl=v(function(e,t){return{aK:$([u(Lt,$([pe("empty-page")]),$([Re("ÐÐ¸ÑÐµÐ³Ð¾ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ð¾")]))]),bk:be(e.aH,t.b8)}}),cu=v(function(e,t){return u(ra,Ol,Xu({O:u(kl,e,t.bZ),T:$l,ab:El(e),ac:Pl(e)}))}),Al=function(){return T({},ke)},jl=function(){return Tn},Sl=v(function(e,t){return T(t,ke)}),_c=function(e){return{aK:$([Re(e)]),bk:e}},Kl=function(){return _c("Page not found")},su=v(function(){return Xu({O:Al,T:jl,ab:Sl,ac:Kl})}),Tl=function(){return T({aY:Q},ke)},Cl=function(){return Tn},ql={$:0},Ml=function(){return{aj:ql}},Il=function(e){return{$:5,a:e}},Dl=function(e){return{$:4,a:e}},Rl=function(e){return{$:3,a:e}},Nl=v(function(e,t){return u(_,t,function(i){return Ze(function(o){(cr=document.createElement("input")).type="file",cr.accept=u(_t,",",i),cr.addEventListener("change",function(s){o(wt(s.target.files[0]))}),Vn(cr)})}(e))}),Bl=qe(wo,R(function(e,t,i){return{af:i,ai:t,bo:e}}),u(A,"version",_r),u(A,"items",$o(Aa)),u(A,"categories",Ci(yo))),Fl=R(function(e,t,i){return u(_,c,M(qu,e,t,i))}),Ll=R(function(e,t,i){switch(t.$){case 0:return T(i,ke);case 1:return T(i,Ra(Il));case 2:return T(i,Zu(u(Nl,$(["application/json"]),Rl)));case 3:return T(i,Zu(u(_,Dl,function(d){return Ze(function(p){var y=new FileReader;return y.addEventListener("loadend",function(){p(wt(y.result))}),y.readAsText(d),function(){y.abort()}})}(t.a))));case 4:return T(i,function(d){var p=u(ka,Bl,d);return Ge(p.$?{$:3,a:ee(hr(p.a))}:{$:2,a:p.a})}(t.a));default:var o=t.a;if(o.$)return T(i,ke);var s=o.a;return T(i,Zu(M(Fl,"grocery-list-backup.json","application/json",u(Yn,2,eu($([T("version",Sn(e.aQ.bo)),T("categories",u(ja,Sa,s.af)),T("items",M(Ta,me,Mi,s.ai))]))))))}}),Ul={$:1},Vl={$:2},Yl=Me("h1"),kc=Me("h2"),zl=v(function(e){return{aK:$([u(Yl,D,$([Re("ÐÐ°ÑÑÑÐ¾Ð¹ÐºÐ¸")])),u(Lt,D,$([u(kc,D,$([Re("Ð¢ÐµÐ¼Ð°")])),u(Lt,$([pe("button-row"),mc("group")]),$([u(Pr,D,$([Re("ÐÐ°Ðº Ð² ÑÐ¸ÑÑÐµÐ¼Ðµ")])),u(Pr,$([pe("secondary")]),$([Re("Ð¡Ð²ÐµÑÐ»Ð°Ñ")])),u(Pr,$([pe("secondary")]),$([Re("Ð¢ÑÐ¼Ð½Ð°Ñ")]))]))])),u(Lt,D,$([u(kc,D,$([Re("Ð­ÐºÑÐ¿Ð¾ÑÑ Ð¸ Ð¸Ð¼Ð¿Ð¾ÑÑ")])),u(Pr,$([Ut(Ul)]),$([Re("Ð­ÐºÑÐ¿Ð¾ÑÑ Ð´Ð°Ð½Ð½ÑÑ")])),u(Pr,$([Ut(Vl)]),$([Re("ÐÐ¼Ð¿Ð¾ÑÑ Ð¸Ð· ÑÐ°Ð¹Ð»Ð°")]))]))]),bk:e.aH+"ÐÐ°ÑÑÑÐ¾Ð¹ÐºÐ¸"}}),fu=v(function(e){return u(ra,Ml,Xu({O:Tl,T:Cl,ab:Ll(e),ac:zl(e)}))}),Ha=function(e){return{$:2,a:e}},Hl=function(){return T({af:D,D:ec,as:Q,ai:Ot},Ra(function(e){return e.$?Ha(Q):{$:1,a:e.a}}))},Jl=function(){return Tn},Ja={$:0},Wl=function(){return{aj:Ja}},$c=v(function(e,t){return u(Wi,v(function(i,o){return e(o)}),t)}),Ql=v(function(e,t){return u(yr,e,t)}),Gl=v(function(e,t){switch(e.$){case 0:case 2:return T(t,ke);case 1:var i=e.a;return T(H(t,{af:i.af,ai:i.ai}),ke);case 3:var o=u($c,function(P){return P.al===2?H(P,{al:0}):P},t.ai);return T(H(t,{ai:o}),u(Ql,function(P){return!P.$&&P.a?Ja:Ha(Q)},o));default:var s=e.a;switch(s.$){case 0:var d=s.a;return T(H(t,{D:o=u(s.b?ac:oc,d,t.D)}),ke);case 1:var p=s.a,y=s.b===1?2:1;return T(H(t,{ai:M(cc,y,p.bM,t.ai)}),u(Hi,function(P){return P.$===1?Ha(Q):Ja},H(p,{al:y})));default:return T(t,ke)}}}),Xl=function(e){return{$:4,a:e}},Zl=v(function(e,t){return M(Ka,R(function(i,o,s){return u(e,i,o)?M(Xr,i,o,s):s}),Ot,t)}),ed=v(function(e,t){return u(Zl,v(function(i,o){return u(Ji,o.al,t)}),e)}),td=v(function(e,t){return u(Kn,function(i){return u(Ba,function(o){return u(Fa,o,e)},i.ai)},t)}),xc=v(function(e,t){for(;;){if(t.$===-2)return e;var i=t.d;e=u(xc,e+1,t.e),t=i}}),Wa=function(e){return u(xc,0,e)},nd=u(Lt,$([pe("empty-page")]),$([u(pc,D,$([Re("ÐÑÑ ÐºÑÐ¿Ð»ÐµÐ½Ð¾!")]))])),rd={$:3},ud=$t,id=v(function(e,t){return u(nr,e,ud(t))})("disabled"),Oc=function(e){return On(u(Kn,function(i){return i.al===2},(t=e,M(Lr,R(function(i,o,s){return u(Be,o,s)}),D,t))));var t},ad=function(e){var t=Wa(e);return t>0&&1>Xe(t,Oc(e))},od=function(e){return H(e,{ap:!0})},cd=v(function(e,t){return{aK:(s=u(ed,t.ai,$([1,2])),d=u(td,s,t.af),Wa(s)>0?$([u(uu,Xl,wc(od((o=lc({af:d,an:$([2]),ag:t.D,ai:s}),H(o,{aw:!0}))))),(i=s,Wa(i)>0?u(Pr,$([pe("end-shopping-button"),nu($([T("all-done",ad(i))])),Ut(rd),id(0>=Oc(i))]),$([M(vc,u($c,function(p){return p.al},i),Ur(i),2),Re("ÐÐ°ÐºÐ¾Ð½ÑÐ¸ÑÑ Ð¿Ð¾ÐºÑÐ¿ÐºÐ¸")])):Wn)]):$([nd])),bk:e.aH+"ÐÐ¾ÐºÑÐ¿ÐºÐ¸: Ð Ð¼Ð°Ð³Ð°Ð·Ð¸Ð½Ðµ"};var i,o,s,d}),lu=v(function(e){return u(ra,Wl,Xu({O:Hl,T:Jl,ab:Gl,ac:cd(e)}))}),Ec=function(e){var t=Di(e.cg);switch(t.$){case 0:var i=u(Wu,q=u(ou,e.b7,u(ne,0,e.cg)),0),o=i.a,s=i.b;return{d:u(Se,Gu(e),u(Se,hn(u(C,kr,Te)),u(dn,o,q))),f:M(Ft,Co,u(C,ft(kr),sn(e)),T(o,s))};case 1:var d=t.a,p=u(Wu,q=u(cu,e.b7,u(ne,d,e.cg)),0);return o=p.a,s=p.b,{d:u(Se,Gu(e),u(Se,hn(u(C,$r,Te)),u(dn,o,q))),f:M(Ft,qo(d),u(C,ft($r),sn(e)),T(o,s))};case 2:var y=u(Wu,q=u(fu,e.b7,u(ne,0,e.cg)),0);return o=y.a,s=y.b,{d:u(Se,Gu(e),u(Se,hn(u(C,Or,Te)),u(dn,o,q))),f:M(Ft,Io,u(C,ft(Or),sn(e)),T(o,s))};case 3:var P=u(Wu,q=u(lu,e.b7,u(ne,0,e.cg)),0);return o=P.a,s=P.b,{d:u(Se,Gu(e),u(Se,hn(u(C,Er,Te)),u(dn,o,q))),f:M(Ft,Do,u(C,ft(Er),sn(e)),T(o,s))};default:var q,N=u(Wu,q=u(su,e.b7,u(ne,0,e.cg)),0);return o=N.a,s=N.b,{d:u(Se,Gu(e),u(Se,hn(u(C,xr,Te)),u(dn,o,q))),f:M(Ft,Mo,u(C,ft(xr),sn(e)),T(o,s))}}},sd=R(function(e,t,i){var o=u(Is,u(S,I,e),u(ne,0,t)),s=o.a,d=o.b,p=Ec({au:i,d:Q,b7:s,cg:t}),y=p.f,P=p.d;return T({au:i,d:u(Se,Uu,P),f:y.a,b7:s,cg:t},O($([y.b,u(Le,cn,u(Se,Yo,P)),u(Oo,{au:i,b7:s,cg:t},d)])))}),Et=tr,fd=function(e){return e.T},ei=function(e){return e.T},ld=v(function(){return Tn}),du=function(e){var t=e.f;switch(t.$){case 0:var i=t.a;return u(Se,hn(u(C,kr,Te)),u(dn,i,u(ou,e.b7,u(ne,0,e.cg))));case 1:var o=t.a;return i=t.b,u(Se,hn(u(C,$r,Te)),u(dn,i,u(cu,e.b7,u(ne,o,e.cg))));case 2:return i=t.a,u(Se,hn(u(C,Or,Te)),u(dn,i,u(fu,e.b7,u(ne,0,e.cg))));case 3:return i=t.a,u(Se,hn(u(C,Er,Te)),u(dn,i,u(lu,e.b7,u(ne,0,e.cg))));case 4:return i=t.a,u(Se,hn(u(C,xr,Te)),u(dn,i,u(su,e.b7,u(ne,0,e.cg))));default:return Q}},Pc=v(function(){return function(e){return{$:3,a:e}}({bJ:Q,b_:Eo,b2:Ot})}),Ac=R(function(e,t,i){return t.$===1||i.$===1?Q:ee(u(e,t.a,i.a))}),jc=v(function(e,t){return T(e,t)}),Sc=function(e){return M(b,nc,D,e)},dd=v(function(e,t){var i,o=t;return Sc($([(i=o.S,i.$?D:$([(0,i.a)(e)])),function(){var s=o.R;if(s.$)return D;var d=s.a;return _e(e.M.bJ,e.Y.bJ)?D:$([d({M:e.M.bJ,Y:e.Y.bJ})])}(),u(Ri,function(s){var d=s.a,p=s.b,y=u(jn,d,e.Y.b2),P=u(jn,d,e.M.b2);return _e(P,y)?Q:ee(p({M:P,Y:y}))},sr(o.F))]))}),Kc=R(function(e,t,i){var o,s=function(y){var P=y.M,q=y.Y;return u(Ba,function(N){return!N.$},$([M(Ac,jc,P,q),M(Ac,jc,q,P)]))}({M:du(e),Y:du(t)}),d=u(ne,0,t.cg),p=T(du(t),t.d);return p.a.$||p.b.$?cn:(o=u(m,Ni,u(m,me,u(dd,i,M(Qu,p.a.a,t.b7,d)))),s?O(u(m,u(C,f,_(me)),o)):cn)}),ti=v(function(e,t){var i,o=t;return Sc($([(i=o.S,i.$?D:$([(0,i.a)(e)])),function(){var s=o.R;if(s.$)return D;var d=s.a;return _e(e.M.bJ,e.Y.bJ)?D:$([d({M:e.M.bJ,Y:e.Y.bJ})])}(),u(Ri,function(s){var d=s.a,p=s.b,y=u(jn,d,e.Y.b2),P=u(jn,d,e.M.b2);return _e(P,y)?Q:ee(p({M:P,Y:y}))},sr(o.F))]))}),hd=v(function(e,t){var i=function(s){return O(u(m,u(C,f,_(me)),s))},o=e.f;switch(o.$){case 0:return i(u(m,Te,u(m,kr,u(ti,t,u(ou,e.b7,u(ne,0,e.cg))))));case 1:return i(u(m,Te,u(m,$r,u(ti,t,u(cu,e.b7,u(ne,o.a,e.cg))))));case 2:return i(u(m,Te,u(m,Or,u(ti,t,u(fu,e.b7,u(ne,0,e.cg))))));case 3:return i(u(m,Te,u(m,Er,u(ti,t,u(lu,e.b7,u(ne,0,e.cg))))));case 4:return i(u(m,Te,u(m,xr,u(ti,t,u(su,e.b7,u(ne,0,e.cg))))));default:return cn}}),pd=v(function(e,t){return e.$===1?t:t+":"+vt(e.a)}),Tc=R(function(e,t,i){return t.$===1?i:be(i,be(e,t.a))}),vd={$:0},bd=v(function(e,t){return u(an,e,t)}),md=v(function(e,t){return H(e,{bh:t})}),yd=R(function(e,t,i){switch(t.$){case 0:return T(i,ke);case 1:return T(H(i,{aQ:u(md,i.aQ,t.a.$?2:1)}),ke);case 3:return T(H(i,{as:t.a}),ke);default:return T(i,u(bd,function(){return vd},t.a))}}),gd=function(e){return e.ab},wd=v(function(e,t){var i=u(ne,0,t.cg),o={a:du(t),b:t.d,c:e};if(o.a.$||o.b.$)return T(t.d,cn);var s=o.a.a,d=o.b.a,p=o.c;return M(Ft,function(y){return ee(H(d,{Q:y}))},u(C,ft(me),Ro(t)),M(gd,M(Qu,s,t.b7,i),p,d.Q))}),ni=function(e){return e.ab},_d=v(function(e,t){var i=T(e,t.f);e:for(;;)switch(i.a.$){case 0:if(i.b.$)break e;var o=i.a.a,s=i.b.a;return M(Ft,Co,u(C,ft(kr),sn(t)),M(ni,u(ou,t.b7,u(ne,0,t.cg)),o,s));case 1:if(i.b.$===1){o=i.a.a;var d=i.b,p=d.a;return s=d.b,M(Ft,qo(p),u(C,ft($r),sn(t)),M(ni,u(cu,t.b7,u(ne,p,t.cg)),o,s))}break e;case 2:if(i.b.$===2)return o=i.a.a,s=i.b.a,M(Ft,Io,u(C,ft(Or),sn(t)),M(ni,u(fu,t.b7,u(ne,0,t.cg)),o,s));break e;case 3:if(i.b.$===3)return o=i.a.a,s=i.b.a,M(Ft,Do,u(C,ft(Er),sn(t)),M(ni,u(lu,t.b7,u(ne,0,t.cg)),o,s));break e;default:if(i.b.$===4)return o=i.a.a,s=i.b.a,M(Ft,Mo,u(C,ft(xr),sn(t)),M(ni,u(su,t.b7,u(ne,0,t.cg)),o,s));break e}return T(t.f,cn)}),kd=v(function(e,t){switch(e.$){case 0:return e.a.$?st(Ko(i=e.a.a))?T(t,cn):T(t,vo(i)):T(t,u(bo,t.au,function(ve){return M(Tc,"#",ve.bF,M(Tc,"?",ve.b2,be(u(pd,ve.b$,be(ve.b0?"https://":"http://",ve.bL)),ve.b_)))}(i=e.a.a)));case 1:var i;if(_e(Di(i=e.a),Di(t.cg)))return T(o=H(t,{cg:i}),O($([u(hd,o,{M:u(ne,0,t.cg),Y:u(ne,0,o.cg)}),M(Kc,t,o,{M:u(ne,0,t.cg),Y:u(ne,0,o.cg)})])));var o,s=Ec({au:t.au,d:t.d,b7:t.b7,cg:i}),d=s.f,p=s.d,y=function(){if(p.$)return T(Q,cn);var ve=p.a,je=ve.b;return T(ee(ve.a),je)}(),P=y.b,q=d.b;return T(o=H(t,{d:y.a,f:d.a,cg:i}),O($([q,P,M(Kc,t,o,{M:u(ne,0,t.cg),Y:u(ne,0,o.cg)})])));case 2:var N=u(_d,e.a,t);return q=N.b,T(H(t,{f:N.a}),q);case 3:var Y=u(wd,e.a,t);return P=Y.b,T(H(t,{d:Y.a}),P);case 4:var W=e.a,X=M(yd,u(ne,0,t.cg),W,t.b7),fe=X.a,Oe=X.b;return T(u(Pc,t.b7,u(ne,0,t.cg)),u(Pc,fe,u(ne,0,t.cg))),T(H(t,{b7:fe}),u(Oo,H(t,{b7:fe}),Oe));default:var he=e.a;return T(t,O(u(m,u(C,f,_(me)),he)))}}),$d=function(e){return e.ac},Vt=v(function(e,t){return{aK:u(m,uu(e),t.aK),bk:t.bk}}),xd={aK:D,bk:""},ri=function(e){return e.ac},Od=v(function(){return _c("Loading...")}),Cc=function(e){var t=e.f;switch(t.$){case 0:var i=t.a;return u(Vt,Te,u(Vt,kr,u(ri,u(ou,e.b7,u(ne,0,e.cg)),i)));case 1:return i=t.b,u(Vt,Te,u(Vt,$r,u(ri,u(cu,e.b7,u(ne,t.a,e.cg)),i)));case 2:return i=t.a,u(Vt,Te,u(Vt,Or,u(ri,u(fu,e.b7,u(ne,0,e.cg)),i)));case 3:return i=t.a,u(Vt,Te,u(Vt,Er,u(ri,u(lu,e.b7,u(ne,0,e.cg)),i)));case 4:return i=t.a,u(Vt,Te,u(Vt,xr,u(ri,u(su,e.b7,u(ne,0,e.cg)),i)));case 5:return xd;default:return u(Vt,c,u(Od,e.b7,u(ne,0,e.cg)))}},Ed=function(e){var t=e.bX,i=e.bY,o=function(){o.a(t(Fr()))};return Br({aD:function(s){return o.a=s,tn.addEventListener("popstate",o),0>tn.navigator.userAgent.indexOf("Trident")||tn.addEventListener("hashchange",o),v(function(d,p){if(!(p.ctrlKey||p.metaKey||p.shiftKey||p.button>=1||d.target||d.hasAttribute("download"))){p.preventDefault();var y=d.href,P=Fr(),q=a(y).a;s(i(q&&P.b0===q.b0&&P.bL===q.bL&&P.b$.a===q.b$.a?function(N){return{$:0,a:N}}(q):function(N){return{$:1,a:N}}(y)))}})},O:function(s){return M(e.O,s,Fr(),o)},ac:e.ac,ab:e.ab,T:e.T})}({O:sd,bX:function(e){return{$:1,a:e}},bY:function(e){return{$:0,a:e}},T:function(e){var t=function(){var d=e.f;switch(d.$){case 0:var p=d.a;return u(Et,Te,u(Et,kr,u(ei,u(ou,e.b7,u(ne,0,e.cg)),p)));case 1:return p=d.b,u(Et,Te,u(Et,$r,u(ei,u(cu,e.b7,u(ne,d.a,e.cg)),p)));case 2:return p=d.a,u(Et,Te,u(Et,Or,u(ei,u(fu,e.b7,u(ne,0,e.cg)),p)));case 3:return p=d.a,u(Et,Te,u(Et,Er,u(ei,u(lu,e.b7,u(ne,0,e.cg)),p)));case 4:return p=d.a,u(Et,Te,u(Et,xr,u(ei,u(su,e.b7,u(ne,0,e.cg)),p)));default:return Tn}}(),i=u(ne,0,e.cg),o=du(e),s=function(){var d=T(o,e.d);if(d.a.$||d.b.$)return Tn;var p=d.b.a;return u(Et,Ni,u(Et,me,u(fd,M(Qu,d.a.a,e.b7,i),p.Q)))}();return No($([u(Et,L,u(ld,i,e.b7)),t,s]))},ab:kd,ac:function(e){var t,i=function(o){var s=u(ne,0,o.cg),d=T(du(o),o.d);if(d.a.$||d.b.$)return Cc(o);var p=d.b.a;return u($d,M(Qu,d.a.a,o.b7,s),{m:Cc(o),bS:p.Q,cf:u(C,me,Ni)})}(e);return{aK:(u(ne,0,e.cg),e.b7,t=i).aK,bk:t.bk}}});Ea={Main:{init:Ed(so)(0)}},Ee.Elm?function e(t,i){for(var o in i)o in t?o=="init"?Qn(6):e(t[o],i[o]):t[o]=i[o]}(Ee.Elm,Ea):Ee.Elm=Ea}(this),(Ee=>{const we=["Main"];let v=[...we],R=Ee;for(;v.length>0;){let ae=v.shift();R=R[ae]}return R.__elmModulePath=we,R})(this.Elm)}}.run();var Ic={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};let Xa=async({Interop:se})=>{let Ee=Object.keys(Ic).reduce((v,R)=>(R.startsWith("ELM_LAND_")&&(v[R.slice(9)]=Ic[R]),v),{}),we;if(se.flags&&(we=await se.flags({env:Ee})),Ga&&Ga.init){let v=Ga.init({flags:we});se.onReady&&se.onReady({app:v,env:Ee})}};const Fd=async()=>{try{await Xa({Interop:Object.assign({"../../src/interop.ts":Bd})["../../src/interop.ts"]})}catch{try{await Xa({Interop:Object.assign({})["../../src/interop.js"]})}catch{await Xa({Interop:{}})}}};Fd();
